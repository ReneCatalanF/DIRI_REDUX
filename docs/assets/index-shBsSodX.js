var my=Object.defineProperty;var gy=(i,t,r)=>t in i?my(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var Oi=(i,t,r)=>gy(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function _y(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var $u={exports:{}},Ai={},Vu={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dh;function yy(){if(dh)return ne;dh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),v=Symbol.iterator;function T(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,H={};function F(E,R,te){this.props=E,this.context=R,this.refs=H,this.updater=te||A}F.prototype.isReactComponent={},F.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function re(){}re.prototype=F.prototype;function J(E,R,te){this.props=E,this.context=R,this.refs=H,this.updater=te||A}var $=J.prototype=new re;$.constructor=J,O($,F.prototype),$.isPureReactComponent=!0;var V=Array.isArray,X=Object.prototype.hasOwnProperty,Z={current:null},he={key:!0,ref:!0,__self:!0,__source:!0};function ee(E,R,te){var ie,ae={},ce=null,_e=null;if(R!=null)for(ie in R.ref!==void 0&&(_e=R.ref),R.key!==void 0&&(ce=""+R.key),R)X.call(R,ie)&&!he.hasOwnProperty(ie)&&(ae[ie]=R[ie]);var pe=arguments.length-2;if(pe===1)ae.children=te;else if(1<pe){for(var Te=Array(pe),ht=0;ht<pe;ht++)Te[ht]=arguments[ht+2];ae.children=Te}if(E&&E.defaultProps)for(ie in pe=E.defaultProps,pe)ae[ie]===void 0&&(ae[ie]=pe[ie]);return{$$typeof:i,type:E,key:ce,ref:_e,props:ae,_owner:Z.current}}function He(E,R){return{$$typeof:i,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function Rt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function qt(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(te){return R[te]})}var Ut=/\/+/g;function dt(E,R){return typeof E=="object"&&E!==null&&E.key!=null?qt(""+E.key):R.toString(36)}function xt(E,R,te,ie,ae){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(ce){case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case i:case t:_e=!0}}if(_e)return _e=E,ae=ae(_e),E=ie===""?"."+dt(_e,0):ie,V(ae)?(te="",E!=null&&(te=E.replace(Ut,"$&/")+"/"),xt(ae,R,te,"",function(ht){return ht})):ae!=null&&(Rt(ae)&&(ae=He(ae,te+(!ae.key||_e&&_e.key===ae.key?"":(""+ae.key).replace(Ut,"$&/")+"/")+E)),R.push(ae)),1;if(_e=0,ie=ie===""?".":ie+":",V(E))for(var pe=0;pe<E.length;pe++){ce=E[pe];var Te=ie+dt(ce,pe);_e+=xt(ce,R,te,Te,ae)}else if(Te=T(E),typeof Te=="function")for(E=Te.call(E),pe=0;!(ce=E.next()).done;)ce=ce.value,Te=ie+dt(ce,pe++),_e+=xt(ce,R,te,Te,ae);else if(ce==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return _e}function Bt(E,R,te){if(E==null)return E;var ie=[],ae=0;return xt(E,ie,"","",function(ce){return R.call(te,ce,ae++)}),ie}function rt(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(te){(E._status===0||E._status===-1)&&(E._status=1,E._result=te)},function(te){(E._status===0||E._status===-1)&&(E._status=2,E._result=te)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var Pe={current:null},L={transition:null},q={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:L,ReactCurrentOwner:Z};function j(){throw Error("act(...) is not supported in production builds of React.")}return ne.Children={map:Bt,forEach:function(E,R,te){Bt(E,function(){R.apply(this,arguments)},te)},count:function(E){var R=0;return Bt(E,function(){R++}),R},toArray:function(E){return Bt(E,function(R){return R})||[]},only:function(E){if(!Rt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ne.Component=F,ne.Fragment=r,ne.Profiler=u,ne.PureComponent=J,ne.StrictMode=o,ne.Suspense=m,ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,ne.act=j,ne.cloneElement=function(E,R,te){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ie=O({},E.props),ae=E.key,ce=E.ref,_e=E._owner;if(R!=null){if(R.ref!==void 0&&(ce=R.ref,_e=Z.current),R.key!==void 0&&(ae=""+R.key),E.type&&E.type.defaultProps)var pe=E.type.defaultProps;for(Te in R)X.call(R,Te)&&!he.hasOwnProperty(Te)&&(ie[Te]=R[Te]===void 0&&pe!==void 0?pe[Te]:R[Te])}var Te=arguments.length-2;if(Te===1)ie.children=te;else if(1<Te){pe=Array(Te);for(var ht=0;ht<Te;ht++)pe[ht]=arguments[ht+2];ie.children=pe}return{$$typeof:i,type:E.type,key:ae,ref:ce,props:ie,_owner:_e}},ne.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},ne.createElement=ee,ne.createFactory=function(E){var R=ee.bind(null,E);return R.type=E,R},ne.createRef=function(){return{current:null}},ne.forwardRef=function(E){return{$$typeof:p,render:E}},ne.isValidElement=Rt,ne.lazy=function(E){return{$$typeof:w,_payload:{_status:-1,_result:E},_init:rt}},ne.memo=function(E,R){return{$$typeof:g,type:E,compare:R===void 0?null:R}},ne.startTransition=function(E){var R=L.transition;L.transition={};try{E()}finally{L.transition=R}},ne.unstable_act=j,ne.useCallback=function(E,R){return Pe.current.useCallback(E,R)},ne.useContext=function(E){return Pe.current.useContext(E)},ne.useDebugValue=function(){},ne.useDeferredValue=function(E){return Pe.current.useDeferredValue(E)},ne.useEffect=function(E,R){return Pe.current.useEffect(E,R)},ne.useId=function(){return Pe.current.useId()},ne.useImperativeHandle=function(E,R,te){return Pe.current.useImperativeHandle(E,R,te)},ne.useInsertionEffect=function(E,R){return Pe.current.useInsertionEffect(E,R)},ne.useLayoutEffect=function(E,R){return Pe.current.useLayoutEffect(E,R)},ne.useMemo=function(E,R){return Pe.current.useMemo(E,R)},ne.useReducer=function(E,R,te){return Pe.current.useReducer(E,R,te)},ne.useRef=function(E){return Pe.current.useRef(E)},ne.useState=function(E){return Pe.current.useState(E)},ne.useSyncExternalStore=function(E,R,te){return Pe.current.useSyncExternalStore(E,R,te)},ne.useTransition=function(){return Pe.current.useTransition()},ne.version="18.3.1",ne}var hh;function bo(){return hh||(hh=1,Vu.exports=yy()),Vu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function vy(){if(ph)return Ai;ph=1;var i=bo(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var w,v={},T=null,A=null;g!==void 0&&(T=""+g),m.key!==void 0&&(T=""+m.key),m.ref!==void 0&&(A=m.ref);for(w in m)o.call(m,w)&&!c.hasOwnProperty(w)&&(v[w]=m[w]);if(p&&p.defaultProps)for(w in m=p.defaultProps,m)v[w]===void 0&&(v[w]=m[w]);return{$$typeof:t,type:p,key:T,ref:A,props:v,_owner:u.current}}return Ai.Fragment=r,Ai.jsx=d,Ai.jsxs=d,Ai}var mh;function wy(){return mh||(mh=1,$u.exports=vy()),$u.exports}var Q=wy(),Ne=bo();const Sy=_y(Ne);var mo={},Gu={exports:{}},at={},Ku={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gh;function Ey(){return gh||(gh=1,function(i){function t(L,q){var j=L.length;L.push(q);e:for(;0<j;){var E=j-1>>>1,R=L[E];if(0<u(R,q))L[E]=q,L[j]=R,j=E;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var q=L[0],j=L.pop();if(j!==q){L[0]=j;e:for(var E=0,R=L.length,te=R>>>1;E<te;){var ie=2*(E+1)-1,ae=L[ie],ce=ie+1,_e=L[ce];if(0>u(ae,j))ce<R&&0>u(_e,ae)?(L[E]=_e,L[ce]=j,E=ce):(L[E]=ae,L[ie]=j,E=ie);else if(ce<R&&0>u(_e,j))L[E]=_e,L[ce]=j,E=ce;else break e}}return q}function u(L,q){var j=L.sortIndex-q.sortIndex;return j!==0?j:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],g=[],w=1,v=null,T=3,A=!1,O=!1,H=!1,F=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(L){for(var q=r(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=L)o(g),q.sortIndex=q.expirationTime,t(m,q);else break;q=r(g)}}function V(L){if(H=!1,$(L),!O)if(r(m)!==null)O=!0,rt(X);else{var q=r(g);q!==null&&Pe(V,q.startTime-L)}}function X(L,q){O=!1,H&&(H=!1,re(ee),ee=-1),A=!0;var j=T;try{for($(q),v=r(m);v!==null&&(!(v.expirationTime>q)||L&&!qt());){var E=v.callback;if(typeof E=="function"){v.callback=null,T=v.priorityLevel;var R=E(v.expirationTime<=q);q=i.unstable_now(),typeof R=="function"?v.callback=R:v===r(m)&&o(m),$(q)}else o(m);v=r(m)}if(v!==null)var te=!0;else{var ie=r(g);ie!==null&&Pe(V,ie.startTime-q),te=!1}return te}finally{v=null,T=j,A=!1}}var Z=!1,he=null,ee=-1,He=5,Rt=-1;function qt(){return!(i.unstable_now()-Rt<He)}function Ut(){if(he!==null){var L=i.unstable_now();Rt=L;var q=!0;try{q=he(!0,L)}finally{q?dt():(Z=!1,he=null)}}else Z=!1}var dt;if(typeof J=="function")dt=function(){J(Ut)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Bt=xt.port2;xt.port1.onmessage=Ut,dt=function(){Bt.postMessage(null)}}else dt=function(){F(Ut,0)};function rt(L){he=L,Z||(Z=!0,dt())}function Pe(L,q){ee=F(function(){L(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){O||A||(O=!0,rt(X))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):He=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(L){switch(T){case 1:case 2:case 3:var q=3;break;default:q=T}var j=T;T=q;try{return L()}finally{T=j}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=T;T=L;try{return q()}finally{T=j}},i.unstable_scheduleCallback=function(L,q,j){var E=i.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?E+j:E):j=E,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=j+R,L={id:w++,callback:q,priorityLevel:L,startTime:j,expirationTime:R,sortIndex:-1},j>E?(L.sortIndex=j,t(g,L),r(m)===null&&L===r(g)&&(H?(re(ee),ee=-1):H=!0,Pe(V,j-E))):(L.sortIndex=R,t(m,L),O||A||(O=!0,rt(X))),L},i.unstable_shouldYield=qt,i.unstable_wrapCallback=function(L){var q=T;return function(){var j=T;T=q;try{return L.apply(this,arguments)}finally{T=j}}}}(Qu)),Qu}var _h;function Cy(){return _h||(_h=1,Ku.exports=Ey()),Ku.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function ky(){if(yh)return at;yh=1;var i=bo(),t=Cy();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},v={};function T(e){return m.call(v,e)?!0:m.call(w,e)?!1:g.test(e)?v[e]=!0:(w[e]=!0,!1)}function A(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,n,s,l){if(n===null||typeof n>"u"||A(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function H(e,n,s,l,a,f,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=h}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new H(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new H(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new H(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new H(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new H(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new H(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)});var re=/[\-:]([a-z])/g;function J(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(re,J);F[n]=new H(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(re,J);F[n]=new H(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(re,J);F[n]=new H(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,n,s,l){var a=F.hasOwnProperty(n)?F[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(O(n,s,a,l)&&(s=null),l||a===null?T(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var V=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),Z=Symbol.for("react.portal"),he=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),He=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),qt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),L=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var j=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var te=!1;function ie(e,n){if(!e||te)return"";te=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(I){var l=I}Reflect.construct(e,[],n)}else{try{n.call()}catch(I){l=I}e.call(n.prototype)}else{try{throw Error()}catch(I){l=I}e()}}catch(I){if(I&&l&&typeof I.stack=="string"){for(var a=I.stack.split(`
`),f=l.stack.split(`
`),h=a.length-1,_=f.length-1;1<=h&&0<=_&&a[h]!==f[_];)_--;for(;1<=h&&0<=_;h--,_--)if(a[h]!==f[_]){if(h!==1||_!==1)do if(h--,_--,0>_||a[h]!==f[_]){var y=`
`+a[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=_);break}}}finally{te=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function ae(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case he:return"Fragment";case Z:return"Portal";case He:return"Profiler";case ee:return"StrictMode";case dt:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qt:return(e.displayName||"Context")+".Consumer";case Rt:return(e._context.displayName||"Context")+".Provider";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}function _e(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(n);case 8:return n===ee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ht(e){var n=Te(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,f.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function is(e){e._valueTracker||(e._valueTracker=ht(e))}function _c(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Te(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ss(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xo(e,n){var s=n.checked;return j({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function yc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=pe(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function vc(e,n){n=n.checked,n!=null&&$(e,"checked",n,!1)}function Jo(e,n){vc(e,n);var s=pe(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Zo(e,n.type,s):n.hasOwnProperty("defaultValue")&&Zo(e,n.type,pe(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function wc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Zo(e,n,s){(n!=="number"||ss(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Kr=Array.isArray;function ar(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+pe(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function el(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return j({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Kr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:pe(s)}}function Ec(e,n){var s=pe(n.value),l=pe(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function Cc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function kc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tl(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?kc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var os,Tc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(os=os||document.createElement("div"),os.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Qr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wg=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){wg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qr[n]=qr[e]})});function Ic(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||qr.hasOwnProperty(e)&&qr[e]?(""+n).trim():n+"px"}function Nc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=Ic(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var Sg=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(e,n){if(n){if(Sg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function rl(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function sl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ol=null,cr=null,fr=null;function Rc(e){if(e=_i(e)){if(typeof ol!="function")throw Error(r(280));var n=e.stateNode;n&&(n=xs(n),ol(e.stateNode,e.type,n))}}function xc(e){cr?fr?fr.push(e):fr=[e]:cr=e}function Pc(){if(cr){var e=cr,n=fr;if(fr=cr=null,Rc(e),n)for(e=0;e<n.length;e++)Rc(n[e])}}function Dc(e,n){return e(n)}function Oc(){}var ll=!1;function Ac(e,n,s){if(ll)return e(n,s);ll=!0;try{return Dc(e,n,s)}finally{ll=!1,(cr!==null||fr!==null)&&(Oc(),Pc())}}function Yr(e,n){var s=e.stateNode;if(s===null)return null;var l=xs(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var ul=!1;if(p)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){ul=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{ul=!1}function Eg(e,n,s,l,a,f,h,_,y){var I=Array.prototype.slice.call(arguments,3);try{n.apply(s,I)}catch(x){this.onError(x)}}var Jr=!1,ls=null,us=!1,al=null,Cg={onError:function(e){Jr=!0,ls=e}};function kg(e,n,s,l,a,f,h,_,y){Jr=!1,ls=null,Eg.apply(Cg,arguments)}function Tg(e,n,s,l,a,f,h,_,y){if(kg.apply(this,arguments),Jr){if(Jr){var I=ls;Jr=!1,ls=null}else throw Error(r(198));us||(us=!0,al=I)}}function zn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Mc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Lc(e){if(zn(e)!==e)throw Error(r(188))}function Ig(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var f=a.alternate;if(f===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===f.child){for(f=a.child;f;){if(f===s)return Lc(a),e;if(f===l)return Lc(a),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=a,l=f;else{for(var h=!1,_=a.child;_;){if(_===s){h=!0,s=a,l=f;break}if(_===l){h=!0,l=a,s=f;break}_=_.sibling}if(!h){for(_=f.child;_;){if(_===s){h=!0,s=f,l=a;break}if(_===l){h=!0,l=f,s=a;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Fc(e){return e=Ig(e),e!==null?zc(e):null}function zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=zc(e);if(n!==null)return n;e=e.sibling}return null}var bc=t.unstable_scheduleCallback,jc=t.unstable_cancelCallback,Ng=t.unstable_shouldYield,Rg=t.unstable_requestPaint,Oe=t.unstable_now,xg=t.unstable_getCurrentPriorityLevel,cl=t.unstable_ImmediatePriority,Uc=t.unstable_UserBlockingPriority,as=t.unstable_NormalPriority,Pg=t.unstable_LowPriority,Bc=t.unstable_IdlePriority,cs=null,Wt=null;function Dg(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(cs,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Mg,Og=Math.log,Ag=Math.LN2;function Mg(e){return e>>>=0,e===0?32:31-(Og(e)/Ag|0)|0}var fs=64,ds=4194304;function Zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,f=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~a;_!==0?l=Zr(_):(f&=h,f!==0&&(l=Zr(f)))}else h=s&~a,h!==0?l=Zr(h):f!==0&&(l=Zr(f));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,f=n&-n,a>=f||a===16&&(f&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Pt(n),a=1<<s,l|=e[s],n&=~a;return l}function Lg(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fg(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,f=e.pendingLanes;0<f;){var h=31-Pt(f),_=1<<h,y=a[h];y===-1?(!(_&s)||_&l)&&(a[h]=Lg(_,n)):y<=n&&(e.expiredLanes|=_),f&=~_}}function fl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Wc(){var e=fs;return fs<<=1,!(fs&4194240)&&(fs=64),e}function dl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ei(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pt(n),e[n]=s}function zg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Pt(s),f=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~f}}function hl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Pt(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var me=0;function Hc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $c,pl,Vc,Gc,Kc,ml=!1,ps=[],hn=null,pn=null,mn=null,ti=new Map,ni=new Map,gn=[],bg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qc(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ti.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(n.pointerId)}}function ri(e,n,s,l,a,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[a]},n!==null&&(n=_i(n),n!==null&&pl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function jg(e,n,s,l,a){switch(n){case"focusin":return hn=ri(hn,e,n,s,l,a),!0;case"dragenter":return pn=ri(pn,e,n,s,l,a),!0;case"mouseover":return mn=ri(mn,e,n,s,l,a),!0;case"pointerover":var f=a.pointerId;return ti.set(f,ri(ti.get(f)||null,e,n,s,l,a)),!0;case"gotpointercapture":return f=a.pointerId,ni.set(f,ri(ni.get(f)||null,e,n,s,l,a)),!0}return!1}function qc(e){var n=bn(e.target);if(n!==null){var s=zn(n);if(s!==null){if(n=s.tag,n===13){if(n=Mc(s),n!==null){e.blockedOn=n,Kc(e.priority,function(){Vc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=_l(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);il=l,s.target.dispatchEvent(l),il=null}else return n=_i(s),n!==null&&pl(n),e.blockedOn=s,!1;n.shift()}return!0}function Yc(e,n,s){ms(e)&&s.delete(n)}function Ug(){ml=!1,hn!==null&&ms(hn)&&(hn=null),pn!==null&&ms(pn)&&(pn=null),mn!==null&&ms(mn)&&(mn=null),ti.forEach(Yc),ni.forEach(Yc)}function ii(e,n){e.blockedOn===n&&(e.blockedOn=null,ml||(ml=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ug)))}function si(e){function n(a){return ii(a,e)}if(0<ps.length){ii(ps[0],e);for(var s=1;s<ps.length;s++){var l=ps[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hn!==null&&ii(hn,e),pn!==null&&ii(pn,e),mn!==null&&ii(mn,e),ti.forEach(n),ni.forEach(n),s=0;s<gn.length;s++)l=gn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)qc(s),s.blockedOn===null&&gn.shift()}var dr=V.ReactCurrentBatchConfig,gs=!0;function Bg(e,n,s,l){var a=me,f=dr.transition;dr.transition=null;try{me=1,gl(e,n,s,l)}finally{me=a,dr.transition=f}}function Wg(e,n,s,l){var a=me,f=dr.transition;dr.transition=null;try{me=4,gl(e,n,s,l)}finally{me=a,dr.transition=f}}function gl(e,n,s,l){if(gs){var a=_l(e,n,s,l);if(a===null)Ml(e,n,l,_s,s),Qc(e,l);else if(jg(a,e,n,s,l))l.stopPropagation();else if(Qc(e,l),n&4&&-1<bg.indexOf(e)){for(;a!==null;){var f=_i(a);if(f!==null&&$c(f),f=_l(e,n,s,l),f===null&&Ml(e,n,l,_s,s),f===a)break;a=f}a!==null&&l.stopPropagation()}else Ml(e,n,l,null,s)}}var _s=null;function _l(e,n,s,l){if(_s=null,e=sl(l),e=bn(e),e!==null)if(n=zn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Mc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return _s=e,null}function Xc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xg()){case cl:return 1;case Uc:return 4;case as:case Pg:return 16;case Bc:return 536870912;default:return 16}default:return 16}}var _n=null,yl=null,ys=null;function Jc(){if(ys)return ys;var e,n=yl,s=n.length,l,a="value"in _n?_n.value:_n.textContent,f=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[f-l];l++);return ys=a.slice(e,1<l?1-l:void 0)}function vs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function Zc(){return!1}function pt(e){function n(s,l,a,f,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=f,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ws:Zc,this.isPropagationStopped=Zc,this}return j(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vl=pt(hr),oi=j({},hr,{view:0,detail:0}),Hg=pt(oi),wl,Sl,li,Ss=j({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(wl=e.screenX-li.screenX,Sl=e.screenY-li.screenY):Sl=wl=0,li=e),wl)},movementY:function(e){return"movementY"in e?e.movementY:Sl}}),ef=pt(Ss),$g=j({},Ss,{dataTransfer:0}),Vg=pt($g),Gg=j({},oi,{relatedTarget:0}),El=pt(Gg),Kg=j({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=pt(Kg),qg=j({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yg=pt(qg),Xg=j({},hr,{data:0}),tf=pt(Xg),Jg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t_(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=e_[e])?!!n[e]:!1}function Cl(){return t_}var n_=j({},oi,{key:function(e){if(e.key){var n=Jg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Zg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),r_=pt(n_),i_=j({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=pt(i_),s_=j({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),o_=pt(s_),l_=j({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),u_=pt(l_),a_=j({},Ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),c_=pt(a_),f_=[9,13,27,32],kl=p&&"CompositionEvent"in window,ui=null;p&&"documentMode"in document&&(ui=document.documentMode);var d_=p&&"TextEvent"in window&&!ui,rf=p&&(!kl||ui&&8<ui&&11>=ui),sf=" ",of=!1;function lf(e,n){switch(e){case"keyup":return f_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function h_(e,n){switch(e){case"compositionend":return uf(n);case"keypress":return n.which!==32?null:(of=!0,sf);case"textInput":return e=n.data,e===sf&&of?null:e;default:return null}}function p_(e,n){if(pr)return e==="compositionend"||!kl&&lf(e,n)?(e=Jc(),ys=yl=_n=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rf&&n.locale!=="ko"?null:n.data;default:return null}}var m_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function af(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!m_[e.type]:n==="textarea"}function cf(e,n,s,l){xc(l),n=Is(n,"onChange"),0<n.length&&(s=new vl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ai=null,ci=null;function g_(e){Rf(e,0)}function Es(e){var n=vr(e);if(_c(n))return e}function __(e,n){if(e==="change")return n}var ff=!1;if(p){var Tl;if(p){var Il="oninput"in document;if(!Il){var df=document.createElement("div");df.setAttribute("oninput","return;"),Il=typeof df.oninput=="function"}Tl=Il}else Tl=!1;ff=Tl&&(!document.documentMode||9<document.documentMode)}function hf(){ai&&(ai.detachEvent("onpropertychange",pf),ci=ai=null)}function pf(e){if(e.propertyName==="value"&&Es(ci)){var n=[];cf(n,ci,e,sl(e)),Ac(g_,n)}}function y_(e,n,s){e==="focusin"?(hf(),ai=n,ci=s,ai.attachEvent("onpropertychange",pf)):e==="focusout"&&hf()}function v_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Es(ci)}function w_(e,n){if(e==="click")return Es(n)}function S_(e,n){if(e==="input"||e==="change")return Es(n)}function E_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:E_;function fi(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!Dt(e[a],n[a]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,n){var s=mf(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=mf(s)}}function _f(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_f(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yf(){for(var e=window,n=ss();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ss(e.document)}return n}function Nl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function C_(e){var n=yf(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&_f(s.ownerDocument.documentElement,s)){if(l!==null&&Nl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,f=Math.min(l.start,a);l=l.end===void 0?f:Math.min(l.end,a),!e.extend&&f>l&&(a=l,l=f,f=a),a=gf(s,f);var h=gf(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k_=p&&"documentMode"in document&&11>=document.documentMode,mr=null,Rl=null,di=null,xl=!1;function vf(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xl||mr==null||mr!==ss(l)||(l=mr,"selectionStart"in l&&Nl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),di&&fi(di,l)||(di=l,l=Is(Rl,"onSelect"),0<l.length&&(n=new vl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=mr)))}function Cs(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var gr={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionend:Cs("Transition","TransitionEnd")},Pl={},wf={};p&&(wf=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function ks(e){if(Pl[e])return Pl[e];if(!gr[e])return e;var n=gr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in wf)return Pl[e]=n[s];return e}var Sf=ks("animationend"),Ef=ks("animationiteration"),Cf=ks("animationstart"),kf=ks("transitionend"),Tf=new Map,If="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){Tf.set(e,n),c(n,[e])}for(var Dl=0;Dl<If.length;Dl++){var Ol=If[Dl],T_=Ol.toLowerCase(),I_=Ol[0].toUpperCase()+Ol.slice(1);yn(T_,"on"+I_)}yn(Sf,"onAnimationEnd"),yn(Ef,"onAnimationIteration"),yn(Cf,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(kf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N_=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function Nf(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Tg(l,n,void 0,e),e.currentTarget=null}function Rf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],y=_.instance,I=_.currentTarget;if(_=_.listener,y!==f&&a.isPropagationStopped())break e;Nf(a,_,I),f=y}else for(h=0;h<l.length;h++){if(_=l[h],y=_.instance,I=_.currentTarget,_=_.listener,y!==f&&a.isPropagationStopped())break e;Nf(a,_,I),f=y}}}if(us)throw e=al,us=!1,al=null,e}function we(e,n){var s=n[Ul];s===void 0&&(s=n[Ul]=new Set);var l=e+"__bubble";s.has(l)||(xf(n,e,2,!1),s.add(l))}function Al(e,n,s){var l=0;n&&(l|=4),xf(s,e,l,n)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[Ts]){e[Ts]=!0,o.forEach(function(s){s!=="selectionchange"&&(N_.has(s)||Al(s,!1,e),Al(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ts]||(n[Ts]=!0,Al("selectionchange",!1,n))}}function xf(e,n,s,l){switch(Xc(n)){case 1:var a=Bg;break;case 4:a=Wg;break;default:a=gl}s=a.bind(null,n,s,e),a=void 0,!ul||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Ml(e,n,s,l,a){var f=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;h=h.return}for(;_!==null;){if(h=bn(_),h===null)return;if(y=h.tag,y===5||y===6){l=f=h;continue e}_=_.parentNode}}l=l.return}Ac(function(){var I=f,x=sl(s),P=[];e:{var N=Tf.get(e);if(N!==void 0){var z=vl,U=e;switch(e){case"keypress":if(vs(s)===0)break e;case"keydown":case"keyup":z=r_;break;case"focusin":U="focus",z=El;break;case"focusout":U="blur",z=El;break;case"beforeblur":case"afterblur":z=El;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=o_;break;case Sf:case Ef:case Cf:z=Qg;break;case kf:z=u_;break;case"scroll":z=Hg;break;case"wheel":z=c_;break;case"copy":case"cut":case"paste":z=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=nf}var B=(n&4)!==0,Ae=!B&&e==="scroll",C=B?N!==null?N+"Capture":null:N;B=[];for(var S=I,k;S!==null;){k=S;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,C!==null&&(D=Yr(S,C),D!=null&&B.push(mi(S,D,k)))),Ae)break;S=S.return}0<B.length&&(N=new z(N,U,null,s,x),P.push({event:N,listeners:B}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",N&&s!==il&&(U=s.relatedTarget||s.fromElement)&&(bn(U)||U[Yt]))break e;if((z||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,z?(U=s.relatedTarget||s.toElement,z=I,U=U?bn(U):null,U!==null&&(Ae=zn(U),U!==Ae||U.tag!==5&&U.tag!==6)&&(U=null)):(z=null,U=I),z!==U)){if(B=ef,D="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(B=nf,D="onPointerLeave",C="onPointerEnter",S="pointer"),Ae=z==null?N:vr(z),k=U==null?N:vr(U),N=new B(D,S+"leave",z,s,x),N.target=Ae,N.relatedTarget=k,D=null,bn(x)===I&&(B=new B(C,S+"enter",U,s,x),B.target=k,B.relatedTarget=Ae,D=B),Ae=D,z&&U)t:{for(B=z,C=U,S=0,k=B;k;k=_r(k))S++;for(k=0,D=C;D;D=_r(D))k++;for(;0<S-k;)B=_r(B),S--;for(;0<k-S;)C=_r(C),k--;for(;S--;){if(B===C||C!==null&&B===C.alternate)break t;B=_r(B),C=_r(C)}B=null}else B=null;z!==null&&Pf(P,N,z,B,!1),U!==null&&Ae!==null&&Pf(P,Ae,U,B,!0)}}e:{if(N=I?vr(I):window,z=N.nodeName&&N.nodeName.toLowerCase(),z==="select"||z==="input"&&N.type==="file")var W=__;else if(af(N))if(ff)W=S_;else{W=v_;var G=y_}else(z=N.nodeName)&&z.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(W=w_);if(W&&(W=W(e,I))){cf(P,W,s,x);break e}G&&G(e,N,I),e==="focusout"&&(G=N._wrapperState)&&G.controlled&&N.type==="number"&&Zo(N,"number",N.value)}switch(G=I?vr(I):window,e){case"focusin":(af(G)||G.contentEditable==="true")&&(mr=G,Rl=I,di=null);break;case"focusout":di=Rl=mr=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,vf(P,s,x);break;case"selectionchange":if(k_)break;case"keydown":case"keyup":vf(P,s,x)}var K;if(kl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else pr?lf(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(rf&&s.locale!=="ko"&&(pr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&pr&&(K=Jc()):(_n=x,yl="value"in _n?_n.value:_n.textContent,pr=!0)),G=Is(I,Y),0<G.length&&(Y=new tf(Y,e,null,s,x),P.push({event:Y,listeners:G}),K?Y.data=K:(K=uf(s),K!==null&&(Y.data=K)))),(K=d_?h_(e,s):p_(e,s))&&(I=Is(I,"onBeforeInput"),0<I.length&&(x=new tf("onBeforeInput","beforeinput",null,s,x),P.push({event:x,listeners:I}),x.data=K))}Rf(P,n)})}function mi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Is(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,f=a.stateNode;a.tag===5&&f!==null&&(a=f,f=Yr(e,s),f!=null&&l.unshift(mi(e,f,a)),f=Yr(e,n),f!=null&&l.push(mi(e,f,a))),e=e.return}return l}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Pf(e,n,s,l,a){for(var f=n._reactName,h=[];s!==null&&s!==l;){var _=s,y=_.alternate,I=_.stateNode;if(y!==null&&y===l)break;_.tag===5&&I!==null&&(_=I,a?(y=Yr(s,f),y!=null&&h.unshift(mi(s,y,_))):a||(y=Yr(s,f),y!=null&&h.push(mi(s,y,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var R_=/\r\n?/g,x_=/\u0000|\uFFFD/g;function Df(e){return(typeof e=="string"?e:""+e).replace(R_,`
`).replace(x_,"")}function Ns(e,n,s){if(n=Df(n),Df(e)!==n&&s)throw Error(r(425))}function Rs(){}var Ll=null,Fl=null;function zl(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var bl=typeof setTimeout=="function"?setTimeout:void 0,P_=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,D_=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(e){return Of.resolve(null).then(e).catch(O_)}:bl;function O_(e){setTimeout(function(){throw e})}function jl(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),si(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);si(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Af(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+yr,gi="__reactProps$"+yr,Yt="__reactContainer$"+yr,Ul="__reactEvents$"+yr,A_="__reactListeners$"+yr,M_="__reactHandles$"+yr;function bn(e){var n=e[Ht];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[Ht]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Af(e);e!==null;){if(s=e[Ht])return s;e=Af(e)}return n}e=s,s=e.parentNode}return null}function _i(e){return e=e[Ht]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function xs(e){return e[gi]||null}var Bl=[],wr=-1;function wn(e){return{current:e}}function Se(e){0>wr||(e.current=Bl[wr],Bl[wr]=null,wr--)}function ye(e,n){wr++,Bl[wr]=e.current,e.current=n}var Sn={},qe=wn(Sn),it=wn(!1),jn=Sn;function Sr(e,n){var s=e.type.contextTypes;if(!s)return Sn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},f;for(f in s)a[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function st(e){return e=e.childContextTypes,e!=null}function Ps(){Se(it),Se(qe)}function Mf(e,n,s){if(qe.current!==Sn)throw Error(r(168));ye(qe,n),ye(it,s)}function Lf(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(r(108,_e(e)||"Unknown",a));return j({},s,l)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,jn=qe.current,ye(qe,e),ye(it,it.current),!0}function Ff(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Lf(e,n,jn),l.__reactInternalMemoizedMergedChildContext=e,Se(it),Se(qe),ye(qe,e)):Se(it),ye(it,s)}var Xt=null,Os=!1,Wl=!1;function zf(e){Xt===null?Xt=[e]:Xt.push(e)}function L_(e){Os=!0,zf(e)}function En(){if(!Wl&&Xt!==null){Wl=!0;var e=0,n=me;try{var s=Xt;for(me=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Xt=null,Os=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),bc(cl,En),a}finally{me=n,Wl=!1}}return null}var Er=[],Cr=0,As=null,Ms=0,wt=[],St=0,Un=null,Jt=1,Zt="";function Bn(e,n){Er[Cr++]=Ms,Er[Cr++]=As,As=e,Ms=n}function bf(e,n,s){wt[St++]=Jt,wt[St++]=Zt,wt[St++]=Un,Un=e;var l=Jt;e=Zt;var a=32-Pt(l)-1;l&=~(1<<a),s+=1;var f=32-Pt(n)+a;if(30<f){var h=a-a%5;f=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Jt=1<<32-Pt(n)+a|s<<a|l,Zt=f+e}else Jt=1<<f|s<<a|l,Zt=e}function Hl(e){e.return!==null&&(Bn(e,1),bf(e,1,0))}function $l(e){for(;e===As;)As=Er[--Cr],Er[Cr]=null,Ms=Er[--Cr],Er[Cr]=null;for(;e===Un;)Un=wt[--St],wt[St]=null,Zt=wt[--St],wt[St]=null,Jt=wt[--St],wt[St]=null}var mt=null,gt=null,Ie=!1,Ot=null;function jf(e,n){var s=Tt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Uf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,mt=e,gt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,mt=e,gt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Un!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Tt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,mt=e,gt=null,!0):!1;default:return!1}}function Vl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gl(e){if(Ie){var n=gt;if(n){var s=n;if(!Uf(e,n)){if(Vl(e))throw Error(r(418));n=vn(s.nextSibling);var l=mt;n&&Uf(e,n)?jf(l,s):(e.flags=e.flags&-4097|2,Ie=!1,mt=e)}}else{if(Vl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ie=!1,mt=e}}}function Bf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Ls(e){if(e!==mt)return!1;if(!Ie)return Bf(e),Ie=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!zl(e.type,e.memoizedProps)),n&&(n=gt)){if(Vl(e))throw Wf(),Error(r(418));for(;n;)jf(e,n),n=vn(n.nextSibling)}if(Bf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){gt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}gt=null}}else gt=mt?vn(e.stateNode.nextSibling):null;return!0}function Wf(){for(var e=gt;e;)e=vn(e.nextSibling)}function kr(){gt=mt=null,Ie=!1}function Kl(e){Ot===null?Ot=[e]:Ot.push(e)}var F_=V.ReactCurrentBatchConfig;function yi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var a=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(h){var _=a.refs;h===null?delete _[f]:_[f]=h},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Fs(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Hf(e){var n=e._init;return n(e._payload)}function $f(e){function n(C,S){if(e){var k=C.deletions;k===null?(C.deletions=[S],C.flags|=16):k.push(S)}}function s(C,S){if(!e)return null;for(;S!==null;)n(C,S),S=S.sibling;return null}function l(C,S){for(C=new Map;S!==null;)S.key!==null?C.set(S.key,S):C.set(S.index,S),S=S.sibling;return C}function a(C,S){return C=Pn(C,S),C.index=0,C.sibling=null,C}function f(C,S,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<S?(C.flags|=2,S):k):(C.flags|=2,S)):(C.flags|=1048576,S)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,S,k,D){return S===null||S.tag!==6?(S=bu(k,C.mode,D),S.return=C,S):(S=a(S,k),S.return=C,S)}function y(C,S,k,D){var W=k.type;return W===he?x(C,S,k.props.children,D,k.key):S!==null&&(S.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===rt&&Hf(W)===S.type)?(D=a(S,k.props),D.ref=yi(C,S,k),D.return=C,D):(D=oo(k.type,k.key,k.props,null,C.mode,D),D.ref=yi(C,S,k),D.return=C,D)}function I(C,S,k,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==k.containerInfo||S.stateNode.implementation!==k.implementation?(S=ju(k,C.mode,D),S.return=C,S):(S=a(S,k.children||[]),S.return=C,S)}function x(C,S,k,D,W){return S===null||S.tag!==7?(S=qn(k,C.mode,D,W),S.return=C,S):(S=a(S,k),S.return=C,S)}function P(C,S,k){if(typeof S=="string"&&S!==""||typeof S=="number")return S=bu(""+S,C.mode,k),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case X:return k=oo(S.type,S.key,S.props,null,C.mode,k),k.ref=yi(C,null,S),k.return=C,k;case Z:return S=ju(S,C.mode,k),S.return=C,S;case rt:var D=S._init;return P(C,D(S._payload),k)}if(Kr(S)||q(S))return S=qn(S,C.mode,k,null),S.return=C,S;Fs(C,S)}return null}function N(C,S,k,D){var W=S!==null?S.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:_(C,S,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case X:return k.key===W?y(C,S,k,D):null;case Z:return k.key===W?I(C,S,k,D):null;case rt:return W=k._init,N(C,S,W(k._payload),D)}if(Kr(k)||q(k))return W!==null?null:x(C,S,k,D,null);Fs(C,k)}return null}function z(C,S,k,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(k)||null,_(S,C,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return C=C.get(D.key===null?k:D.key)||null,y(S,C,D,W);case Z:return C=C.get(D.key===null?k:D.key)||null,I(S,C,D,W);case rt:var G=D._init;return z(C,S,k,G(D._payload),W)}if(Kr(D)||q(D))return C=C.get(k)||null,x(S,C,D,W,null);Fs(S,D)}return null}function U(C,S,k,D){for(var W=null,G=null,K=S,Y=S=0,Ue=null;K!==null&&Y<k.length;Y++){K.index>Y?(Ue=K,K=null):Ue=K.sibling;var fe=N(C,K,k[Y],D);if(fe===null){K===null&&(K=Ue);break}e&&K&&fe.alternate===null&&n(C,K),S=f(fe,S,Y),G===null?W=fe:G.sibling=fe,G=fe,K=Ue}if(Y===k.length)return s(C,K),Ie&&Bn(C,Y),W;if(K===null){for(;Y<k.length;Y++)K=P(C,k[Y],D),K!==null&&(S=f(K,S,Y),G===null?W=K:G.sibling=K,G=K);return Ie&&Bn(C,Y),W}for(K=l(C,K);Y<k.length;Y++)Ue=z(K,C,Y,k[Y],D),Ue!==null&&(e&&Ue.alternate!==null&&K.delete(Ue.key===null?Y:Ue.key),S=f(Ue,S,Y),G===null?W=Ue:G.sibling=Ue,G=Ue);return e&&K.forEach(function(Dn){return n(C,Dn)}),Ie&&Bn(C,Y),W}function B(C,S,k,D){var W=q(k);if(typeof W!="function")throw Error(r(150));if(k=W.call(k),k==null)throw Error(r(151));for(var G=W=null,K=S,Y=S=0,Ue=null,fe=k.next();K!==null&&!fe.done;Y++,fe=k.next()){K.index>Y?(Ue=K,K=null):Ue=K.sibling;var Dn=N(C,K,fe.value,D);if(Dn===null){K===null&&(K=Ue);break}e&&K&&Dn.alternate===null&&n(C,K),S=f(Dn,S,Y),G===null?W=Dn:G.sibling=Dn,G=Dn,K=Ue}if(fe.done)return s(C,K),Ie&&Bn(C,Y),W;if(K===null){for(;!fe.done;Y++,fe=k.next())fe=P(C,fe.value,D),fe!==null&&(S=f(fe,S,Y),G===null?W=fe:G.sibling=fe,G=fe);return Ie&&Bn(C,Y),W}for(K=l(C,K);!fe.done;Y++,fe=k.next())fe=z(K,C,Y,fe.value,D),fe!==null&&(e&&fe.alternate!==null&&K.delete(fe.key===null?Y:fe.key),S=f(fe,S,Y),G===null?W=fe:G.sibling=fe,G=fe);return e&&K.forEach(function(py){return n(C,py)}),Ie&&Bn(C,Y),W}function Ae(C,S,k,D){if(typeof k=="object"&&k!==null&&k.type===he&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case X:e:{for(var W=k.key,G=S;G!==null;){if(G.key===W){if(W=k.type,W===he){if(G.tag===7){s(C,G.sibling),S=a(G,k.props.children),S.return=C,C=S;break e}}else if(G.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===rt&&Hf(W)===G.type){s(C,G.sibling),S=a(G,k.props),S.ref=yi(C,G,k),S.return=C,C=S;break e}s(C,G);break}else n(C,G);G=G.sibling}k.type===he?(S=qn(k.props.children,C.mode,D,k.key),S.return=C,C=S):(D=oo(k.type,k.key,k.props,null,C.mode,D),D.ref=yi(C,S,k),D.return=C,C=D)}return h(C);case Z:e:{for(G=k.key;S!==null;){if(S.key===G)if(S.tag===4&&S.stateNode.containerInfo===k.containerInfo&&S.stateNode.implementation===k.implementation){s(C,S.sibling),S=a(S,k.children||[]),S.return=C,C=S;break e}else{s(C,S);break}else n(C,S);S=S.sibling}S=ju(k,C.mode,D),S.return=C,C=S}return h(C);case rt:return G=k._init,Ae(C,S,G(k._payload),D)}if(Kr(k))return U(C,S,k,D);if(q(k))return B(C,S,k,D);Fs(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,S!==null&&S.tag===6?(s(C,S.sibling),S=a(S,k),S.return=C,C=S):(s(C,S),S=bu(k,C.mode,D),S.return=C,C=S),h(C)):s(C,S)}return Ae}var Tr=$f(!0),Vf=$f(!1),zs=wn(null),bs=null,Ir=null,Ql=null;function ql(){Ql=Ir=bs=null}function Yl(e){var n=zs.current;Se(zs),e._currentValue=n}function Xl(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Nr(e,n){bs=e,Ql=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ot=!0),e.firstContext=null)}function Et(e){var n=e._currentValue;if(Ql!==e)if(e={context:e,memoizedValue:n,next:null},Ir===null){if(bs===null)throw Error(r(308));Ir=e,bs.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return n}var Wn=null;function Jl(e){Wn===null?Wn=[e]:Wn.push(e)}function Gf(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,Jl(n)):(s.next=a.next,a.next=s),n.interleaved=s,en(e,l)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cn=!1;function Zl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ue&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,en(e,s)}return a=l.interleaved,a===null?(n.next=n,Jl(l)):(n.next=a.next,a.next=n),l.interleaved=n,en(e,s)}function js(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,hl(e,s)}}function Qf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?a=f=h:f=f.next=h,s=s.next}while(s!==null);f===null?a=f=n:f=f.next=n}else a=f=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Us(e,n,s,l){var a=e.updateQueue;Cn=!1;var f=a.firstBaseUpdate,h=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var y=_,I=y.next;y.next=null,h===null?f=I:h.next=I,h=y;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==h&&(_===null?x.firstBaseUpdate=I:_.next=I,x.lastBaseUpdate=y))}if(f!==null){var P=a.baseState;h=0,x=I=y=null,_=f;do{var N=_.lane,z=_.eventTime;if((l&N)===N){x!==null&&(x=x.next={eventTime:z,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var U=e,B=_;switch(N=n,z=s,B.tag){case 1:if(U=B.payload,typeof U=="function"){P=U.call(z,P,N);break e}P=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=B.payload,N=typeof U=="function"?U.call(z,P,N):U,N==null)break e;P=j({},P,N);break e;case 2:Cn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[_]:N.push(_))}else z={eventTime:z,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(I=x=z,y=P):x=x.next=z,h|=N;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;N=_,_=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(x===null&&(y=P),a.baseState=y,a.firstBaseUpdate=I,a.lastBaseUpdate=x,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else f===null&&(a.shared.lanes=0);Vn|=h,e.lanes=h,e.memoizedState=P}}function qf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(r(191,a));a.call(l)}}}var vi={},$t=wn(vi),wi=wn(vi),Si=wn(vi);function Hn(e){if(e===vi)throw Error(r(174));return e}function eu(e,n){switch(ye(Si,n),ye(wi,e),ye($t,vi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:tl(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=tl(n,e)}Se($t),ye($t,n)}function Rr(){Se($t),Se(wi),Se(Si)}function Yf(e){Hn(Si.current);var n=Hn($t.current),s=tl(n,e.type);n!==s&&(ye(wi,e),ye($t,s))}function tu(e){wi.current===e&&(Se($t),Se(wi))}var Re=wn(0);function Bs(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var nu=[];function ru(){for(var e=0;e<nu.length;e++)nu[e]._workInProgressVersionPrimary=null;nu.length=0}var Ws=V.ReactCurrentDispatcher,iu=V.ReactCurrentBatchConfig,$n=0,xe=null,Le=null,be=null,Hs=!1,Ei=!1,Ci=0,z_=0;function Ye(){throw Error(r(321))}function su(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dt(e[s],n[s]))return!1;return!0}function ou(e,n,s,l,a,f){if($n=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Ws.current=e===null||e.memoizedState===null?B_:W_,e=s(l,a),Ei){f=0;do{if(Ei=!1,Ci=0,25<=f)throw Error(r(301));f+=1,be=Le=null,n.updateQueue=null,Ws.current=H_,e=s(l,a)}while(Ei)}if(Ws.current=Gs,n=Le!==null&&Le.next!==null,$n=0,be=Le=xe=null,Hs=!1,n)throw Error(r(300));return e}function lu(){var e=Ci!==0;return Ci=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?xe.memoizedState=be=e:be=be.next=e,be}function Ct(){if(Le===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=be===null?xe.memoizedState:be.next;if(n!==null)be=n,Le=e;else{if(e===null)throw Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},be===null?xe.memoizedState=be=e:be=be.next=e}return be}function ki(e,n){return typeof n=="function"?n(e):n}function uu(e){var n=Ct(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Le,a=l.baseQueue,f=s.pending;if(f!==null){if(a!==null){var h=a.next;a.next=f.next,f.next=h}l.baseQueue=a=f,s.pending=null}if(a!==null){f=a.next,l=l.baseState;var _=h=null,y=null,I=f;do{var x=I.lane;if(($n&x)===x)y!==null&&(y=y.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),l=I.hasEagerState?I.eagerState:e(l,I.action);else{var P={lane:x,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};y===null?(_=y=P,h=l):y=y.next=P,xe.lanes|=x,Vn|=x}I=I.next}while(I!==null&&I!==f);y===null?h=l:y.next=_,Dt(l,n.memoizedState)||(ot=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do f=a.lane,xe.lanes|=f,Vn|=f,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function au(e){var n=Ct(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,f=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do f=e(f,h.action),h=h.next;while(h!==a);Dt(f,n.memoizedState)||(ot=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Xf(){}function Jf(e,n){var s=xe,l=Ct(),a=n(),f=!Dt(l.memoizedState,a);if(f&&(l.memoizedState=a,ot=!0),l=l.queue,cu(td.bind(null,s,l,e),[e]),l.getSnapshot!==n||f||be!==null&&be.memoizedState.tag&1){if(s.flags|=2048,Ti(9,ed.bind(null,s,l,a,n),void 0,null),je===null)throw Error(r(349));$n&30||Zf(s,n,a)}return a}function Zf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n={lastEffect:null,stores:null},xe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ed(e,n,s,l){n.value=s,n.getSnapshot=l,nd(n)&&rd(e)}function td(e,n,s){return s(function(){nd(n)&&rd(e)})}function nd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dt(e,s)}catch{return!0}}function rd(e){var n=en(e,1);n!==null&&Ft(n,e,1,-1)}function id(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n.queue=e,e=e.dispatch=U_.bind(null,xe,e),[n.memoizedState,e]}function Ti(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=xe.updateQueue,n===null?(n={lastEffect:null,stores:null},xe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function sd(){return Ct().memoizedState}function $s(e,n,s,l){var a=Vt();xe.flags|=e,a.memoizedState=Ti(1|n,s,void 0,l===void 0?null:l)}function Vs(e,n,s,l){var a=Ct();l=l===void 0?null:l;var f=void 0;if(Le!==null){var h=Le.memoizedState;if(f=h.destroy,l!==null&&su(l,h.deps)){a.memoizedState=Ti(n,s,f,l);return}}xe.flags|=e,a.memoizedState=Ti(1|n,s,f,l)}function od(e,n){return $s(8390656,8,e,n)}function cu(e,n){return Vs(2048,8,e,n)}function ld(e,n){return Vs(4,2,e,n)}function ud(e,n){return Vs(4,4,e,n)}function ad(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cd(e,n,s){return s=s!=null?s.concat([e]):null,Vs(4,4,ad.bind(null,n,e),s)}function fu(){}function fd(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&su(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function dd(e,n){var s=Ct();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&su(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function hd(e,n,s){return $n&21?(Dt(s,n)||(s=Wc(),xe.lanes|=s,Vn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=s)}function b_(e,n){var s=me;me=s!==0&&4>s?s:4,e(!0);var l=iu.transition;iu.transition={};try{e(!1),n()}finally{me=s,iu.transition=l}}function pd(){return Ct().memoizedState}function j_(e,n,s){var l=Rn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},md(e))gd(n,s);else if(s=Gf(e,n,s,l),s!==null){var a=nt();Ft(s,e,l,a),_d(s,n,l)}}function U_(e,n,s){var l=Rn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(md(e))gd(n,a);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var h=n.lastRenderedState,_=f(h,s);if(a.hasEagerState=!0,a.eagerState=_,Dt(_,h)){var y=n.interleaved;y===null?(a.next=a,Jl(n)):(a.next=y.next,y.next=a),n.interleaved=a;return}}catch{}finally{}s=Gf(e,n,a,l),s!==null&&(a=nt(),Ft(s,e,l,a),_d(s,n,l))}}function md(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function gd(e,n){Ei=Hs=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _d(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,hl(e,s)}}var Gs={readContext:Et,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useInsertionEffect:Ye,useLayoutEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useMutableSource:Ye,useSyncExternalStore:Ye,useId:Ye,unstable_isNewReconciler:!1},B_={readContext:Et,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:Et,useEffect:od,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,$s(4194308,4,ad.bind(null,n,e),s)},useLayoutEffect:function(e,n){return $s(4194308,4,e,n)},useInsertionEffect:function(e,n){return $s(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Vt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=j_.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:id,useDebugValue:fu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=id(!1),n=e[0];return e=b_.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=xe,a=Vt();if(Ie){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),je===null)throw Error(r(349));$n&30||Zf(l,n,s)}a.memoizedState=s;var f={value:s,getSnapshot:n};return a.queue=f,od(td.bind(null,l,f,e),[e]),l.flags|=2048,Ti(9,ed.bind(null,l,f,s,n),void 0,null),s},useId:function(){var e=Vt(),n=je.identifierPrefix;if(Ie){var s=Zt,l=Jt;s=(l&~(1<<32-Pt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ci++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=z_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},W_={readContext:Et,useCallback:fd,useContext:Et,useEffect:cu,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:uu,useRef:sd,useState:function(){return uu(ki)},useDebugValue:fu,useDeferredValue:function(e){var n=Ct();return hd(n,Le.memoizedState,e)},useTransition:function(){var e=uu(ki)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:pd,unstable_isNewReconciler:!1},H_={readContext:Et,useCallback:fd,useContext:Et,useEffect:cu,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ud,useMemo:dd,useReducer:au,useRef:sd,useState:function(){return au(ki)},useDebugValue:fu,useDeferredValue:function(e){var n=Ct();return Le===null?n.memoizedState=e:hd(n,Le.memoizedState,e)},useTransition:function(){var e=au(ki)[0],n=Ct().memoizedState;return[e,n]},useMutableSource:Xf,useSyncExternalStore:Jf,useId:pd,unstable_isNewReconciler:!1};function At(e,n){if(e&&e.defaultProps){n=j({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function du(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:j({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Ks={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=nt(),a=Rn(e),f=tn(l,a);f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),js(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=nt(),a=Rn(e),f=tn(l,a);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),js(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=nt(),l=Rn(e),a=tn(s,l);a.tag=2,n!=null&&(a.callback=n),n=kn(e,a,l),n!==null&&(Ft(n,e,l,s),js(n,e,l))}};function yd(e,n,s,l,a,f,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,h):n.prototype&&n.prototype.isPureReactComponent?!fi(s,l)||!fi(a,f):!0}function vd(e,n,s){var l=!1,a=Sn,f=n.contextType;return typeof f=="object"&&f!==null?f=Et(f):(a=st(n)?jn:qe.current,l=n.contextTypes,f=(l=l!=null)?Sr(e,a):Sn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Ks,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=f),n}function wd(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Ks.enqueueReplaceState(n,n.state,null)}function hu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Zl(e);var f=n.contextType;typeof f=="object"&&f!==null?a.context=Et(f):(f=st(n)?jn:qe.current,a.context=Sr(e,f)),a.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(du(e,n,f,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&Ks.enqueueReplaceState(a,a.state,null),Us(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,n){try{var s="",l=n;do s+=ae(l),l=l.return;while(l);var a=s}catch(f){a=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:a,digest:null}}function pu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function mu(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){eo||(eo=!0,Pu=l),mu(e,n)},s}function Ed(e,n,s){s=tn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){mu(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){mu(e,n),typeof l!="function"&&(In===null?In=new Set([this]):In.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function Cd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new $_;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=iy.bind(null,e,n,s),n.then(e,e))}function kd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Td(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,kn(s,n,1))),s.lanes|=1),e)}var V_=V.ReactCurrentOwner,ot=!1;function tt(e,n,s,l){n.child=e===null?Vf(n,null,s,l):Tr(n,e.child,s,l)}function Id(e,n,s,l,a){s=s.render;var f=n.ref;return Nr(n,a),l=ou(e,n,s,l,f,a),s=lu(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Ie&&s&&Hl(n),n.flags|=1,tt(e,n,l,a),n.child)}function Nd(e,n,s,l,a){if(e===null){var f=s.type;return typeof f=="function"&&!zu(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Rd(e,n,f,l,a)):(e=oo(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&a)){var h=f.memoizedProps;if(s=s.compare,s=s!==null?s:fi,s(h,l)&&e.ref===n.ref)return nn(e,n,a)}return n.flags|=1,e=Pn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Rd(e,n,s,l,a){if(e!==null){var f=e.memoizedProps;if(fi(f,l)&&e.ref===n.ref)if(ot=!1,n.pendingProps=l=f,(e.lanes&a)!==0)e.flags&131072&&(ot=!0);else return n.lanes=e.lanes,nn(e,n,a)}return gu(e,n,s,l,a)}function xd(e,n,s){var l=n.pendingProps,a=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Dr,_t),_t|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ye(Dr,_t),_t|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:s,ye(Dr,_t),_t|=l}else f!==null?(l=f.baseLanes|s,n.memoizedState=null):l=s,ye(Dr,_t),_t|=l;return tt(e,n,a,s),n.child}function Pd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function gu(e,n,s,l,a){var f=st(s)?jn:qe.current;return f=Sr(n,f),Nr(n,a),s=ou(e,n,s,l,f,a),l=lu(),e!==null&&!ot?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Ie&&l&&Hl(n),n.flags|=1,tt(e,n,s,a),n.child)}function Dd(e,n,s,l,a){if(st(s)){var f=!0;Ds(n)}else f=!1;if(Nr(n,a),n.stateNode===null)qs(e,n),vd(n,s,l),hu(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var y=h.context,I=s.contextType;typeof I=="object"&&I!==null?I=Et(I):(I=st(s)?jn:qe.current,I=Sr(n,I));var x=s.getDerivedStateFromProps,P=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||y!==I)&&wd(n,h,l,I),Cn=!1;var N=n.memoizedState;h.state=N,Us(n,l,h,a),y=n.memoizedState,_!==l||N!==y||it.current||Cn?(typeof x=="function"&&(du(n,s,x,l),y=n.memoizedState),(_=Cn||yd(n,s,_,l,N,y,I))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=I,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Kf(e,n),_=n.memoizedProps,I=n.type===n.elementType?_:At(n.type,_),h.props=I,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=Et(y):(y=st(s)?jn:qe.current,y=Sr(n,y));var z=s.getDerivedStateFromProps;(x=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==P||N!==y)&&wd(n,h,l,y),Cn=!1,N=n.memoizedState,h.state=N,Us(n,l,h,a);var U=n.memoizedState;_!==P||N!==U||it.current||Cn?(typeof z=="function"&&(du(n,s,z,l),U=n.memoizedState),(I=Cn||yd(n,s,I,l,N,U,y)||!1)?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,U,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,U,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),h.props=l,h.state=U,h.context=y,l=I):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return _u(e,n,s,l,f,a)}function _u(e,n,s,l,a,f){Pd(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&Ff(n,s,!1),nn(e,n,f);l=n.stateNode,V_.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=Tr(n,e.child,null,f),n.child=Tr(n,null,_,f)):tt(e,n,_,f),n.memoizedState=l.state,a&&Ff(n,s,!0),n.child}function Od(e){var n=e.stateNode;n.pendingContext?Mf(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Mf(e,n.context,!1),eu(e,n.containerInfo)}function Ad(e,n,s,l,a){return kr(),Kl(a),n.flags|=256,tt(e,n,s,l),n.child}var yu={dehydrated:null,treeContext:null,retryLane:0};function vu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Md(e,n,s){var l=n.pendingProps,a=Re.current,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(a&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(Re,a&1),e===null)return Gl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,f?(l=n.mode,f=n.child,h={mode:"hidden",children:h},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=h):f=lo(h,l,0,null),e=qn(e,l,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=vu(s),n.memoizedState=yu,e):wu(n,h));if(a=e.memoizedState,a!==null&&(_=a.dehydrated,_!==null))return G_(e,n,h,l,_,a,s);if(f){f=l.fallback,h=n.mode,a=e.child,_=a.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Pn(a,y),l.subtreeFlags=a.subtreeFlags&14680064),_!==null?f=Pn(_,f):(f=qn(f,h,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,h=e.child.memoizedState,h=h===null?vu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},f.memoizedState=h,f.childLanes=e.childLanes&~s,n.memoizedState=yu,l}return f=e.child,e=f.sibling,l=Pn(f,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function wu(e,n){return n=lo({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Qs(e,n,s,l){return l!==null&&Kl(l),Tr(n,e.child,null,s),e=wu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function G_(e,n,s,l,a,f,h){if(s)return n.flags&256?(n.flags&=-257,l=pu(Error(r(422))),Qs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,a=n.mode,l=lo({mode:"visible",children:l.children},a,0,null),f=qn(f,a,h,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,n.mode&1&&Tr(n,e.child,null,h),n.child.memoizedState=vu(h),n.memoizedState=yu,f);if(!(n.mode&1))return Qs(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var _=l.dgst;return l=_,f=Error(r(419)),l=pu(f,l,void 0),Qs(e,n,h,l)}if(_=(h&e.childLanes)!==0,ot||_){if(l=je,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==f.retryLane&&(f.retryLane=a,en(e,a),Ft(l,e,a,-1))}return Fu(),l=pu(Error(r(421))),Qs(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=sy.bind(null,e),a._reactRetry=n,null):(e=f.treeContext,gt=vn(a.nextSibling),mt=n,Ie=!0,Ot=null,e!==null&&(wt[St++]=Jt,wt[St++]=Zt,wt[St++]=Un,Jt=e.id,Zt=e.overflow,Un=n),n=wu(n,l.children),n.flags|=4096,n)}function Ld(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xl(e.return,n,s)}function Su(e,n,s,l,a){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=a)}function Fd(e,n,s){var l=n.pendingProps,a=l.revealOrder,f=l.tail;if(tt(e,n,l.children,s),l=Re.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ld(e,s,n);else if(e.tag===19)Ld(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ye(Re,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&Bs(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),Su(n,!1,a,s,f);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&Bs(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}Su(n,!0,s,null,f);break;case"together":Su(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function K_(e,n,s){switch(n.tag){case 3:Od(n),kr();break;case 5:Yf(n);break;case 1:st(n.type)&&Ds(n);break;case 4:eu(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;ye(zs,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ye(Re,Re.current&1),n.flags|=128,null):s&n.child.childLanes?Md(e,n,s):(ye(Re,Re.current&1),e=nn(e,n,s),e!==null?e.sibling:null);ye(Re,Re.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Fd(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,xd(e,n,s)}return nn(e,n,s)}var zd,Eu,bd,jd;zd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Eu=function(){},bd=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,Hn($t.current);var f=null;switch(s){case"input":a=Xo(e,a),l=Xo(e,l),f=[];break;case"select":a=j({},a,{value:void 0}),l=j({},l,{value:void 0}),f=[];break;case"textarea":a=el(e,a),l=el(e,l),f=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Rs)}nl(s,l);var h;s=null;for(I in a)if(!l.hasOwnProperty(I)&&a.hasOwnProperty(I)&&a[I]!=null)if(I==="style"){var _=a[I];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(u.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in l){var y=l[I];if(_=a!=null?a[I]:void 0,l.hasOwnProperty(I)&&y!==_&&(y!=null||_!=null))if(I==="style")if(_){for(h in _)!_.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&_[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(f||(f=[]),f.push(I,s)),s=y;else I==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,_=_?_.__html:void 0,y!=null&&_!==y&&(f=f||[]).push(I,y)):I==="children"?typeof y!="string"&&typeof y!="number"||(f=f||[]).push(I,""+y):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(u.hasOwnProperty(I)?(y!=null&&I==="onScroll"&&we("scroll",e),f||_===y||(f=[])):(f=f||[]).push(I,y))}s&&(f=f||[]).push("style",s);var I=f;(n.updateQueue=I)&&(n.flags|=4)}},jd=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ii(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Xe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function Q_(e,n,s){var l=n.pendingProps;switch($l(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(n),null;case 1:return st(n.type)&&Ps(),Xe(n),null;case 3:return l=n.stateNode,Rr(),Se(it),Se(qe),ru(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ls(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ot!==null&&(Au(Ot),Ot=null))),Eu(e,n),Xe(n),null;case 5:tu(n);var a=Hn(Si.current);if(s=n.type,e!==null&&n.stateNode!=null)bd(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Xe(n),null}if(e=Hn($t.current),Ls(n)){l=n.stateNode,s=n.type;var f=n.memoizedProps;switch(l[Ht]=n,l[gi]=f,e=(n.mode&1)!==0,s){case"dialog":we("cancel",l),we("close",l);break;case"iframe":case"object":case"embed":we("load",l);break;case"video":case"audio":for(a=0;a<hi.length;a++)we(hi[a],l);break;case"source":we("error",l);break;case"img":case"image":case"link":we("error",l),we("load",l);break;case"details":we("toggle",l);break;case"input":yc(l,f),we("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},we("invalid",l);break;case"textarea":Sc(l,f),we("invalid",l)}nl(s,f),a=null;for(var h in f)if(f.hasOwnProperty(h)){var _=f[h];h==="children"?typeof _=="string"?l.textContent!==_&&(f.suppressHydrationWarning!==!0&&Ns(l.textContent,_,e),a=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&Ns(l.textContent,_,e),a=["children",""+_]):u.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&we("scroll",l)}switch(s){case"input":is(l),wc(l,f,!0);break;case"textarea":is(l),Cc(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Rs)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ht]=n,e[gi]=l,zd(e,n,!1,!1),n.stateNode=e;e:{switch(h=rl(s,l),s){case"dialog":we("cancel",e),we("close",e),a=l;break;case"iframe":case"object":case"embed":we("load",e),a=l;break;case"video":case"audio":for(a=0;a<hi.length;a++)we(hi[a],e);a=l;break;case"source":we("error",e),a=l;break;case"img":case"image":case"link":we("error",e),we("load",e),a=l;break;case"details":we("toggle",e),a=l;break;case"input":yc(e,l),a=Xo(e,l),we("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=j({},l,{value:void 0}),we("invalid",e);break;case"textarea":Sc(e,l),a=el(e,l),we("invalid",e);break;default:a=l}nl(s,a),_=a;for(f in _)if(_.hasOwnProperty(f)){var y=_[f];f==="style"?Nc(e,y):f==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Tc(e,y)):f==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Qr(e,y):typeof y=="number"&&Qr(e,""+y):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?y!=null&&f==="onScroll"&&we("scroll",e):y!=null&&$(e,f,y,h))}switch(s){case"input":is(e),wc(e,l,!1);break;case"textarea":is(e),Cc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+pe(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?ar(e,!!l.multiple,f,!1):l.defaultValue!=null&&ar(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Rs)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Xe(n),null;case 6:if(e&&n.stateNode!=null)jd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Hn(Si.current),Hn($t.current),Ls(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ht]=n,(f=l.nodeValue!==s)&&(e=mt,e!==null))switch(e.tag){case 3:Ns(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ns(l.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ht]=n,n.stateNode=l}return Xe(n),null;case 13:if(Se(Re),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&gt!==null&&n.mode&1&&!(n.flags&128))Wf(),kr(),n.flags|=98560,f=!1;else if(f=Ls(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ht]=n}else kr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Xe(n),f=!1}else Ot!==null&&(Au(Ot),Ot=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Re.current&1?Fe===0&&(Fe=3):Fu())),n.updateQueue!==null&&(n.flags|=4),Xe(n),null);case 4:return Rr(),Eu(e,n),e===null&&pi(n.stateNode.containerInfo),Xe(n),null;case 10:return Yl(n.type._context),Xe(n),null;case 17:return st(n.type)&&Ps(),Xe(n),null;case 19:if(Se(Re),f=n.memoizedState,f===null)return Xe(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Ii(f,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=Bs(e),h!==null){for(n.flags|=128,Ii(f,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)f=s,e=l,f.flags&=14680066,h=f.alternate,h===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=h.childLanes,f.lanes=h.lanes,f.child=h.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=h.memoizedProps,f.memoizedState=h.memoizedState,f.updateQueue=h.updateQueue,f.type=h.type,e=h.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&Oe()>Or&&(n.flags|=128,l=!0,Ii(f,!1),n.lanes=4194304)}else{if(!l)if(e=Bs(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ii(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Ie)return Xe(n),null}else 2*Oe()-f.renderingStartTime>Or&&s!==1073741824&&(n.flags|=128,l=!0,Ii(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(s=f.last,s!==null?s.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,s=Re.current,ye(Re,l?s&1|2:s&1),n):(Xe(n),null);case 22:case 23:return Lu(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?_t&1073741824&&(Xe(n),n.subtreeFlags&6&&(n.flags|=8192)):Xe(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function q_(e,n){switch($l(n),n.tag){case 1:return st(n.type)&&Ps(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Rr(),Se(it),Se(qe),ru(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return tu(n),null;case 13:if(Se(Re),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Se(Re),null;case 4:return Rr(),null;case 10:return Yl(n.type._context),null;case 22:case 23:return Lu(),null;case 24:return null;default:return null}}var Ys=!1,Je=!1,Y_=typeof WeakSet=="function"?WeakSet:Set,b=null;function Pr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){De(e,n,l)}else s.current=null}function Cu(e,n,s){try{s()}catch(l){De(e,n,l)}}var Ud=!1;function X_(e,n){if(Ll=gs,e=yf(),Nl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var h=0,_=-1,y=-1,I=0,x=0,P=e,N=null;t:for(;;){for(var z;P!==s||a!==0&&P.nodeType!==3||(_=h+a),P!==f||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(z=P.firstChild)!==null;)N=P,P=z;for(;;){if(P===e)break t;if(N===s&&++I===a&&(_=h),N===f&&++x===l&&(y=h),(z=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=z}s=_===-1||y===-1?null:{start:_,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Fl={focusedElem:e,selectionRange:s},gs=!1,b=n;b!==null;)if(n=b,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,b=e;else for(;b!==null;){n=b;try{var U=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var B=U.memoizedProps,Ae=U.memoizedState,C=n.stateNode,S=C.getSnapshotBeforeUpdate(n.elementType===n.type?B:At(n.type,B),Ae);C.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){De(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,b=e;break}b=n.return}return U=Ud,Ud=!1,U}function Ni(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var f=a.destroy;a.destroy=void 0,f!==void 0&&Cu(n,s,f)}a=a.next}while(a!==l)}}function Xs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function ku(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Bd(e){var n=e.alternate;n!==null&&(e.alternate=null,Bd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ht],delete n[gi],delete n[Ul],delete n[A_],delete n[M_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wd(e){return e.tag===5||e.tag===3||e.tag===4}function Hd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Rs));else if(l!==4&&(e=e.child,e!==null))for(Tu(e,n,s),e=e.sibling;e!==null;)Tu(e,n,s),e=e.sibling}function Iu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Iu(e,n,s),e=e.sibling;e!==null;)Iu(e,n,s),e=e.sibling}var $e=null,Mt=!1;function Tn(e,n,s){for(s=s.child;s!==null;)$d(e,n,s),s=s.sibling}function $d(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(cs,s)}catch{}switch(s.tag){case 5:Je||Pr(s,n);case 6:var l=$e,a=Mt;$e=null,Tn(e,n,s),$e=l,Mt=a,$e!==null&&(Mt?(e=$e,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):$e.removeChild(s.stateNode));break;case 18:$e!==null&&(Mt?(e=$e,s=s.stateNode,e.nodeType===8?jl(e.parentNode,s):e.nodeType===1&&jl(e,s),si(e)):jl($e,s.stateNode));break;case 4:l=$e,a=Mt,$e=s.stateNode.containerInfo,Mt=!0,Tn(e,n,s),$e=l,Mt=a;break;case 0:case 11:case 14:case 15:if(!Je&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var f=a,h=f.destroy;f=f.tag,h!==void 0&&(f&2||f&4)&&Cu(s,n,h),a=a.next}while(a!==l)}Tn(e,n,s);break;case 1:if(!Je&&(Pr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){De(s,n,_)}Tn(e,n,s);break;case 21:Tn(e,n,s);break;case 22:s.mode&1?(Je=(l=Je)||s.memoizedState!==null,Tn(e,n,s),Je=l):Tn(e,n,s);break;default:Tn(e,n,s)}}function Vd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Y_),n.forEach(function(l){var a=oy.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var f=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:$e=_.stateNode,Mt=!1;break e;case 3:$e=_.stateNode.containerInfo,Mt=!0;break e;case 4:$e=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if($e===null)throw Error(r(160));$d(f,h,a),$e=null,Mt=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(I){De(a,n,I)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Gd(n,e),n=n.sibling}function Gd(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Gt(e),l&4){try{Ni(3,e,e.return),Xs(3,e)}catch(B){De(e,e.return,B)}try{Ni(5,e,e.return)}catch(B){De(e,e.return,B)}}break;case 1:Lt(n,e),Gt(e),l&512&&s!==null&&Pr(s,s.return);break;case 5:if(Lt(n,e),Gt(e),l&512&&s!==null&&Pr(s,s.return),e.flags&32){var a=e.stateNode;try{Qr(a,"")}catch(B){De(e,e.return,B)}}if(l&4&&(a=e.stateNode,a!=null)){var f=e.memoizedProps,h=s!==null?s.memoizedProps:f,_=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&vc(a,f),rl(_,h);var I=rl(_,f);for(h=0;h<y.length;h+=2){var x=y[h],P=y[h+1];x==="style"?Nc(a,P):x==="dangerouslySetInnerHTML"?Tc(a,P):x==="children"?Qr(a,P):$(a,x,P,I)}switch(_){case"input":Jo(a,f);break;case"textarea":Ec(a,f);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!f.multiple;var z=f.value;z!=null?ar(a,!!f.multiple,z,!1):N!==!!f.multiple&&(f.defaultValue!=null?ar(a,!!f.multiple,f.defaultValue,!0):ar(a,!!f.multiple,f.multiple?[]:"",!1))}a[gi]=f}catch(B){De(e,e.return,B)}}break;case 6:if(Lt(n,e),Gt(e),l&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,f=e.memoizedProps;try{a.nodeValue=f}catch(B){De(e,e.return,B)}}break;case 3:if(Lt(n,e),Gt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{si(n.containerInfo)}catch(B){De(e,e.return,B)}break;case 4:Lt(n,e),Gt(e);break;case 13:Lt(n,e),Gt(e),a=e.child,a.flags&8192&&(f=a.memoizedState!==null,a.stateNode.isHidden=f,!f||a.alternate!==null&&a.alternate.memoizedState!==null||(xu=Oe())),l&4&&Vd(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Je=(I=Je)||x,Lt(n,e),Je=I):Lt(n,e),Gt(e),l&8192){if(I=e.memoizedState!==null,(e.stateNode.isHidden=I)&&!x&&e.mode&1)for(b=e,x=e.child;x!==null;){for(P=b=x;b!==null;){switch(N=b,z=N.child,N.tag){case 0:case 11:case 14:case 15:Ni(4,N,N.return);break;case 1:Pr(N,N.return);var U=N.stateNode;if(typeof U.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,U.props=n.memoizedProps,U.state=n.memoizedState,U.componentWillUnmount()}catch(B){De(l,s,B)}}break;case 5:Pr(N,N.return);break;case 22:if(N.memoizedState!==null){qd(P);continue}}z!==null?(z.return=N,b=z):qd(P)}x=x.sibling}e:for(x=null,P=e;;){if(P.tag===5){if(x===null){x=P;try{a=P.stateNode,I?(f=a.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,_.style.display=Ic("display",h))}catch(B){De(e,e.return,B)}}}else if(P.tag===6){if(x===null)try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(B){De(e,e.return,B)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;x===P&&(x=null),P=P.return}x===P&&(x=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Lt(n,e),Gt(e),l&4&&Vd(e);break;case 21:break;default:Lt(n,e),Gt(e)}}function Gt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Wd(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Qr(a,""),l.flags&=-33);var f=Hd(e);Iu(e,f,a);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Hd(e);Tu(e,_,h);break;default:throw Error(r(161))}}catch(y){De(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function J_(e,n,s){b=e,Kd(e)}function Kd(e,n,s){for(var l=(e.mode&1)!==0;b!==null;){var a=b,f=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Ys;if(!h){var _=a.alternate,y=_!==null&&_.memoizedState!==null||Je;_=Ys;var I=Je;if(Ys=h,(Je=y)&&!I)for(b=a;b!==null;)h=b,y=h.child,h.tag===22&&h.memoizedState!==null?Yd(a):y!==null?(y.return=h,b=y):Yd(a);for(;f!==null;)b=f,Kd(f),f=f.sibling;b=a,Ys=_,Je=I}Qd(e)}else a.subtreeFlags&8772&&f!==null?(f.return=a,b=f):Qd(e)}}function Qd(e){for(;b!==null;){var n=b;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Je||Xs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Je)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:At(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&qf(n,f,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}qf(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var I=n.alternate;if(I!==null){var x=I.memoizedState;if(x!==null){var P=x.dehydrated;P!==null&&si(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Je||n.flags&512&&ku(n)}catch(N){De(n,n.return,N)}}if(n===e){b=null;break}if(s=n.sibling,s!==null){s.return=n.return,b=s;break}b=n.return}}function qd(e){for(;b!==null;){var n=b;if(n===e){b=null;break}var s=n.sibling;if(s!==null){s.return=n.return,b=s;break}b=n.return}}function Yd(e){for(;b!==null;){var n=b;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Xs(4,n)}catch(y){De(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(y){De(n,a,y)}}var f=n.return;try{ku(n)}catch(y){De(n,f,y)}break;case 5:var h=n.return;try{ku(n)}catch(y){De(n,h,y)}}}catch(y){De(n,n.return,y)}if(n===e){b=null;break}var _=n.sibling;if(_!==null){_.return=n.return,b=_;break}b=n.return}}var Z_=Math.ceil,Js=V.ReactCurrentDispatcher,Nu=V.ReactCurrentOwner,kt=V.ReactCurrentBatchConfig,ue=0,je=null,Me=null,Ve=0,_t=0,Dr=wn(0),Fe=0,Ri=null,Vn=0,Zs=0,Ru=0,xi=null,lt=null,xu=0,Or=1/0,rn=null,eo=!1,Pu=null,In=null,to=!1,Nn=null,no=0,Pi=0,Du=null,ro=-1,io=0;function nt(){return ue&6?Oe():ro!==-1?ro:ro=Oe()}function Rn(e){return e.mode&1?ue&2&&Ve!==0?Ve&-Ve:F_.transition!==null?(io===0&&(io=Wc()),io):(e=me,e!==0||(e=window.event,e=e===void 0?16:Xc(e.type)),e):1}function Ft(e,n,s,l){if(50<Pi)throw Pi=0,Du=null,Error(r(185));ei(e,s,l),(!(ue&2)||e!==je)&&(e===je&&(!(ue&2)&&(Zs|=s),Fe===4&&xn(e,Ve)),ut(e,l),s===1&&ue===0&&!(n.mode&1)&&(Or=Oe()+500,Os&&En()))}function ut(e,n){var s=e.callbackNode;Fg(e,n);var l=hs(e,e===je?Ve:0);if(l===0)s!==null&&jc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&jc(s),n===1)e.tag===0?L_(Jd.bind(null,e)):zf(Jd.bind(null,e)),D_(function(){!(ue&6)&&En()}),s=null;else{switch(Hc(l)){case 1:s=cl;break;case 4:s=Uc;break;case 16:s=as;break;case 536870912:s=Bc;break;default:s=as}s=oh(s,Xd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Xd(e,n){if(ro=-1,io=0,ue&6)throw Error(r(327));var s=e.callbackNode;if(Ar()&&e.callbackNode!==s)return null;var l=hs(e,e===je?Ve:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=so(e,l);else{n=l;var a=ue;ue|=2;var f=eh();(je!==e||Ve!==n)&&(rn=null,Or=Oe()+500,Kn(e,n));do try{ny();break}catch(_){Zd(e,_)}while(!0);ql(),Js.current=f,ue=a,Me!==null?n=0:(je=null,Ve=0,n=Fe)}if(n!==0){if(n===2&&(a=fl(e),a!==0&&(l=a,n=Ou(e,a))),n===1)throw s=Ri,Kn(e,0),xn(e,l),ut(e,Oe()),s;if(n===6)xn(e,l);else{if(a=e.current.alternate,!(l&30)&&!ey(a)&&(n=so(e,l),n===2&&(f=fl(e),f!==0&&(l=f,n=Ou(e,f))),n===1))throw s=Ri,Kn(e,0),xn(e,l),ut(e,Oe()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Qn(e,lt,rn);break;case 3:if(xn(e,l),(l&130023424)===l&&(n=xu+500-Oe(),10<n)){if(hs(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){nt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=bl(Qn.bind(null,e,lt,rn),n);break}Qn(e,lt,rn);break;case 4:if(xn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-Pt(l);f=1<<h,h=n[h],h>a&&(a=h),l&=~f}if(l=a,l=Oe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*Z_(l/1960))-l,10<l){e.timeoutHandle=bl(Qn.bind(null,e,lt,rn),l);break}Qn(e,lt,rn);break;case 5:Qn(e,lt,rn);break;default:throw Error(r(329))}}}return ut(e,Oe()),e.callbackNode===s?Xd.bind(null,e):null}function Ou(e,n){var s=xi;return e.current.memoizedState.isDehydrated&&(Kn(e,n).flags|=256),e=so(e,n),e!==2&&(n=lt,lt=s,n!==null&&Au(n)),e}function Au(e){lt===null?lt=e:lt.push.apply(lt,e)}function ey(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],f=a.getSnapshot;a=a.value;try{if(!Dt(f(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~Ru,n&=~Zs,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Pt(n),l=1<<s;e[s]=-1,n&=~l}}function Jd(e){if(ue&6)throw Error(r(327));Ar();var n=hs(e,0);if(!(n&1))return ut(e,Oe()),null;var s=so(e,n);if(e.tag!==0&&s===2){var l=fl(e);l!==0&&(n=l,s=Ou(e,l))}if(s===1)throw s=Ri,Kn(e,0),xn(e,n),ut(e,Oe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qn(e,lt,rn),ut(e,Oe()),null}function Mu(e,n){var s=ue;ue|=1;try{return e(n)}finally{ue=s,ue===0&&(Or=Oe()+500,Os&&En())}}function Gn(e){Nn!==null&&Nn.tag===0&&!(ue&6)&&Ar();var n=ue;ue|=1;var s=kt.transition,l=me;try{if(kt.transition=null,me=1,e)return e()}finally{me=l,kt.transition=s,ue=n,!(ue&6)&&En()}}function Lu(){_t=Dr.current,Se(Dr)}function Kn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,P_(s)),Me!==null)for(s=Me.return;s!==null;){var l=s;switch($l(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ps();break;case 3:Rr(),Se(it),Se(qe),ru();break;case 5:tu(l);break;case 4:Rr();break;case 13:Se(Re);break;case 19:Se(Re);break;case 10:Yl(l.type._context);break;case 22:case 23:Lu()}s=s.return}if(je=e,Me=e=Pn(e.current,null),Ve=_t=n,Fe=0,Ri=null,Ru=Zs=Vn=0,lt=xi=null,Wn!==null){for(n=0;n<Wn.length;n++)if(s=Wn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,f=s.pending;if(f!==null){var h=f.next;f.next=a,l.next=h}s.pending=l}Wn=null}return e}function Zd(e,n){do{var s=Me;try{if(ql(),Ws.current=Gs,Hs){for(var l=xe.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Hs=!1}if($n=0,be=Le=xe=null,Ei=!1,Ci=0,Nu.current=null,s===null||s.return===null){Fe=1,Ri=n,Me=null;break}e:{var f=e,h=s.return,_=s,y=n;if(n=Ve,_.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var I=y,x=_,P=x.tag;if(!(x.mode&1)&&(P===0||P===11||P===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var z=kd(h);if(z!==null){z.flags&=-257,Td(z,h,_,f,n),z.mode&1&&Cd(f,I,n),n=z,y=I;var U=n.updateQueue;if(U===null){var B=new Set;B.add(y),n.updateQueue=B}else U.add(y);break e}else{if(!(n&1)){Cd(f,I,n),Fu();break e}y=Error(r(426))}}else if(Ie&&_.mode&1){var Ae=kd(h);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),Td(Ae,h,_,f,n),Kl(xr(y,_));break e}}f=y=xr(y,_),Fe!==4&&(Fe=2),xi===null?xi=[f]:xi.push(f),f=h;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var C=Sd(f,y,n);Qf(f,C);break e;case 1:_=y;var S=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof S.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(In===null||!In.has(k)))){f.flags|=65536,n&=-n,f.lanes|=n;var D=Ed(f,_,n);Qf(f,D);break e}}f=f.return}while(f!==null)}nh(s)}catch(W){n=W,Me===s&&s!==null&&(Me=s=s.return);continue}break}while(!0)}function eh(){var e=Js.current;return Js.current=Gs,e===null?Gs:e}function Fu(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),je===null||!(Vn&268435455)&&!(Zs&268435455)||xn(je,Ve)}function so(e,n){var s=ue;ue|=2;var l=eh();(je!==e||Ve!==n)&&(rn=null,Kn(e,n));do try{ty();break}catch(a){Zd(e,a)}while(!0);if(ql(),ue=s,Js.current=l,Me!==null)throw Error(r(261));return je=null,Ve=0,Fe}function ty(){for(;Me!==null;)th(Me)}function ny(){for(;Me!==null&&!Ng();)th(Me)}function th(e){var n=sh(e.alternate,e,_t);e.memoizedProps=e.pendingProps,n===null?nh(e):Me=n,Nu.current=null}function nh(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=q_(s,n),s!==null){s.flags&=32767,Me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(s=Q_(s,n,_t),s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);Fe===0&&(Fe=5)}function Qn(e,n,s){var l=me,a=kt.transition;try{kt.transition=null,me=1,ry(e,n,s,l)}finally{kt.transition=a,me=l}return null}function ry(e,n,s,l){do Ar();while(Nn!==null);if(ue&6)throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(zg(e,f),e===je&&(Me=je=null,Ve=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||to||(to=!0,oh(as,function(){return Ar(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=kt.transition,kt.transition=null;var h=me;me=1;var _=ue;ue|=4,Nu.current=null,X_(e,s),Gd(s,e),C_(Fl),gs=!!Ll,Fl=Ll=null,e.current=s,J_(s),Rg(),ue=_,me=h,kt.transition=f}else e.current=s;if(to&&(to=!1,Nn=e,no=a),f=e.pendingLanes,f===0&&(In=null),Dg(s.stateNode),ut(e,Oe()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(eo)throw eo=!1,e=Pu,Pu=null,e;return no&1&&e.tag!==0&&Ar(),f=e.pendingLanes,f&1?e===Du?Pi++:(Pi=0,Du=e):Pi=0,En(),null}function Ar(){if(Nn!==null){var e=Hc(no),n=kt.transition,s=me;try{if(kt.transition=null,me=16>e?16:e,Nn===null)var l=!1;else{if(e=Nn,Nn=null,no=0,ue&6)throw Error(r(331));var a=ue;for(ue|=4,b=e.current;b!==null;){var f=b,h=f.child;if(b.flags&16){var _=f.deletions;if(_!==null){for(var y=0;y<_.length;y++){var I=_[y];for(b=I;b!==null;){var x=b;switch(x.tag){case 0:case 11:case 15:Ni(8,x,f)}var P=x.child;if(P!==null)P.return=x,b=P;else for(;b!==null;){x=b;var N=x.sibling,z=x.return;if(Bd(x),x===I){b=null;break}if(N!==null){N.return=z,b=N;break}b=z}}}var U=f.alternate;if(U!==null){var B=U.child;if(B!==null){U.child=null;do{var Ae=B.sibling;B.sibling=null,B=Ae}while(B!==null)}}b=f}}if(f.subtreeFlags&2064&&h!==null)h.return=f,b=h;else e:for(;b!==null;){if(f=b,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ni(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,b=C;break e}b=f.return}}var S=e.current;for(b=S;b!==null;){h=b;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,b=k;else e:for(h=S;b!==null;){if(_=b,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Xs(9,_)}}catch(W){De(_,_.return,W)}if(_===h){b=null;break e}var D=_.sibling;if(D!==null){D.return=_.return,b=D;break e}b=_.return}}if(ue=a,En(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(cs,e)}catch{}l=!0}return l}finally{me=s,kt.transition=n}}return!1}function rh(e,n,s){n=xr(s,n),n=Sd(e,n,1),e=kn(e,n,1),n=nt(),e!==null&&(ei(e,1,n),ut(e,n))}function De(e,n,s){if(e.tag===3)rh(e,e,s);else for(;n!==null;){if(n.tag===3){rh(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=xr(s,e),e=Ed(n,e,1),n=kn(n,e,1),e=nt(),n!==null&&(ei(n,1,e),ut(n,e));break}}n=n.return}}function iy(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=nt(),e.pingedLanes|=e.suspendedLanes&s,je===e&&(Ve&s)===s&&(Fe===4||Fe===3&&(Ve&130023424)===Ve&&500>Oe()-xu?Kn(e,0):Ru|=s),ut(e,n)}function ih(e,n){n===0&&(e.mode&1?(n=ds,ds<<=1,!(ds&130023424)&&(ds=4194304)):n=1);var s=nt();e=en(e,n),e!==null&&(ei(e,n,s),ut(e,s))}function sy(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),ih(e,s)}function oy(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),ih(e,s)}var sh;sh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||it.current)ot=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ot=!1,K_(e,n,s);ot=!!(e.flags&131072)}else ot=!1,Ie&&n.flags&1048576&&bf(n,Ms,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;qs(e,n),e=n.pendingProps;var a=Sr(n,qe.current);Nr(n,s),a=ou(null,n,l,e,a,s);var f=lu();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,st(l)?(f=!0,Ds(n)):f=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Zl(n),a.updater=Ks,n.stateNode=a,a._reactInternals=n,hu(n,l,e,s),n=_u(null,n,l,!0,f,s)):(n.tag=0,Ie&&f&&Hl(n),tt(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(qs(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=uy(l),e=At(l,e),a){case 0:n=gu(null,n,l,e,s);break e;case 1:n=Dd(null,n,l,e,s);break e;case 11:n=Id(null,n,l,e,s);break e;case 14:n=Nd(null,n,l,At(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),gu(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),Dd(e,n,l,a,s);case 3:e:{if(Od(n),e===null)throw Error(r(387));l=n.pendingProps,f=n.memoizedState,a=f.element,Kf(e,n),Us(n,l,null,s);var h=n.memoizedState;if(l=h.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){a=xr(Error(r(423)),n),n=Ad(e,n,l,s,a);break e}else if(l!==a){a=xr(Error(r(424)),n),n=Ad(e,n,l,s,a);break e}else for(gt=vn(n.stateNode.containerInfo.firstChild),mt=n,Ie=!0,Ot=null,s=Vf(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(kr(),l===a){n=nn(e,n,s);break e}tt(e,n,l,s)}n=n.child}return n;case 5:return Yf(n),e===null&&Gl(n),l=n.type,a=n.pendingProps,f=e!==null?e.memoizedProps:null,h=a.children,zl(l,a)?h=null:f!==null&&zl(l,f)&&(n.flags|=32),Pd(e,n),tt(e,n,h,s),n.child;case 6:return e===null&&Gl(n),null;case 13:return Md(e,n,s);case 4:return eu(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Tr(n,null,l,s):tt(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),Id(e,n,l,a,s);case 7:return tt(e,n,n.pendingProps,s),n.child;case 8:return tt(e,n,n.pendingProps.children,s),n.child;case 12:return tt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,f=n.memoizedProps,h=a.value,ye(zs,l._currentValue),l._currentValue=h,f!==null)if(Dt(f.value,h)){if(f.children===a.children&&!it.current){n=nn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){h=f.child;for(var y=_.firstContext;y!==null;){if(y.context===l){if(f.tag===1){y=tn(-1,s&-s),y.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var x=I.pending;x===null?y.next=y:(y.next=x.next,x.next=y),I.pending=y}}f.lanes|=s,y=f.alternate,y!==null&&(y.lanes|=s),Xl(f.return,s,n),_.lanes|=s;break}y=y.next}}else if(f.tag===10)h=f.type===n.type?null:f.child;else if(f.tag===18){if(h=f.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Xl(h,s,n),h=f.sibling}else h=f.child;if(h!==null)h.return=f;else for(h=f;h!==null;){if(h===n){h=null;break}if(f=h.sibling,f!==null){f.return=h.return,h=f;break}h=h.return}f=h}tt(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,Nr(n,s),a=Et(a),l=l(a),n.flags|=1,tt(e,n,l,s),n.child;case 14:return l=n.type,a=At(l,n.pendingProps),a=At(l.type,a),Nd(e,n,l,a,s);case 15:return Rd(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),qs(e,n),n.tag=1,st(l)?(e=!0,Ds(n)):e=!1,Nr(n,s),vd(n,l,a),hu(n,l,a,s),_u(null,n,l,!0,e,s);case 19:return Fd(e,n,s);case 22:return xd(e,n,s)}throw Error(r(156,n.tag))};function oh(e,n){return bc(e,n)}function ly(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,n,s,l){return new ly(e,n,s,l)}function zu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function uy(e){if(typeof e=="function")return zu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ut)return 11;if(e===Bt)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=Tt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function oo(e,n,s,l,a,f){var h=2;if(l=e,typeof e=="function")zu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case he:return qn(s.children,a,f,n);case ee:h=8,a|=8;break;case He:return e=Tt(12,s,n,a|2),e.elementType=He,e.lanes=f,e;case dt:return e=Tt(13,s,n,a),e.elementType=dt,e.lanes=f,e;case xt:return e=Tt(19,s,n,a),e.elementType=xt,e.lanes=f,e;case Pe:return lo(s,a,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rt:h=10;break e;case qt:h=9;break e;case Ut:h=11;break e;case Bt:h=14;break e;case rt:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=Tt(h,s,n,a),n.elementType=e,n.type=l,n.lanes=f,n}function qn(e,n,s,l){return e=Tt(7,e,l,n),e.lanes=s,e}function lo(e,n,s,l){return e=Tt(22,e,l,n),e.elementType=Pe,e.lanes=s,e.stateNode={isHidden:!1},e}function bu(e,n,s){return e=Tt(6,e,null,n),e.lanes=s,e}function ju(e,n,s){return n=Tt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ay(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dl(0),this.expirationTimes=dl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dl(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uu(e,n,s,l,a,f,h,_,y){return e=new ay(e,n,s,_,y),n===1?(n=1,f===!0&&(n|=8)):n=0,f=Tt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zl(f),e}function cy(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function lh(e){if(!e)return Sn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(st(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(st(s))return Lf(e,s,n)}return n}function uh(e,n,s,l,a,f,h,_,y){return e=Uu(s,l,!0,e,a,f,h,_,y),e.context=lh(null),s=e.current,l=nt(),a=Rn(s),f=tn(l,a),f.callback=n??null,kn(s,f,a),e.current.lanes=a,ei(e,a,l),ut(e,l),e}function uo(e,n,s,l){var a=n.current,f=nt(),h=Rn(a);return s=lh(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(f,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=kn(a,n,h),e!==null&&(Ft(e,a,h,f),js(e,a,h)),h}function ao(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ah(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Bu(e,n){ah(e,n),(e=e.alternate)&&ah(e,n)}var ch=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}co.prototype.render=Wu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));uo(e,n,null,null)},co.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Gn(function(){uo(null,e,null,null)}),n[Yt]=null}};function co(e){this._internalRoot=e}co.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&qc(e)}};function Hu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fh(){}function fy(e,n,s,l,a){if(a){if(typeof l=="function"){var f=l;l=function(){var I=ao(h);f.call(I)}}var h=uh(n,l,e,0,null,!1,!1,"",fh);return e._reactRootContainer=h,e[Yt]=h.current,pi(e.nodeType===8?e.parentNode:e),Gn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var _=l;l=function(){var I=ao(y);_.call(I)}}var y=Uu(e,0,!1,null,null,!1,!1,"",fh);return e._reactRootContainer=y,e[Yt]=y.current,pi(e.nodeType===8?e.parentNode:e),Gn(function(){uo(n,y,s,l)}),y}function ho(e,n,s,l,a){var f=s._reactRootContainer;if(f){var h=f;if(typeof a=="function"){var _=a;a=function(){var y=ao(h);_.call(y)}}uo(n,h,e,a)}else h=fy(s,n,e,a,l);return ao(h)}$c=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Zr(n.pendingLanes);s!==0&&(hl(n,s|1),ut(n,Oe()),!(ue&6)&&(Or=Oe()+500,En()))}break;case 13:Gn(function(){var l=en(e,1);if(l!==null){var a=nt();Ft(l,e,1,a)}}),Bu(e,1)}},pl=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=nt();Ft(n,e,134217728,s)}Bu(e,134217728)}},Vc=function(e){if(e.tag===13){var n=Rn(e),s=en(e,n);if(s!==null){var l=nt();Ft(s,e,n,l)}Bu(e,n)}},Gc=function(){return me},Kc=function(e,n){var s=me;try{return me=e,n()}finally{me=s}},ol=function(e,n,s){switch(n){case"input":if(Jo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=xs(l);if(!a)throw Error(r(90));_c(l),Jo(l,a)}}}break;case"textarea":Ec(e,s);break;case"select":n=s.value,n!=null&&ar(e,!!s.multiple,n,!1)}},Dc=Mu,Oc=Gn;var dy={usingClientEntryPoint:!1,Events:[_i,vr,xs,xc,Pc,Mu]},Di={findFiberByHostInstance:bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hy={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fc(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{cs=po.inject(hy),Wt=po}catch{}}return at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dy,at.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hu(n))throw Error(r(200));return cy(e,n,null,s)},at.createRoot=function(e,n){if(!Hu(e))throw Error(r(299));var s=!1,l="",a=ch;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=Uu(e,1,!1,null,null,s,!1,l,a),e[Yt]=n.current,pi(e.nodeType===8?e.parentNode:e),new Wu(n)},at.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Fc(n),e=e===null?null:e.stateNode,e},at.flushSync=function(e){return Gn(e)},at.hydrate=function(e,n,s){if(!fo(n))throw Error(r(200));return ho(null,e,n,!0,s)},at.hydrateRoot=function(e,n,s){if(!Hu(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,a=!1,f="",h=ch;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=uh(n,null,e,1,s??null,a,!1,f,h),e[Yt]=n.current,pi(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new co(n)},at.render=function(e,n,s){if(!fo(n))throw Error(r(200));return ho(null,e,n,!1,s)},at.unmountComponentAtNode=function(e){if(!fo(e))throw Error(r(40));return e._reactRootContainer?(Gn(function(){ho(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},at.unstable_batchedUpdates=Mu,at.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!fo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ho(e,n,s,!1,l)},at.version="18.3.1-next-f1338f8080-20240426",at}var vh;function Ty(){if(vh)return Gu.exports;vh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Gu.exports=ky(),Gu.exports}var wh;function Iy(){if(wh)return mo;wh=1;var i=Ty();return mo.createRoot=i.createRoot,mo.hydrateRoot=i.hydrateRoot,mo}var Ny=Iy();const Np="/DIRI_REDUX/assets/Hamburg-5kXPp-4v.jpg";let Ry=class{constructor(){Oi(this,"levels");Oi(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no válido: ${t}`)}log(t,r){const o=this.levels.indexOf(t),u=this.levels.indexOf(this.currentLevel);if(o>=u){const c=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${c}: ${r}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}};const tr=new Ry,xy=async(i,t,r)=>{r(!0);try{const o=await fetch(`https://timeapi.io/api/time/current/zone?timeZone=${i}`);if(!o.ok)throw new Error(`Error: ${o.status}`);const u=await o.json();return t(u),u}catch(o){console.error("Fetch error:",o),t(void 0)}finally{tr.debug("Finaliza"),r(!1)}};var qu={exports:{}},Yu={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh;function Py(){if(Sh)return Yu;Sh=1;var i=bo();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,o=i.useSyncExternalStore,u=i.useRef,c=i.useEffect,d=i.useMemo,p=i.useDebugValue;return Yu.useSyncExternalStoreWithSelector=function(m,g,w,v,T){var A=u(null);if(A.current===null){var O={hasValue:!1,value:null};A.current=O}else O=A.current;A=d(function(){function F(X){if(!re){if(re=!0,J=X,X=v(X),T!==void 0&&O.hasValue){var Z=O.value;if(T(Z,X))return $=Z}return $=X}if(Z=$,r(J,X))return Z;var he=v(X);return T!==void 0&&T(Z,he)?(J=X,Z):(J=X,$=he)}var re=!1,J,$,V=w===void 0?null:w;return[function(){return F(g())},V===null?void 0:function(){return F(V())}]},[g,w,v,T]);var H=o(m,A[0],A[1]);return c(function(){O.hasValue=!0,O.value=H},[H]),p(H),H},Yu}var Eh;function Dy(){return Eh||(Eh=1,qu.exports=Py()),qu.exports}var Oy=Dy();function Ay(i){i()}function My(){let i=null,t=null;return{clear(){i=null,t=null},notify(){Ay(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let o=i;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0;const u=t={callback:r,next:null,prev:t};return u.prev?u.prev.next=u:i=u,function(){!o||i===null||(o=!1,u.next?u.next.prev=u.prev:t=u.prev,u.prev?u.prev.next=u.next:i=u.next)}}}}var Ch={notify(){},get:()=>[]};function Ly(i,t){let r,o=Ch,u=0,c=!1;function d(H){w();const F=o.subscribe(H);let re=!1;return()=>{re||(re=!0,F(),v())}}function p(){o.notify()}function m(){O.onStateChange&&O.onStateChange()}function g(){return c}function w(){u++,r||(r=i.subscribe(m),o=My())}function v(){u--,r&&u===0&&(r(),r=void 0,o.clear(),o=Ch)}function T(){c||(c=!0,w())}function A(){c&&(c=!1,v())}const O={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:T,tryUnsubscribe:A,getListeners:()=>o};return O}var Fy=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zy=Fy(),by=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jy=by(),Uy=()=>zy||jy?Ne.useLayoutEffect:Ne.useEffect,By=Uy(),Xu=Symbol.for("react-redux-context"),Ju=typeof globalThis<"u"?globalThis:{};function Wy(){if(!Ne.createContext)return{};const i=Ju[Xu]??(Ju[Xu]=new Map);let t=i.get(Ne.createContext);return t||(t=Ne.createContext(null),i.set(Ne.createContext,t)),t}var Ln=Wy();function Hy(i){const{children:t,context:r,serverState:o,store:u}=i,c=Ne.useMemo(()=>{const m=Ly(u);return{store:u,subscription:m,getServerState:o?()=>o:void 0}},[u,o]),d=Ne.useMemo(()=>u.getState(),[u]);By(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==u.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=r||Ln;return Ne.createElement(p.Provider,{value:c},t)}var $y=Hy;function Ua(i=Ln){return function(){return Ne.useContext(i)}}var Rp=Ua();function xp(i=Ln){const t=i===Ln?Rp:Ua(i),r=()=>{const{store:o}=t();return o};return Object.assign(r,{withTypes:()=>r}),r}var Vy=xp();function Gy(i=Ln){const t=i===Ln?Vy:xp(i),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var Ky=Gy(),Qy=(i,t)=>i===t;function qy(i=Ln){const t=i===Ln?Rp:Ua(i),r=(o,u={})=>{const{equalityFn:c=Qy}=typeof u=="function"?{equalityFn:u}:u,d=t(),{store:p,subscription:m,getServerState:g}=d;Ne.useRef(!0);const w=Ne.useCallback({[o.name](T){return o(T)}}[o.name],[o]),v=Oy.useSyncExternalStoreWithSelector(m.addNestedSub,p.getState,g||p.getState,w,c);return Ne.useDebugValue(v),v};return Object.assign(r,{withTypes:()=>r}),r}var Ui=qy();function Ge(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var Yy=typeof Symbol=="function"&&Symbol.observable||"@@observable",kh=Yy,Zu=()=>Math.random().toString(36).substring(7).split("").join("."),Xy={INIT:`@@redux/INIT${Zu()}`,REPLACE:`@@redux/REPLACE${Zu()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Zu()}`},So=Xy;function Ba(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function Pp(i,t,r){if(typeof i!="function")throw new Error(Ge(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ge(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ge(1));return r(Pp)(i,t)}let o=i,u=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((F,re)=>{d.set(re,F)}))}function w(){if(m)throw new Error(Ge(3));return u}function v(F){if(typeof F!="function")throw new Error(Ge(4));if(m)throw new Error(Ge(5));let re=!0;g();const J=p++;return d.set(J,F),function(){if(re){if(m)throw new Error(Ge(6));re=!1,g(),d.delete(J),c=null}}}function T(F){if(!Ba(F))throw new Error(Ge(7));if(typeof F.type>"u")throw new Error(Ge(8));if(typeof F.type!="string")throw new Error(Ge(17));if(m)throw new Error(Ge(9));try{m=!0,u=o(u,F)}finally{m=!1}return(c=d).forEach(J=>{J()}),F}function A(F){if(typeof F!="function")throw new Error(Ge(10));o=F,T({type:So.REPLACE})}function O(){const F=v;return{subscribe(re){if(typeof re!="object"||re===null)throw new Error(Ge(11));function J(){const V=re;V.next&&V.next(w())}return J(),{unsubscribe:F(J)}},[kh](){return this}}}return T({type:So.INIT}),{dispatch:T,subscribe:v,getState:w,replaceReducer:A,[kh]:O}}function Jy(i){Object.keys(i).forEach(t=>{const r=i[t];if(typeof r(void 0,{type:So.INIT})>"u")throw new Error(Ge(12));if(typeof r(void 0,{type:So.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ge(13))})}function Zy(i){const t=Object.keys(i),r={};for(let c=0;c<t.length;c++){const d=t[c];typeof i[d]=="function"&&(r[d]=i[d])}const o=Object.keys(r);let u;try{Jy(r)}catch(c){u=c}return function(d={},p){if(u)throw u;let m=!1;const g={};for(let w=0;w<o.length;w++){const v=o[w],T=r[v],A=d[v],O=T(A,p);if(typeof O>"u")throw p&&p.type,new Error(Ge(14));g[v]=O,m=m||O!==A}return m=m||o.length!==Object.keys(d).length,m?g:d}}function Eo(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,r)=>(...o)=>t(r(...o)))}function ev(...i){return t=>(r,o)=>{const u=t(r,o);let c=()=>{throw new Error(Ge(15))};const d={getState:u.getState,dispatch:(m,...g)=>c(m,...g)},p=i.map(m=>m(d));return c=Eo(...p)(u.dispatch),{...u,dispatch:c}}}function tv(i){return Ba(i)&&"type"in i&&typeof i.type=="string"}var Dp=Symbol.for("immer-nothing"),Th=Symbol.for("immer-draftable"),yt=Symbol.for("immer-state");function zt(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var br=Object.getPrototypeOf;function nr(i){return!!i&&!!i[yt]}function un(i){var t;return i?Op(i)||Array.isArray(i)||!!i[Th]||!!((t=i.constructor)!=null&&t[Th])||Uo(i)||Bo(i):!1}var nv=Object.prototype.constructor.toString();function Op(i){if(!i||typeof i!="object")return!1;const t=br(i);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===nv}function Co(i,t){jo(i)===0?Reflect.ownKeys(i).forEach(r=>{t(r,i[r],i)}):i.forEach((r,o)=>t(o,r,i))}function jo(i){const t=i[yt];return t?t.type_:Array.isArray(i)?1:Uo(i)?2:Bo(i)?3:0}function pa(i,t){return jo(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function Ap(i,t,r){const o=jo(i);o===2?i.set(t,r):o===3?i.add(r):i[t]=r}function rv(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function Uo(i){return i instanceof Map}function Bo(i){return i instanceof Set}function Yn(i){return i.copy_||i.base_}function ma(i,t){if(Uo(i))return new Map(i);if(Bo(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=Op(i);if(t===!0||t==="class_only"&&!r){const o=Object.getOwnPropertyDescriptors(i);delete o[yt];let u=Reflect.ownKeys(o);for(let c=0;c<u.length;c++){const d=u[c],p=o[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(o[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:i[d]})}return Object.create(br(i),o)}else{const o=br(i);if(o!==null&&r)return{...i};const u=Object.create(o);return Object.assign(u,i)}}function Wa(i,t=!1){return Wo(i)||nr(i)||!un(i)||(jo(i)>1&&(i.set=i.add=i.clear=i.delete=iv),Object.freeze(i),t&&Object.entries(i).forEach(([r,o])=>Wa(o,!0))),i}function iv(){zt(2)}function Wo(i){return Object.isFrozen(i)}var sv={};function rr(i){const t=sv[i];return t||zt(0,i),t}var Gi;function Mp(){return Gi}function ov(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ih(i,t){t&&(rr("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function ga(i){_a(i),i.drafts_.forEach(lv),i.drafts_=null}function _a(i){i===Gi&&(Gi=i.parent_)}function Nh(i){return Gi=ov(Gi,i)}function lv(i){const t=i[yt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Rh(i,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return i!==void 0&&i!==r?(r[yt].modified_&&(ga(t),zt(4)),un(i)&&(i=ko(t,i),t.parent_||To(t,i)),t.patches_&&rr("Patches").generateReplacementPatches_(r[yt].base_,i,t.patches_,t.inversePatches_)):i=ko(t,r,[]),ga(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==Dp?i:void 0}function ko(i,t,r){if(Wo(t))return t;const o=t[yt];if(!o)return Co(t,(u,c)=>xh(i,o,t,u,c,r)),t;if(o.scope_!==i)return t;if(!o.modified_)return To(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const u=o.copy_;let c=u,d=!1;o.type_===3&&(c=new Set(u),u.clear(),d=!0),Co(c,(p,m)=>xh(i,o,u,p,m,r,d)),To(i,u,!1),r&&i.patches_&&rr("Patches").generatePatches_(o,r,i.patches_,i.inversePatches_)}return o.copy_}function xh(i,t,r,o,u,c,d){if(nr(u)){const p=c&&t&&t.type_!==3&&!pa(t.assigned_,o)?c.concat(o):void 0,m=ko(i,u,p);if(Ap(r,o,m),nr(m))i.canAutoFreeze_=!1;else return}else d&&r.add(u);if(un(u)&&!Wo(u)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;ko(i,u),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&To(i,u)}}function To(i,t,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&Wa(t,r)}function uv(i,t){const r=Array.isArray(i),o={type_:r?1:0,scope_:t?t.scope_:Mp(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=o,c=Ha;r&&(u=[o],c=Ki);const{revoke:d,proxy:p}=Proxy.revocable(u,c);return o.draft_=p,o.revoke_=d,p}var Ha={get(i,t){if(t===yt)return i;const r=Yn(i);if(!pa(r,t))return av(i,r,t);const o=r[t];return i.finalized_||!un(o)?o:o===ea(i.base_,t)?(ta(i),i.copy_[t]=va(o,i)):o},has(i,t){return t in Yn(i)},ownKeys(i){return Reflect.ownKeys(Yn(i))},set(i,t,r){const o=Lp(Yn(i),t);if(o!=null&&o.set)return o.set.call(i.draft_,r),!0;if(!i.modified_){const u=ea(Yn(i),t),c=u==null?void 0:u[yt];if(c&&c.base_===r)return i.copy_[t]=r,i.assigned_[t]=!1,!0;if(rv(r,u)&&(r!==void 0||pa(i.base_,t)))return!0;ta(i),ya(i)}return i.copy_[t]===r&&(r!==void 0||t in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=r,i.assigned_[t]=!0),!0},deleteProperty(i,t){return ea(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,ta(i),ya(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const r=Yn(i),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty(){zt(11)},getPrototypeOf(i){return br(i.base_)},setPrototypeOf(){zt(12)}},Ki={};Co(Ha,(i,t)=>{Ki[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ki.deleteProperty=function(i,t){return Ki.set.call(this,i,t,void 0)};Ki.set=function(i,t,r){return Ha.set.call(this,i[0],t,r,i[0])};function ea(i,t){const r=i[yt];return(r?Yn(r):i)[t]}function av(i,t,r){var u;const o=Lp(t,r);return o?"value"in o?o.value:(u=o.get)==null?void 0:u.call(i.draft_):void 0}function Lp(i,t){if(!(t in i))return;let r=br(i);for(;r;){const o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=br(r)}}function ya(i){i.modified_||(i.modified_=!0,i.parent_&&ya(i.parent_))}function ta(i){i.copy_||(i.copy_=ma(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var cv=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,o)=>{if(typeof t=="function"&&typeof r!="function"){const c=r;r=t;const d=this;return function(m=c,...g){return d.produce(m,w=>r.call(this,w,...g))}}typeof r!="function"&&zt(6),o!==void 0&&typeof o!="function"&&zt(7);let u;if(un(t)){const c=Nh(this),d=va(t,void 0);let p=!0;try{u=r(d),p=!1}finally{p?ga(c):_a(c)}return Ih(c,o),Rh(u,c)}else if(!t||typeof t!="object"){if(u=r(t),u===void 0&&(u=t),u===Dp&&(u=void 0),this.autoFreeze_&&Wa(u,!0),o){const c=[],d=[];rr("Patches").generateReplacementPatches_(t,u,c,d),o(c,d)}return u}else zt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let o,u;return[this.produce(t,r,(d,p)=>{o=d,u=p}),o,u]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){un(i)||zt(8),nr(i)&&(i=fv(i));const t=Nh(this),r=va(i,void 0);return r[yt].isManual_=!0,_a(t),r}finishDraft(i,t){const r=i&&i[yt];(!r||!r.isManual_)&&zt(9);const{scope_:o}=r;return Ih(o,t),Rh(void 0,o)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let r;for(r=t.length-1;r>=0;r--){const u=t[r];if(u.path.length===0&&u.op==="replace"){i=u.value;break}}r>-1&&(t=t.slice(r+1));const o=rr("Patches").applyPatches_;return nr(i)?o(i,t):this.produce(i,u=>o(u,t))}};function va(i,t){const r=Uo(i)?rr("MapSet").proxyMap_(i,t):Bo(i)?rr("MapSet").proxySet_(i,t):uv(i,t);return(t?t.scope_:Mp()).drafts_.push(r),r}function fv(i){return nr(i)||zt(10,i),Fp(i)}function Fp(i){if(!un(i)||Wo(i))return i;const t=i[yt];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ma(i,t.scope_.immer_.useStrictShallowCopy_)}else r=ma(i,!0);return Co(r,(o,u)=>{Ap(r,o,Fp(u))}),t&&(t.finalized_=!1),r}var vt=new cv,zp=vt.produce;vt.produceWithPatches.bind(vt);vt.setAutoFreeze.bind(vt);vt.setUseStrictShallowCopy.bind(vt);vt.applyPatches.bind(vt);vt.createDraft.bind(vt);vt.finishDraft.bind(vt);function bp(i){return({dispatch:r,getState:o})=>u=>c=>typeof c=="function"?c(r,o,i):u(c)}var dv=bp(),hv=bp,pv=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Eo:Eo.apply(null,arguments)},mv=i=>i&&typeof i.match=="function";function Bi(i,t){function r(...o){if(t){let u=t(...o);if(!u)throw new Error(on(0));return{type:i,payload:u.payload,..."meta"in u&&{meta:u.meta},..."error"in u&&{error:u.error}}}return{type:i,payload:o[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=o=>tv(o)&&o.type===i,r}var jp=class ji extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ji.prototype)}static get[Symbol.species](){return ji}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ji(...t[0].concat(this)):new ji(...t.concat(this))}};function Ph(i){return un(i)?zp(i,()=>{}):i}function Dh(i,t,r){return i.has(t)?i.get(t):i.set(t,r(t)).get(t)}function gv(i){return typeof i=="boolean"}var _v=()=>function(t){const{thunk:r=!0,immutableCheck:o=!0,serializableCheck:u=!0,actionCreatorCheck:c=!0}=t??{};let d=new jp;return r&&(gv(r)?d.push(dv):d.push(hv(r.extraArgument))),d},yv="RTK_autoBatch",Oh=i=>t=>{setTimeout(t,i)},vv=(i={type:"raf"})=>t=>(...r)=>{const o=t(...r);let u=!0,c=!1,d=!1;const p=new Set,m=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Oh(10):i.type==="callback"?i.queueNotification:Oh(i.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(w=>w()))};return Object.assign({},o,{subscribe(w){const v=()=>u&&w(),T=o.subscribe(v);return p.add(w),()=>{T(),p.delete(w)}},dispatch(w){var v;try{return u=!((v=w==null?void 0:w.meta)!=null&&v[yv]),c=!u,c&&(d||(d=!0,m(g))),o.dispatch(w)}finally{u=!0}}})},wv=i=>function(r){const{autoBatch:o=!0}=r??{};let u=new jp(i);return o&&u.push(vv(typeof o=="object"?o:void 0)),u};function Sv(i){const t=_v(),{reducer:r=void 0,middleware:o,devTools:u=!0,preloadedState:c=void 0,enhancers:d=void 0}=i;let p;if(typeof r=="function")p=r;else if(Ba(r))p=Zy(r);else throw new Error(on(1));let m;typeof o=="function"?m=o(t):m=t();let g=Eo;u&&(g=pv({trace:!1,...typeof u=="object"&&u}));const w=ev(...m),v=wv(w);let T=typeof d=="function"?d(v):v();const A=g(...T);return Pp(p,c,A)}function Up(i){const t={},r=[];let o;const u={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(on(28));if(p in t)throw new Error(on(29));return t[p]=d,u},addMatcher(c,d){return r.push({matcher:c,reducer:d}),u},addDefaultCase(c){return o=c,u}};return i(u),[t,r,o]}function Ev(i){return typeof i=="function"}function Cv(i,t){let[r,o,u]=Up(t),c;if(Ev(i))c=()=>Ph(i());else{const p=Ph(i);c=()=>p}function d(p=c(),m){let g=[r[m.type],...o.filter(({matcher:w})=>w(m)).map(({reducer:w})=>w)];return g.filter(w=>!!w).length===0&&(g=[u]),g.reduce((w,v)=>{if(v)if(nr(w)){const A=v(w,m);return A===void 0?w:A}else{if(un(w))return zp(w,T=>v(T,m));{const T=v(w,m);if(T===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return T}}return w},p)}return d.getInitialState=c,d}var kv=(i,t)=>mv(i)?i.match(t):i(t);function Tv(...i){return t=>i.some(r=>kv(r,t))}var Iv="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Nv=(i=21)=>{let t="",r=i;for(;r--;)t+=Iv[Math.random()*64|0];return t},Rv=["name","message","stack","code"],na=class{constructor(i,t){Oi(this,"_type");this.payload=i,this.meta=t}},Ah=class{constructor(i,t){Oi(this,"_type");this.payload=i,this.meta=t}},xv=i=>{if(typeof i=="object"&&i!==null){const t={};for(const r of Rv)typeof i[r]=="string"&&(t[r]=i[r]);return t}return{message:String(i)}},Pv=(()=>{function i(t,r,o){const u=Bi(t+"/fulfilled",(m,g,w,v)=>({payload:m,meta:{...v||{},arg:w,requestId:g,requestStatus:"fulfilled"}})),c=Bi(t+"/pending",(m,g,w)=>({payload:void 0,meta:{...w||{},arg:g,requestId:m,requestStatus:"pending"}})),d=Bi(t+"/rejected",(m,g,w,v,T)=>({payload:v,error:(o&&o.serializeError||xv)(m||"Rejected"),meta:{...T||{},arg:w,requestId:g,rejectedWithValue:!!v,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function p(m){return(g,w,v)=>{const T=o!=null&&o.idGenerator?o.idGenerator(m):Nv(),A=new AbortController;let O,H;function F(J){H=J,A.abort()}const re=async function(){var V,X;let J;try{let Z=(V=o==null?void 0:o.condition)==null?void 0:V.call(o,m,{getState:w,extra:v});if(Ov(Z)&&(Z=await Z),Z===!1||A.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const he=new Promise((ee,He)=>{O=()=>{He({name:"AbortError",message:H||"Aborted"})},A.signal.addEventListener("abort",O)});g(c(T,m,(X=o==null?void 0:o.getPendingMeta)==null?void 0:X.call(o,{requestId:T,arg:m},{getState:w,extra:v}))),J=await Promise.race([he,Promise.resolve(r(m,{dispatch:g,getState:w,extra:v,requestId:T,signal:A.signal,abort:F,rejectWithValue:(ee,He)=>new na(ee,He),fulfillWithValue:(ee,He)=>new Ah(ee,He)})).then(ee=>{if(ee instanceof na)throw ee;return ee instanceof Ah?u(ee.payload,T,m,ee.meta):u(ee,T,m)})])}catch(Z){J=Z instanceof na?d(null,T,m,Z.payload,Z.meta):d(Z,T,m)}finally{O&&A.signal.removeEventListener("abort",O)}return o&&!o.dispatchConditionRejection&&d.match(J)&&J.meta.condition||g(J),J}();return Object.assign(re,{abort:F,requestId:T,arg:m,unwrap(){return re.then(Dv)}})}}return Object.assign(p,{pending:c,rejected:d,fulfilled:u,settled:Tv(d,u),typePrefix:t})}return i.withTypes=()=>i,i})();function Dv(i){if(i.meta&&i.meta.rejectedWithValue)throw i.payload;if(i.error)throw i.error;return i.payload}function Ov(i){return i!==null&&typeof i=="object"&&typeof i.then=="function"}var Av=Symbol.for("rtk-slice-createasyncthunk");function Mv(i,t){return`${i}/${t}`}function Lv({creators:i}={}){var r;const t=(r=i==null?void 0:i.asyncThunk)==null?void 0:r[Av];return function(u){const{name:c,reducerPath:d=c}=u;if(!c)throw new Error(on(11));const p=(typeof u.reducers=="function"?u.reducers(bv()):u.reducers)||{},m=Object.keys(p),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase($,V){const X=typeof $=="string"?$:$.type;if(!X)throw new Error(on(12));if(X in g.sliceCaseReducersByType)throw new Error(on(13));return g.sliceCaseReducersByType[X]=V,w},addMatcher($,V){return g.sliceMatchers.push({matcher:$,reducer:V}),w},exposeAction($,V){return g.actionCreators[$]=V,w},exposeCaseReducer($,V){return g.sliceCaseReducersByName[$]=V,w}};m.forEach($=>{const V=p[$],X={reducerName:$,type:Mv(c,$),createNotation:typeof u.reducers=="function"};Uv(V)?Wv(X,V,w,t):jv(X,V,w)});function v(){const[$={},V=[],X=void 0]=typeof u.extraReducers=="function"?Up(u.extraReducers):[u.extraReducers],Z={...$,...g.sliceCaseReducersByType};return Cv(u.initialState,he=>{for(let ee in Z)he.addCase(ee,Z[ee]);for(let ee of g.sliceMatchers)he.addMatcher(ee.matcher,ee.reducer);for(let ee of V)he.addMatcher(ee.matcher,ee.reducer);X&&he.addDefaultCase(X)})}const T=$=>$,A=new Map;let O;function H($,V){return O||(O=v()),O($,V)}function F(){return O||(O=v()),O.getInitialState()}function re($,V=!1){function X(he){let ee=he[$];return typeof ee>"u"&&V&&(ee=F()),ee}function Z(he=T){const ee=Dh(A,V,()=>new WeakMap);return Dh(ee,he,()=>{const He={};for(const[Rt,qt]of Object.entries(u.selectors??{}))He[Rt]=Fv(qt,he,F,V);return He})}return{reducerPath:$,getSelectors:Z,get selectors(){return Z(X)},selectSlice:X}}const J={name:c,reducer:H,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:F,...re(d),injectInto($,{reducerPath:V,...X}={}){const Z=V??d;return $.inject({reducerPath:Z,reducer:H},X),{...J,...re(Z,!0)}}};return J}}function Fv(i,t,r,o){function u(c,...d){let p=t(c);return typeof p>"u"&&o&&(p=r()),i(p,...d)}return u.unwrapped=i,u}var zv=Lv();function bv(){function i(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:i}}function jv({type:i,reducerName:t,createNotation:r},o,u){let c,d;if("reducer"in o){if(r&&!Bv(o))throw new Error(on(17));c=o.reducer,d=o.prepare}else c=o;u.addCase(i,c).exposeCaseReducer(t,c).exposeAction(t,d?Bi(i,d):Bi(i))}function Uv(i){return i._reducerDefinitionType==="asyncThunk"}function Bv(i){return i._reducerDefinitionType==="reducerWithPrepare"}function Wv({type:i,reducerName:t},r,o,u){if(!u)throw new Error(on(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:w}=r,v=u(i,c,w);o.exposeAction(t,v),d&&o.addCase(v.fulfilled,d),p&&o.addCase(v.pending,p),m&&o.addCase(v.rejected,m),g&&o.addMatcher(v.settled,g),o.exposeCaseReducer(t,{fulfilled:d||go,pending:p||go,rejected:m||go,settled:g||go})}function go(){}function on(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var Mh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Wr(t)},Wr=function(i){return new Error("Firebase Database ("+Bp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Hv=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const u=i[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=i[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=i[r++],d=i[r++],p=i[r++],m=((u&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],d=i[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|d&63)}}return t.join("")},$a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<i.length;u+=3){const c=i[u],d=u+1<i.length,p=d?i[u+1]:0,m=u+2<i.length,g=m?i[u+2]:0,w=c>>2,v=(c&3)<<4|p>>4;let T=(p&15)<<2|g>>6,A=g&63;m||(A=64,d||(T=64)),o.push(r[w],r[v],r[T],r[A])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Wp(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Hv(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<i.length;){const c=r[i.charAt(u++)],p=u<i.length?r[i.charAt(u)]:0;++u;const g=u<i.length?r[i.charAt(u)]:64;++u;const v=u<i.length?r[i.charAt(u)]:64;if(++u,c==null||p==null||g==null||v==null)throw new $v;const T=c<<2|p>>4;if(o.push(T),g!==64){const A=p<<4&240|g>>2;if(o.push(A),v!==64){const O=g<<6&192|v;o.push(O)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class $v extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Hp=function(i){const t=Wp(i);return $a.encodeByteArray(t,!0)},Io=function(i){return Hp(i).replace(/\./g,"")},wa=function(i){try{return $a.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(i){return $p(void 0,i)}function $p(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Gv(r)||(i[r]=$p(i[r],t[r]));return i}function Gv(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=()=>Kv().__FIREBASE_DEFAULTS__,qv=()=>{if(typeof process>"u"||typeof Mh>"u")return;const i=Mh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Yv=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&wa(i[1]);return t&&JSON.parse(t)},Vp=()=>{try{return Qv()||qv()||Yv()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Xv=i=>{var t,r;return(r=(t=Vp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Jv=i=>{const t=Xv(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Gp=()=>{var i;return(i=Vp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Io(JSON.stringify(r)),Io(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ew())}function tw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nw(){return Bp.NODE_ADMIN===!0}function rw(){try{return typeof indexedDB=="object"}catch{return!1}}function iw(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="FirebaseError";class Zi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=sw,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qp.prototype.create)}}class Qp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],d=c?ow(c,o):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Zi(u,p,o)}}function ow(i,t){return i.replace(lw,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const lw=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(i){return JSON.parse(i)}function Qe(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=function(i){let t={},r={},o={},u="";try{const c=i.split(".");t=Qi(wa(c[0])||""),r=Qi(wa(c[1])||""),u=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:u}},uw=function(i){const t=qp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},aw=function(i){const t=qp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function jr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function Lh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function No(i,t,r){const o={};for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=t.call(r,i[u],u,i));return o}function Sa(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=i[u],d=t[u];if(Fh(c)&&Fh(d)){if(!Sa(c,d))return!1}else if(c!==d)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function Fh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)o[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)o[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const T=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=(T<<1|T>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],d=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,w;for(let v=0;v<80;v++){v<40?v<20?(g=p^c&(d^p),w=1518500249):(g=c^d^p,w=1859775393):v<60?(g=c&d|p&(c|d),w=2400959708):(g=c^d^p,w=3395469782);const T=(u<<5|u>>>27)+g+m+w+o[v]&4294967295;m=p,p=d,d=(c<<30|c>>>2)&4294967295,c=u,u=T}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let u=0;const c=this.buf_;let d=this.inbuf_;for(;u<r;){if(d===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<r;)if(c[d]=t.charCodeAt(u),++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}else for(;u<r;)if(c[d]=t[u],++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function Va(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;u=65536+(c<<10)+d}u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):u<65536?(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},$o=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i){return i&&i._delegate?i._delegate:i}class qi{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Ho;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mw(t))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=Xn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Xn){return this.instances.has(t)}getOptions(t=Xn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&d.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const d=this.instances.get(u);return d&&t(d,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:pw(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Xn){return this.component?this.component.multipleInstances?t:Xn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pw(i){return i===Xn?void 0:i}function mw(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new hw(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ve||(ve={}));const _w={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},yw=ve.INFO,vw={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},ww=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),u=vw[t];if(u)console[u](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Yp{constructor(t){this.name=t,this._logLevel=yw,this._logHandler=ww,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_w[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const Sw=(i,t)=>t.some(r=>i instanceof r);let zh,bh;function Ew(){return zh||(zh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cw(){return bh||(bh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xp=new WeakMap,Ea=new WeakMap,Jp=new WeakMap,ra=new WeakMap,Ga=new WeakMap;function kw(i){const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{r(On(i.result)),u()},d=()=>{o(i.error),u()};i.addEventListener("success",c),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&Xp.set(r,i)}).catch(()=>{}),Ga.set(t,i),t}function Tw(i){if(Ea.has(i))return;const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{r(),u()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Ea.set(i,t)}let Ca={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return Ea.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Jp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return On(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Iw(i){Ca=i(Ca)}function Nw(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(ia(this),t,...r);return Jp.set(o,t.sort?t.sort():[t]),On(o)}:Cw().includes(i)?function(...t){return i.apply(ia(this),t),On(Xp.get(this))}:function(...t){return On(i.apply(ia(this),t))}}function Rw(i){return typeof i=="function"?Nw(i):(i instanceof IDBTransaction&&Tw(i),Sw(i,Ew())?new Proxy(i,Ca):i)}function On(i){if(i instanceof IDBRequest)return kw(i);if(ra.has(i))return ra.get(i);const t=Rw(i);return t!==i&&(ra.set(i,t),Ga.set(t,i)),t}const ia=i=>Ga.get(i);function xw(i,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const d=indexedDB.open(i,t),p=On(d);return o&&d.addEventListener("upgradeneeded",m=>{o(On(d.result),m.oldVersion,m.newVersion,On(d.transaction),m)}),r&&d.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const Pw=["get","getKey","getAll","getAllKeys","count"],Dw=["put","add","delete","clear"],sa=new Map;function jh(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(sa.get(t))return sa.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=Dw.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||Pw.includes(r)))return;const c=async function(d,...p){const m=this.transaction(d,u?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),u&&m.done]))[0]};return sa.set(t,c),c}Iw(i=>({...i,get:(t,r,o)=>jh(t,r)||i.get(t,r,o),has:(t,r)=>!!jh(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Aw(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function Aw(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ka="@firebase/app",Uh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an=new Yp("@firebase/app"),Mw="@firebase/app-compat",Lw="@firebase/analytics-compat",Fw="@firebase/analytics",zw="@firebase/app-check-compat",bw="@firebase/app-check",jw="@firebase/auth",Uw="@firebase/auth-compat",Bw="@firebase/database",Ww="@firebase/data-connect",Hw="@firebase/database-compat",$w="@firebase/functions",Vw="@firebase/functions-compat",Gw="@firebase/installations",Kw="@firebase/installations-compat",Qw="@firebase/messaging",qw="@firebase/messaging-compat",Yw="@firebase/performance",Xw="@firebase/performance-compat",Jw="@firebase/remote-config",Zw="@firebase/remote-config-compat",eS="@firebase/storage",tS="@firebase/storage-compat",nS="@firebase/firestore",rS="@firebase/vertexai",iS="@firebase/firestore-compat",sS="firebase",oS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta="[DEFAULT]",lS={[ka]:"fire-core",[Mw]:"fire-core-compat",[Fw]:"fire-analytics",[Lw]:"fire-analytics-compat",[bw]:"fire-app-check",[zw]:"fire-app-check-compat",[jw]:"fire-auth",[Uw]:"fire-auth-compat",[Bw]:"fire-rtdb",[Ww]:"fire-data-connect",[Hw]:"fire-rtdb-compat",[$w]:"fire-fn",[Vw]:"fire-fn-compat",[Gw]:"fire-iid",[Kw]:"fire-iid-compat",[Qw]:"fire-fcm",[qw]:"fire-fcm-compat",[Yw]:"fire-perf",[Xw]:"fire-perf-compat",[Jw]:"fire-rc",[Zw]:"fire-rc-compat",[eS]:"fire-gcs",[tS]:"fire-gcs-compat",[nS]:"fire-fst",[iS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[sS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=new Map,uS=new Map,Ia=new Map;function Bh(i,t){try{i.container.addComponent(t)}catch(r){an.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function xo(i){const t=i.name;if(Ia.has(t))return an.debug(`There were multiple attempts to register component ${t}.`),!1;Ia.set(t,i);for(const r of Ro.values())Bh(r,i);for(const r of uS.values())Bh(r,i);return!0}function aS(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new Qp("app","Firebase",cS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new qi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=oS;function Zp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:Ta,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw An.create("bad-app-name",{appName:String(u)});if(r||(r=Gp()),!r)throw An.create("no-options");const c=Ro.get(u);if(c){if(Sa(r,c.options)&&Sa(o,c.config))return c;throw An.create("duplicate-app",{appName:u})}const d=new gw(u);for(const m of Ia.values())d.addComponent(m);const p=new fS(r,o,d);return Ro.set(u,p),p}function hS(i=Ta){const t=Ro.get(i);if(!t&&i===Ta&&Gp())return Zp();if(!t)throw An.create("no-app",{appName:i});return t}function Lr(i,t,r){var o;let u=(o=lS[i])!==null&&o!==void 0?o:i;r&&(u+=`-${r}`);const c=u.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),an.warn(p.join(" "));return}xo(new qi(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS="firebase-heartbeat-database",mS=1,Yi="firebase-heartbeat-store";let oa=null;function em(){return oa||(oa=xw(pS,mS,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Yi)}catch(r){console.warn(r)}}}}).catch(i=>{throw An.create("idb-open",{originalErrorMessage:i.message})})),oa}async function gS(i){try{const r=(await em()).transaction(Yi),o=await r.objectStore(Yi).get(tm(i));return await r.done,o}catch(t){if(t instanceof Zi)an.warn(t.message);else{const r=An.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});an.warn(r.message)}}}async function Wh(i,t){try{const o=(await em()).transaction(Yi,"readwrite");await o.objectStore(Yi).put(t,tm(i)),await o.done}catch(r){if(r instanceof Zi)an.warn(r.message);else{const o=An.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});an.warn(o.message)}}}function tm(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=1024,yS=30*24*60*60*1e3;class vS{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new SS(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Hh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=yS}),this._storage.overwrite(this._heartbeatsCache))}catch(o){an.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Hh(),{heartbeatsToSend:o,unsentEntries:u}=wS(this._heartbeatsCache.heartbeats),c=Io(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return an.warn(r),""}}}function Hh(){return new Date().toISOString().substring(0,10)}function wS(i,t=_S){const r=[];let o=i.slice();for(const u of i){const c=r.find(d=>d.agent===u.agent);if(c){if(c.dates.push(u.date),$h(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),$h(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class SS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rw()?iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gS(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function $h(i){return Io(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(i){xo(new qi("platform-logger",t=>new Ow(t),"PRIVATE")),xo(new qi("heartbeat",t=>new vS(t),"PRIVATE")),Lr(ka,Uh,i),Lr(ka,Uh,"esm2017"),Lr("fire-js","")}ES("");var Vh={};const Gh="@firebase/database",Kh="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nm="";function CS(i){nm=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Qe(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Qi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kS(t)}}catch{}return new TS},Zn=rm("localStorage"),IS=rm("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Yp("@firebase/database"),NS=function(){let i=1;return function(){return i++}}(),im=function(i){const t=dw(i),r=new fw;r.update(t);const o=r.digest();return $a.encodeByteArray(o)},es=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=es.apply(null,o):typeof o=="object"?t+=Qe(o):t+=o,t+=" "}return t};let Wi=null,Qh=!0;const RS=function(i,t){M(!0,"Can't turn on custom loggers persistently."),Fr.logLevel=ve.VERBOSE,Wi=Fr.log.bind(Fr)},Ze=function(...i){if(Qh===!0&&(Qh=!1,Wi===null&&IS.get("logging_enabled")===!0&&RS()),Wi){const t=es.apply(null,i);Wi(t)}},ts=function(i){return function(...t){Ze(i,...t)}},Na=function(...i){const t="FIREBASE INTERNAL ERROR: "+es(...i);Fr.error(t)},cn=function(...i){const t=`FIREBASE FATAL ERROR: ${es(...i)}`;throw Fr.error(t),new Error(t)},ft=function(...i){const t="FIREBASE WARNING: "+es(...i);Fr.warn(t)},xS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ft("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},sm=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},PS=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ur="[MIN_NAME]",ir="[MAX_NAME]",$r=function(i,t){if(i===t)return 0;if(i===Ur||t===ir)return-1;if(t===Ur||i===ir)return 1;{const r=qh(i),o=qh(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},DS=function(i,t){return i===t?0:i<t?-1:1},Mi=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Qe(t))},Ka=function(i){if(typeof i!="object"||i===null)return Qe(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Qe(t[o]),r+=":",r+=Ka(i[t[o]]);return r+="}",r},om=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let u=0;u<r;u+=t)u+t>r?o.push(i.substring(u,r)):o.push(i.substring(u,u+t));return o};function Nt(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const lm=function(i){M(!sm(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let u,c,d,p,m;i===0?(c=0,d=0,u=1/i===-1/0?1:0):(u=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,d=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(u?1:0),g.reverse();const w=g.join("");let v="";for(m=0;m<64;m+=8){let T=parseInt(w.substr(m,8),2).toString(16);T.length===1&&(T="0"+T),v=v+T}return v.toLowerCase()},OS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},AS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},MS=new RegExp("^-?(0*)\\d{1,10}$"),LS=-2147483648,FS=2147483647,qh=function(i){if(MS.test(i)){const t=Number(i);if(t>=LS&&t<=FS)return t}return null},Vr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ft("Exception was thrown by user callback.",r),t},Math.floor(0))}},zS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Hi=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ft(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ft(t)}}class vo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}vo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="5",um="v",am="s",cm="r",fm="f",dm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,hm="ls",pm="p",Ra="ac",mm="websocket",gm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,r,o,u,c=!1,d="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function US(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function ym(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===mm)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===gm)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);US(i)&&(r.ns=i.namespace);const u=[];return Nt(r,(c,d)=>{u.push(c+"="+d)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.counters_={}}incrementCounter(t,r=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return Vv(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la={},ua={};function qa(i){const t=i.toString();return la[t]||(la[t]=new BS),la[t]}function WS(i,t){const r=i.toString();return ua[r]||(ua[r]=t()),ua[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Vr(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="start",$S="close",VS="pLPCommand",GS="pRTLPCB",vm="id",wm="pw",Sm="ser",KS="cb",QS="seg",qS="ts",YS="d",XS="dframe",Em=1870,Cm=30,JS=Em-Cm,ZS=25e3,eE=3e4;class Mr{constructor(t,r,o,u,c,d,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ts(t),this.stats_=qa(r),this.urlFn=m=>(this.appCheckToken&&(m[Ra]=this.appCheckToken),ym(r,gm,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new HS(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eE)),PS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ya((...c)=>{const[d,p,m,g,w]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Yh)this.id=p,this.password=m;else if(d===$S)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Yh]="t",o[Sm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[KS]=this.scriptTagHolder.uniqueCallbackIdentifier),o[um]=Qa,this.transportSessionId&&(o[am]=this.transportSessionId),this.lastSessionId&&(o[hm]=this.lastSessionId),this.applicationId&&(o[pm]=this.applicationId),this.appCheckToken&&(o[Ra]=this.appCheckToken),typeof location<"u"&&location.hostname&&dm.test(location.hostname)&&(o[cm]=fm);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return Mr.forceAllow_?!0:!Mr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!OS()&&!AS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Qe(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Hp(r),u=om(o,JS);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[XS]="t",o[vm]=t,o[wm]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Qe(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Ya{constructor(t,r,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=NS(),window[VS+this.uniqueCallbackIdentifier]=t,window[GS+this.uniqueCallbackIdentifier]=r,this.myIFrame=Ya.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Ze("frame writing exception"),p.stack&&Ze(p.stack),Ze(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ze("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[vm]=this.myID,t[wm]=this.myPW,t[Sm]=this.currentSerial;let r=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Cm+o.length<=Em;){const d=this.pendingSegs.shift();o=o+"&"+QS+u+"="+d.seg+"&"+qS+u+"="+d.ts+"&"+YS+u+"="+d.d,u++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},u=setTimeout(o,Math.floor(ZS)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=16384,nE=45e3;let Po=null;typeof MozWebSocket<"u"?Po=MozWebSocket:typeof WebSocket<"u"&&(Po=WebSocket);class Kt{constructor(t,r,o,u,c,d,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ts(this.connId),this.stats_=qa(r),this.connURL=Kt.connectionURL_(r,d,p,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,c){const d={};return d[um]=Qa,typeof location<"u"&&location.hostname&&dm.test(location.hostname)&&(d[cm]=fm),r&&(d[am]=r),o&&(d[hm]=o),u&&(d[Ra]=u),c&&(d[pm]=c),ym(t,mm,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let o;nw(),this.mySock=new Po(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&Po!==null&&!Kt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Qi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Qe(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=om(r,tE);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nE))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{static get ALL_TRANSPORTS(){return[Mr,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Kt.isAvailable();let o=r&&!Kt.previouslyFailed();if(t.webSocketOnly&&(r||ft("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Kt];else{const u=this.transports_=[];for(const c of Xi.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);Xi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Xi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=6e4,iE=5e3,sE=10*1024,oE=100*1024,aa="t",Xh="d",lE="s",Jh="r",uE="e",Zh="o",ep="a",tp="n",np="p",aE="h";class cE{constructor(t,r,o,u,c,d,p,m,g,w){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ts("c:"+this.id+":"),this.transportManager_=new Xi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Hi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(aa in t){const r=t[aa];r===ep?this.upgradeIfSecondaryHealthy_():r===Jh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Zh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Mi("t",t),o=Mi("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:np,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:ep,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:tp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Mi("t",t),o=Mi("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Mi(aa,t);if(Xh in t){const o=t[Xh];if(r===aE){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(r===tp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===lE?this.onConnectionShutdown_(o):r===Jh?this.onReset_(o):r===uE?Na("Server Error: "+o):r===Zh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Na("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Qa!==o&&ft("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Hi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rE))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Hi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:np,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{put(t,r,o,u){}merge(t,r,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const u=this.getInitialEvent(t);u&&r.apply(o,u)}off(t,r,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===r&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do extends Tm{static getInstance(){return new Do}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=32,ip=768;class ke{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ge(){return new ke("")}function se(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Fn(i){return i.pieces_.length-i.pieceNum_}function Ce(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ke(i.pieces_,t)}function Im(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function fE(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Nm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Rm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ke(t,0)}function ze(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ke)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&r.push(o[u])}return new ke(r,0)}function oe(i){return i.pieceNum_>=i.pieces_.length}function It(i,t){const r=se(i),o=se(t);if(r===null)return t;if(r===o)return It(Ce(i),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function xm(i,t){if(Fn(i)!==Fn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function bt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Fn(i)>Fn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class dE{constructor(t,r){this.errorPrefix_=r,this.parts_=Nm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=$o(this.parts_[o]);Pm(this)}}function hE(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=$o(t),Pm(i)}function pE(i){const t=i.parts_.pop();i.byteLength_-=$o(t),i.parts_.length>0&&(i.byteLength_-=1)}function Pm(i){if(i.byteLength_>ip)throw new Error(i.errorPrefix_+"has a key path longer than "+ip+" bytes ("+i.byteLength_+").");if(i.parts_.length>rp)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+rp+") or object contains a cycle "+Jn(i))}function Jn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Tm{static getInstance(){return new Xa}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=1e3,mE=60*5*1e3,sp=30*1e3,gE=1.3,_E=3e4,yE="server_kill",op=3;class ln extends km{constructor(t,r,o,u,c,d,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=ln.nextPersistentConnectionId_++,this.log_=ts("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Li,this.maxReconnectDelay_=mE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Xa.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Do.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_(Qe(c)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new Ho,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;d.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,u){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},d="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(d,c,p=>{const m=p.d,g=p.s;ln.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&dn(t,"w")){const o=jr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ft(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||aw(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=sp)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=uw(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const c=u.s,d=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t},d="n";u&&(c.q=o,c.t=u),this.sendRequest(d,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{u&&setTimeout(()=>{u(d.s,d.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,c){this.initConnection_();const d={p:r,d:o};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Qe(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):Na("Unrecognized action received from server: "+Qe(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Li,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Li,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>_E&&(this.reconnectDelay_=Li),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*gE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+ln.nextConnectionId_++,c=this.lastSessionId;let d=!1,p=null;const m=function(){p?p.close():(d=!0,o())},g=function(v){M(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(v)};this.realtime_={close:m,sendRequest:g};const w=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,T]=await Promise.all([this.authTokenProvider_.getToken(w),this.appCheckTokenProvider_.getToken(w)]);d?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=T&&T.token,p=new cE(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,A=>{ft(A+" ("+this.repoInfo_.toString()+")"),this.interrupt(yE)},c))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&ft(v),m())}}}interrupt(t){Ze("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ze("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Lh(this.interruptReasons_)&&(this.reconnectDelay_=Li,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Ka(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new ke(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){Ze("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=op&&(this.reconnectDelay_=sp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ze("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=op&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+nm.replace(/\./g,"-")]=1,Kp()?t["framework.cordova"]=1:tw()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Do.getInstance().currentlyOnline();return Lh(this.interruptReasons_)&&t}}ln.nextPersistentConnectionId_=0;ln.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new le(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new le(Ur,t),u=new le(Ur,r);return this.compare(o,u)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o;class Dm extends Vo{static get __EMPTY_NODE(){return _o}static set __EMPTY_NODE(t){_o=t}compare(t,r){return $r(t.name,r.name)}isDefinedOn(t){throw Wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return le.MIN}maxPost(){return new le(ir,_o)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new le(t,_o)}toString(){return".key"}}const zr=new Dm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(t,r,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,u&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??We.RED,this.left=u??ct.EMPTY_NODE,this.right=c??ct.EMPTY_NODE}copy(t,r,o,u,c){return new We(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u=u.copy(null,r,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return ct.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return ct.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class vE{copy(t,r,o,u,c){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ct{constructor(t,r=ct.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new ct(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new ct(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,u=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new yo(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new yo(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new yo(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new yo(this.root_,null,this.comparator_,!0,t)}}ct.EMPTY_NODE=new vE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i,t){return $r(i.name,t.name)}function Ja(i,t){return $r(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa;function SE(i){xa=i}const Om=function(i){return typeof i=="number"?"number:"+lm(i):"string:"+i},Am=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else M(i===xa||i.isEmpty(),"priority of unexpected type.");M(i===xa||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lp;class Be{static set __childrenNodeConstructor(t){lp=t}static get __childrenNodeConstructor(){return lp}constructor(t,r=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Am(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return oe(t)?this:se(t)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=se(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Fn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Om(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=lm(this.value_):t+=this.value_,this.lazyHash_=im(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Be.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=Be.VALUE_TYPE_ORDER.indexOf(r),c=Be.VALUE_TYPE_ORDER.indexOf(o);return M(u>=0,"Unknown leaf type: "+r),M(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm,Lm;function EE(i){Mm=i}function CE(i){Lm=i}class kE extends Vo{compare(t,r){const o=t.node.getPriority(),u=r.node.getPriority(),c=o.compareTo(u);return c===0?$r(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return le.MIN}maxPost(){return new le(ir,new Be("[PRIORITY-POST]",Lm))}makePost(t,r){const o=Mm(t);return new le(r,new Be("[PRIORITY-POST]",o))}toString(){return".priority"}}const et=new kE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=Math.log(2);class IE{constructor(t){const r=c=>parseInt(Math.log(c)/TE,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Oo=function(i,t,r,o){i.sort(t);const u=function(m,g){const w=g-m;let v,T;if(w===0)return null;if(w===1)return v=i[m],T=r?r(v):v,new We(T,v.node,We.BLACK,null,null);{const A=parseInt(w/2,10)+m,O=u(m,A),H=u(A+1,g);return v=i[A],T=r?r(v):v,new We(T,v.node,We.BLACK,O,H)}},c=function(m){let g=null,w=null,v=i.length;const T=function(O,H){const F=v-O,re=v;v-=O;const J=u(F+1,re),$=i[F],V=r?r($):$;A(new We(V,$.node,H,null,J))},A=function(O){g?(g.left=O,g=O):(w=O,g=O)};for(let O=0;O<m.count;++O){const H=m.nextBitIsOne(),F=Math.pow(2,m.count-(O+1));H?T(F,We.BLACK):(T(F,We.BLACK),T(F,We.RED))}return w},d=new IE(i.length),p=c(d);return new ct(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ca;const Fi={};class sn{static get Default(){return M(et,"ChildrenNode.ts has not been loaded"),ca=ca||new sn({".priority":Fi},{".priority":et}),ca}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=jr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof ct?r:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,r){M(t!==zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=r.getIterator(le.Wrap);let d=c.getNext();for(;d;)u=u||t.isDefinedOn(d.node),o.push(d),d=c.getNext();let p;u?p=Oo(o,t.getCompare()):p=Fi;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const w=Object.assign({},this.indexes_);return w[m]=p,new sn(w,g)}addToIndexes(t,r){const o=No(this.indexes_,(u,c)=>{const d=jr(this.indexSet_,c);if(M(d,"Missing index implementation for "+c),u===Fi)if(d.isDefinedOn(t.node)){const p=[],m=r.getIterator(le.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),Oo(p,d.getCompare())}else return Fi;else{const p=r.get(t.name);let m=u;return p&&(m=m.remove(new le(t.name,p))),m.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,r){const o=No(this.indexes_,u=>{if(u===Fi)return u;{const c=r.get(t.name);return c?u.remove(new le(t.name,c)):u}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zi;class de{static get EMPTY_NODE(){return zi||(zi=new de(new ct(Ja),null,sn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Am(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zi}updatePriority(t){return this.children_.isEmpty()?this:new de(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?zi:r}}getChild(t){const r=se(t);return r===null?this:this.getImmediateChild(r).getChild(Ce(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new le(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const d=u.isEmpty()?zi:this.priorityNode_;return new de(u,d,c)}}updateChild(t,r){const o=se(t);if(o===null)return r;{M(se(t)!==".priority"||Fn(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(Ce(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,c=!0;if(this.forEachChild(et,(d,p)=>{r[d]=p.val(t),o++,c&&de.INTEGER_REGEXP_.test(d)?u=Math.max(u,Number(d)):c=!1}),!t&&c&&u<2*o){const d=[];for(const p in r)d[p]=r[p];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Om(this.getPriority().val())+":"),this.forEachChild(et,(r,o)=>{const u=o.hash();u!==""&&(t+=":"+r+":"+u)}),this.lazyHash_=t===""?"":im(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new le(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new le(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new le(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,le.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,le.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ns?-1:0}withIndex(t){if(t===zr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new de(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===zr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(et),u=r.getIterator(et);let c=o.getNext(),d=u.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=o.getNext(),d=u.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===zr?null:this.indexMap_.get(t.toString())}}de.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class NE extends de{constructor(){super(new ct(Ja),de.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return de.EMPTY_NODE}isEmpty(){return!1}}const ns=new NE;Object.defineProperties(le,{MIN:{value:new le(Ur,de.EMPTY_NODE)},MAX:{value:new le(ir,ns)}});Dm.__EMPTY_NODE=de.EMPTY_NODE;Be.__childrenNodeConstructor=de;SE(ns);CE(ns);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=!0;function Ke(i,t=null){if(i===null)return de.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Be(r,Ke(t))}if(!(i instanceof Array)&&RE){const r=[];let o=!1;if(Nt(i,(d,p)=>{if(d.substring(0,1)!=="."){const m=Ke(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new le(d,m)))}}),r.length===0)return de.EMPTY_NODE;const c=Oo(r,wE,d=>d.name,Ja);if(o){const d=Oo(r,et.getCompare());return new de(c,Ke(t),new sn({".priority":d},{".priority":et}))}else return new de(c,Ke(t),sn.Default)}else{let r=de.EMPTY_NODE;return Nt(i,(o,u)=>{if(dn(i,o)&&o.substring(0,1)!=="."){const c=Ke(u);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ke(t))}}EE(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE extends Vo{constructor(t){super(),this.indexPath_=t,M(!oe(t)&&se(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),u=this.extractChild(r.node),c=o.compareTo(u);return c===0?$r(t.name,r.name):c}makePost(t,r){const o=Ke(t),u=de.EMPTY_NODE.updateChild(this.indexPath_,o);return new le(r,u)}maxPost(){const t=de.EMPTY_NODE.updateChild(this.indexPath_,ns);return new le(ir,t)}toString(){return Nm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE extends Vo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?$r(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(t,r){const o=Ke(t);return new le(r,o)}toString(){return".value"}}const DE=new PE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i){return{type:"value",snapshotNode:i}}function AE(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function ME(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function up(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function LE(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=et}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ur}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ir}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===et}copy(){const t=new Za;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function ap(i){const t={};if(i.isDefault())return t;let r;if(i.index_===et?r="$priority":i.index_===DE?r="$value":i.index_===zr?r="$key":(M(i.index_ instanceof xE,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Qe(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Qe(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Qe(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Qe(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Qe(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function cp(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==et&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends km{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=ts("p:rest:"),this.listens_={}}listen(t,r,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=Ao.getListenId_(t,o),p={};this.listens_[d]=p;const m=ap(t._queryParams);this.restRequest_(c+".json",m,(g,w)=>{let v=w;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(c,v,!1,o),jr(this.listens_,d)===p){let T;g?g===401?T="permission_denied":T="rest_error:"+g:T="ok",u(T,null)}})}unlisten(t,r){const o=Ao.getListenId_(t,r);delete this.listens_[o]}get(t){const r=ap(t._queryParams),o=t._path.toString(),u=new Ho;return this.restRequest_(o+".json",r,(c,d)=>{let p=d;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(r.auth=u.accessToken),c&&c.token&&(r.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+cw(r);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Qi(p.responseText)}catch{ft("Failed to parse JSON response for "+d+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ft("Got unsuccessful REST response for "+d+" Status: "+p.status),o(p.status);o=null}},p.open("GET",d,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.rootNode_=de.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(){return{value:null,children:new Map}}function Fm(i,t,r){if(oe(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=se(t);i.children.has(o)||i.children.set(o,Mo());const u=i.children.get(o);t=Ce(t),Fm(u,t,r)}}function Pa(i,t,r){i.value!==null?r(t,i.value):zE(i,(o,u)=>{const c=new ke(t.toString()+"/"+o);Pa(u,c,r)})}function zE(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Nt(this.last_,(o,u)=>{r[o]=r[o]-u}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp=10*1e3,jE=30*1e3,UE=5*60*1e3;class BE{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new bE(t);const o=fp+(jE-fp)*Math.random();Hi(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Nt(t,(u,c)=>{c>0&&dn(this.statsToReport_,u)&&(r[u]=c,o=!0)}),o&&this.server_.reportStats(r),Hi(this.reportStats_.bind(this),Math.floor(Math.random()*2*UE))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function zm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jm(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Qt.ACK_USER_WRITE,this.source=zm()}operationForChild(t){if(oe(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ke(t));return new Lo(ge(),r,this.revert)}}else return M(se(this.path)===t,"operationForChild called for unrelated child."),new Lo(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Qt.OVERWRITE}operationForChild(t){return oe(this.path)?new sr(this.source,ge(),this.snap.getImmediateChild(t)):new sr(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Qt.MERGE}operationForChild(t){if(oe(this.path)){const r=this.children.subtree(new ke(t));return r.isEmpty()?null:r.value?new sr(this.source,ge(),r.value):new Ji(this.source,ge(),r)}else return M(se(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ji(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(oe(t))return this.isFullyInitialized()&&!this.filtered_;const r=se(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function WE(i,t,r,o){const u=[],c=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(LE(d.childName,d.snapshotNode))}),bi(i,u,"child_removed",t,o,r),bi(i,u,"child_added",t,o,r),bi(i,u,"child_moved",c,o,r),bi(i,u,"child_changed",t,o,r),bi(i,u,"value",t,o,r),u}function bi(i,t,r,o,u,c){const d=o.filter(p=>p.type===r);d.sort((p,m)=>$E(i,p,m)),d.forEach(p=>{const m=HE(i,p,c);u.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function HE(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function $E(i,t,r){if(t.childName==null||r.childName==null)throw Wr("Should only compare child_ events.");const o=new le(t.childName,t.snapshotNode),u=new le(r.childName,r.snapshotNode);return i.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(i,t){return{eventCache:i,serverCache:t}}function $i(i,t,r,o){return Um(new ec(t,r,o),i.serverCache)}function Bm(i,t,r,o){return Um(i.eventCache,new ec(t,r,o))}function Da(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function or(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fa;const VE=()=>(fa||(fa=new ct(DS)),fa);class Ee{static fromObject(t){let r=new Ee(null);return Nt(t,(o,u)=>{r=r.set(new ke(o),u)}),r}constructor(t,r=VE()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ge(),value:this.value};if(oe(t))return null;{const o=se(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(Ce(t),r);return c!=null?{path:ze(new ke(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(oe(t))return this;{const r=se(t),o=this.children.get(r);return o!==null?o.subtree(Ce(t)):new Ee(null)}}set(t,r){if(oe(t))return new Ee(r,this.children);{const o=se(t),c=(this.children.get(o)||new Ee(null)).set(Ce(t),r),d=this.children.insert(o,c);return new Ee(this.value,d)}}remove(t){if(oe(t))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const r=se(t),o=this.children.get(r);if(o){const u=o.remove(Ce(t));let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),this.value===null&&c.isEmpty()?new Ee(null):new Ee(this.value,c)}else return this}}get(t){if(oe(t))return this.value;{const r=se(t),o=this.children.get(r);return o?o.get(Ce(t)):null}}setTree(t,r){if(oe(t))return r;{const o=se(t),c=(this.children.get(o)||new Ee(null)).setTree(Ce(t),r);let d;return c.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,c),new Ee(this.value,d)}}fold(t){return this.fold_(ge(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(ze(t,u),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ge(),r)}findOnPath_(t,r,o){const u=this.value?o(r,this.value):!1;if(u)return u;if(oe(t))return null;{const c=se(t),d=this.children.get(c);return d?d.findOnPath_(Ce(t),ze(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ge(),r)}foreachOnPath_(t,r,o){if(oe(t))return this;{this.value&&o(r,this.value);const u=se(t),c=this.children.get(u);return c?c.foreachOnPath_(Ce(t),ze(r,u),o):new Ee(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,r){this.children.inorderTraversal((o,u)=>{u.foreach_(ze(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(t){this.writeTree_=t}static empty(){return new jt(new Ee(null))}}function Vi(i,t,r){if(oe(t))return new jt(new Ee(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const d=It(u,t);return c=c.updateChild(d,r),new jt(i.writeTree_.set(u,c))}else{const u=new Ee(r),c=i.writeTree_.setTree(t,u);return new jt(c)}}}function dp(i,t,r){let o=i;return Nt(r,(u,c)=>{o=Vi(o,ze(t,u),c)}),o}function hp(i,t){if(oe(t))return jt.empty();{const r=i.writeTree_.setTree(t,new Ee(null));return new jt(r)}}function Oa(i,t){return lr(i,t)!=null}function lr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(It(r.path,t)):null}function pp(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(et,(o,u)=>{t.push(new le(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new le(o,u.value))}),t}function Mn(i,t){if(oe(t))return i;{const r=lr(i,t);return r!=null?new jt(new Ee(r)):new jt(i.writeTree_.subtree(t))}}function Aa(i){return i.writeTree_.isEmpty()}function Br(i,t){return Wm(ge(),i.writeTree_,t)}function Wm(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(M(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Wm(ze(i,u),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(ze(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(i,t){return Qm(t,i)}function GE(i,t,r,o,u){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:u}),u&&(i.visibleWrites=Vi(i.visibleWrites,t,r)),i.lastWriteId=o}function KE(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function QE(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let u=o.visible,c=!1,d=i.allWrites.length-1;for(;u&&d>=0;){const p=i.allWrites[d];p.visible&&(d>=r&&qE(p,o.path)?u=!1:bt(o.path,p.path)&&(c=!0)),d--}if(u){if(c)return YE(i),!0;if(o.snap)i.visibleWrites=hp(i.visibleWrites,o.path);else{const p=o.children;Nt(p,m=>{i.visibleWrites=hp(i.visibleWrites,ze(o.path,m))})}return!0}else return!1}function qE(i,t){if(i.snap)return bt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&bt(ze(i.path,r),t))return!0;return!1}function YE(i){i.visibleWrites=$m(i.allWrites,XE,ge()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function XE(i){return i.visible}function $m(i,t,r){let o=jt.empty();for(let u=0;u<i.length;++u){const c=i[u];if(t(c)){const d=c.path;let p;if(c.snap)bt(r,d)?(p=It(r,d),o=Vi(o,p,c.snap)):bt(d,r)&&(p=It(d,r),o=Vi(o,ge(),c.snap.getChild(p)));else if(c.children){if(bt(r,d))p=It(r,d),o=dp(o,p,c.children);else if(bt(d,r))if(p=It(d,r),oe(p))o=dp(o,ge(),c.children);else{const m=jr(c.children,se(p));if(m){const g=m.getChild(Ce(p));o=Vi(o,ge(),g)}}}else throw Wr("WriteRecord should have .snap or .children")}}return o}function Vm(i,t,r,o,u){if(!o&&!u){const c=lr(i.visibleWrites,t);if(c!=null)return c;{const d=Mn(i.visibleWrites,t);if(Aa(d))return r;if(r==null&&!Oa(d,ge()))return null;{const p=r||de.EMPTY_NODE;return Br(d,p)}}}else{const c=Mn(i.visibleWrites,t);if(!u&&Aa(c))return r;if(!u&&r==null&&!Oa(c,ge()))return null;{const d=function(g){return(g.visible||u)&&(!o||!~o.indexOf(g.writeId))&&(bt(g.path,t)||bt(t,g.path))},p=$m(i.allWrites,d,t),m=r||de.EMPTY_NODE;return Br(p,m)}}}function JE(i,t,r){let o=de.EMPTY_NODE;const u=lr(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(et,(c,d)=>{o=o.updateImmediateChild(c,d)}),o;if(r){const c=Mn(i.visibleWrites,t);return r.forEachChild(et,(d,p)=>{const m=Br(Mn(c,new ke(d)),p);o=o.updateImmediateChild(d,m)}),pp(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const c=Mn(i.visibleWrites,t);return pp(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function ZE(i,t,r,o,u){M(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=ze(t,r);if(Oa(i.visibleWrites,c))return null;{const d=Mn(i.visibleWrites,c);return Aa(d)?u.getChild(r):Br(d,u.getChild(r))}}function eC(i,t,r,o){const u=ze(t,r),c=lr(i.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(r)){const d=Mn(i.visibleWrites,u);return Br(d,o.getNode().getImmediateChild(r))}else return null}function tC(i,t){return lr(i.visibleWrites,t)}function nC(i,t,r,o,u,c,d){let p;const m=Mn(i.visibleWrites,t),g=lr(m,ge());if(g!=null)p=g;else if(r!=null)p=Br(m,r);else return[];if(p=p.withIndex(d),!p.isEmpty()&&!p.isLeafNode()){const w=[],v=d.getCompare(),T=c?p.getReverseIteratorFrom(o,d):p.getIteratorFrom(o,d);let A=T.getNext();for(;A&&w.length<u;)v(A,o)!==0&&w.push(A),A=T.getNext();return w}else return[]}function rC(){return{visibleWrites:jt.empty(),allWrites:[],lastWriteId:-1}}function Ma(i,t,r,o){return Vm(i.writeTree,i.treePath,t,r,o)}function Gm(i,t){return JE(i.writeTree,i.treePath,t)}function mp(i,t,r,o){return ZE(i.writeTree,i.treePath,t,r,o)}function Fo(i,t){return tC(i.writeTree,ze(i.treePath,t))}function iC(i,t,r,o,u,c){return nC(i.writeTree,i.treePath,t,r,o,u,c)}function tc(i,t,r){return eC(i.writeTree,i.treePath,t,r)}function Km(i,t){return Qm(ze(i.treePath,t),i.writeTree)}function Qm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,up(o,t.snapshotNode,u.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,ME(o,u.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,AE(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,up(o,t.snapshotNode,u.oldSnap));else throw Wr("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const qm=new oC;class nc{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new ec(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tc(this.writes_,t,o)}}getChildAfterChild(t,r,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:or(this.viewCache_),c=iC(this.writes_,u,r,1,o,t);return c.length===0?null:c[0]}}function lC(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function uC(i,t,r,o,u){const c=new sC;let d,p;if(r.type===Qt.OVERWRITE){const g=r;g.source.fromUser?d=La(i,t,g.path,g.snap,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!oe(g.path),d=zo(i,t,g.path,g.snap,o,u,p,c))}else if(r.type===Qt.MERGE){const g=r;g.source.fromUser?d=cC(i,t,g.path,g.children,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),d=Fa(i,t,g.path,g.children,o,u,p,c))}else if(r.type===Qt.ACK_USER_WRITE){const g=r;g.revert?d=hC(i,t,g.path,o,u,c):d=fC(i,t,g.path,g.affectedTree,o,u,c)}else if(r.type===Qt.LISTEN_COMPLETE)d=dC(i,t,r.path,o,c);else throw Wr("Unknown operation type: "+r.type);const m=c.getChanges();return aC(t,d,m),{viewCache:d,changes:m}}function aC(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=Da(i);(r.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(OE(Da(t)))}}function Ym(i,t,r,o,u,c){const d=t.eventCache;if(Fo(o,r)!=null)return t;{let p,m;if(oe(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=or(t),w=g instanceof de?g:de.EMPTY_NODE,v=Gm(o,w);p=i.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const g=Ma(o,or(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=se(r);if(g===".priority"){M(Fn(r)===1,"Can't have a priority with additional path components");const w=d.getNode();m=t.serverCache.getNode();const v=mp(o,r,w,m);v!=null?p=i.filter.updatePriority(w,v):p=d.getNode()}else{const w=Ce(r);let v;if(d.isCompleteForChild(g)){m=t.serverCache.getNode();const T=mp(o,r,d.getNode(),m);T!=null?v=d.getNode().getImmediateChild(g).updateChild(w,T):v=d.getNode().getImmediateChild(g)}else v=tc(o,g,t.serverCache);v!=null?p=i.filter.updateChild(d.getNode(),g,v,w,u,c):p=d.getNode()}}return $i(t,p,d.isFullyInitialized()||oe(r),i.filter.filtersNodes())}}function zo(i,t,r,o,u,c,d,p){const m=t.serverCache;let g;const w=d?i.filter:i.filter.getIndexedFilter();if(oe(r))g=w.updateFullNode(m.getNode(),o,null);else if(w.filtersNodes()&&!m.isFiltered()){const A=m.getNode().updateChild(r,o);g=w.updateFullNode(m.getNode(),A,null)}else{const A=se(r);if(!m.isCompleteForPath(r)&&Fn(r)>1)return t;const O=Ce(r),F=m.getNode().getImmediateChild(A).updateChild(O,o);A===".priority"?g=w.updatePriority(m.getNode(),F):g=w.updateChild(m.getNode(),A,F,O,qm,null)}const v=Bm(t,g,m.isFullyInitialized()||oe(r),w.filtersNodes()),T=new nc(u,v,c);return Ym(i,v,r,u,T,p)}function La(i,t,r,o,u,c,d){const p=t.eventCache;let m,g;const w=new nc(u,t,c);if(oe(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),m=$i(t,g,!0,i.filter.filtersNodes());else{const v=se(r);if(v===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=$i(t,g,p.isFullyInitialized(),p.isFiltered());else{const T=Ce(r),A=p.getNode().getImmediateChild(v);let O;if(oe(T))O=o;else{const H=w.getCompleteChild(v);H!=null?Im(T)===".priority"&&H.getChild(Rm(T)).isEmpty()?O=H:O=H.updateChild(T,o):O=de.EMPTY_NODE}if(A.equals(O))m=t;else{const H=i.filter.updateChild(p.getNode(),v,O,T,w,d);m=$i(t,H,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function gp(i,t){return i.eventCache.isCompleteForChild(t)}function cC(i,t,r,o,u,c,d){let p=t;return o.foreach((m,g)=>{const w=ze(r,m);gp(t,se(w))&&(p=La(i,p,w,g,u,c,d))}),o.foreach((m,g)=>{const w=ze(r,m);gp(t,se(w))||(p=La(i,p,w,g,u,c,d))}),p}function _p(i,t,r){return r.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function Fa(i,t,r,o,u,c,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;oe(r)?g=o:g=new Ee(null).setTree(r,o);const w=t.serverCache.getNode();return g.children.inorderTraversal((v,T)=>{if(w.hasChild(v)){const A=t.serverCache.getNode().getImmediateChild(v),O=_p(i,A,T);m=zo(i,m,new ke(v),O,u,c,d,p)}}),g.children.inorderTraversal((v,T)=>{const A=!t.serverCache.isCompleteForChild(v)&&T.value===null;if(!w.hasChild(v)&&!A){const O=t.serverCache.getNode().getImmediateChild(v),H=_p(i,O,T);m=zo(i,m,new ke(v),H,u,c,d,p)}}),m}function fC(i,t,r,o,u,c,d){if(Fo(u,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(oe(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return zo(i,t,r,m.getNode().getChild(r),u,c,p,d);if(oe(r)){let g=new Ee(null);return m.getNode().forEachChild(zr,(w,v)=>{g=g.set(new ke(w),v)}),Fa(i,t,r,g,u,c,p,d)}else return t}else{let g=new Ee(null);return o.foreach((w,v)=>{const T=ze(r,w);m.isCompleteForPath(T)&&(g=g.set(w,m.getNode().getChild(T)))}),Fa(i,t,r,g,u,c,p,d)}}function dC(i,t,r,o,u){const c=t.serverCache,d=Bm(t,c.getNode(),c.isFullyInitialized()||oe(r),c.isFiltered());return Ym(i,d,r,o,qm,u)}function hC(i,t,r,o,u,c){let d;if(Fo(o,r)!=null)return t;{const p=new nc(o,t,u),m=t.eventCache.getNode();let g;if(oe(r)||se(r)===".priority"){let w;if(t.serverCache.isFullyInitialized())w=Ma(o,or(t));else{const v=t.serverCache.getNode();M(v instanceof de,"serverChildren would be complete if leaf node"),w=Gm(o,v)}w=w,g=i.filter.updateFullNode(m,w,c)}else{const w=se(r);let v=tc(o,w,t.serverCache);v==null&&t.serverCache.isCompleteForChild(w)&&(v=m.getImmediateChild(w)),v!=null?g=i.filter.updateChild(m,w,v,Ce(r),p,c):t.eventCache.getNode().hasChild(w)?g=i.filter.updateChild(m,w,de.EMPTY_NODE,Ce(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Ma(o,or(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,c)))}return d=t.serverCache.isFullyInitialized()||Fo(o,ge())!=null,$i(t,g,d,i.filter.filtersNodes())}}function pC(i,t){const r=or(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!oe(t)&&!r.getImmediateChild(se(t)).isEmpty())?r.getChild(t):null}function yp(i,t,r,o){t.type===Qt.MERGE&&t.source.queryId!==null&&(M(or(i.viewCache_),"We should always have a full cache before handling merges"),M(Da(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,c=uC(i.processor_,u,t,r,o);return lC(i.processor_,c.viewCache),M(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,mC(i,c.changes,c.viewCache.eventCache.getNode())}function mC(i,t,r,o){const u=i.eventRegistrations_;return WE(i.eventGenerator_,t,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vp;function gC(i){M(!vp,"__referenceConstructor has already been defined"),vp=i}function rc(i,t,r,o){const u=t.source.queryId;if(u!==null){const c=i.views.get(u);return M(c!=null,"SyncTree gave us an op for an invalid query."),yp(c,t,r,o)}else{let c=[];for(const d of i.views.values())c=c.concat(yp(d,t,r,o));return c}}function ic(i,t){let r=null;for(const o of i.views.values())r=r||pC(o,t);return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp;function _C(i){M(!wp,"__referenceConstructor has already been defined"),wp=i}class Sp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=rC(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Xm(i,t,r,o,u){return GE(i.pendingWriteTree_,t,r,o,u),u?Ko(i,new sr(zm(),t,r)):[]}function er(i,t,r=!1){const o=KE(i.pendingWriteTree_,t);if(QE(i.pendingWriteTree_,t)){let c=new Ee(null);return o.snap!=null?c=c.set(ge(),!0):Nt(o.children,d=>{c=c.set(new ke(d),!0)}),Ko(i,new Lo(o.path,c,r))}else return[]}function Go(i,t,r){return Ko(i,new sr(bm(),t,r))}function yC(i,t,r){const o=Ee.fromObject(r);return Ko(i,new Ji(bm(),t,o))}function vC(i,t,r,o){const u=eg(i,o);if(u!=null){const c=tg(u),d=c.path,p=c.queryId,m=It(d,t),g=new sr(jm(p),m,r);return ng(i,d,g)}else return[]}function wC(i,t,r,o){const u=eg(i,o);if(u){const c=tg(u),d=c.path,p=c.queryId,m=It(d,t),g=Ee.fromObject(r),w=new Ji(jm(p),m,g);return ng(i,d,w)}else return[]}function sc(i,t,r){const u=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(d,p)=>{const m=It(d,t),g=ic(p,m);if(g)return g});return Vm(u,t,c,r,!0)}function Ko(i,t){return Jm(t,i.syncPointTree_,null,Hm(i.pendingWriteTree_,ge()))}function Jm(i,t,r,o){if(oe(i.path))return Zm(i,t,r,o);{const u=t.get(ge());r==null&&u!=null&&(r=ic(u,ge()));let c=[];const d=se(i.path),p=i.operationForChild(d),m=t.children.get(d);if(m&&p){const g=r?r.getImmediateChild(d):null,w=Km(o,d);c=c.concat(Jm(p,m,g,w))}return u&&(c=c.concat(rc(u,i,o,r))),c}}function Zm(i,t,r,o){const u=t.get(ge());r==null&&u!=null&&(r=ic(u,ge()));let c=[];return t.children.inorderTraversal((d,p)=>{const m=r?r.getImmediateChild(d):null,g=Km(o,d),w=i.operationForChild(d);w&&(c=c.concat(Zm(w,p,m,g)))}),u&&(c=c.concat(rc(u,i,o,r))),c}function eg(i,t){return i.tagToQueryMap.get(t)}function tg(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ke(i.substr(0,t))}}function ng(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const u=Hm(i.pendingWriteTree_,t);return rc(o,r,u,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new oc(r)}node(){return this.node_}}class lc{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=ze(this.path_,t);return new lc(this.syncTree_,r)}node(){return sc(this.syncTree_,this.path_)}}const SC=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Ep=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return EC(i[".sv"],t,r);if(typeof i[".sv"]=="object")return CC(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},EC=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},CC=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const u=t.node();if(M(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const d=u.getValue();return typeof d!="number"?o:d+o},kC=function(i,t,r,o){return uc(t,new lc(r,i),o)},rg=function(i,t,r){return uc(i,new oc(t),r)};function uc(i,t,r){const o=i.getPriority().val(),u=Ep(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const d=i,p=Ep(d.getValue(),t,r);return p!==d.getValue()||u!==d.getPriority().val()?new Be(p,Ke(u)):i}else{const d=i;return c=d,u!==d.getPriority().val()&&(c=c.updatePriority(new Be(u))),d.forEachChild(et,(p,m)=>{const g=uc(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function cc(i,t){let r=t instanceof ke?t:new ke(t),o=i,u=se(r);for(;u!==null;){const c=jr(o.node.children,u)||{children:{},childCount:0};o=new ac(u,o,c),r=Ce(r),u=se(r)}return o}function Gr(i){return i.node.value}function ig(i,t){i.node.value=t,za(i)}function sg(i){return i.node.childCount>0}function TC(i){return Gr(i)===void 0&&!sg(i)}function Qo(i,t){Nt(i.node.children,(r,o)=>{t(new ac(r,i,o))})}function og(i,t,r,o){r&&t(i),Qo(i,u=>{og(u,t,!0)})}function IC(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function rs(i){return new ke(i.parent===null?i.name:rs(i.parent)+"/"+i.name)}function za(i){i.parent!==null&&NC(i.parent,i.name,i)}function NC(i,t,r){const o=TC(r),u=dn(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,za(i)):!o&&!u&&(i.node.children[t]=r.node,i.node.childCount++,za(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=/[\[\].#$\/\u0000-\u001F\u007F]/,xC=/[\[\].#$\u0000-\u001F\u007F]/,da=10*1024*1024,lg=function(i){return typeof i=="string"&&i.length!==0&&!RC.test(i)},ug=function(i){return typeof i=="string"&&i.length!==0&&!xC.test(i)},PC=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ug(i)},ag=function(i,t,r,o){o&&t===void 0||fc(Va(i,"value"),t,r)},fc=function(i,t,r){const o=r instanceof ke?new dE(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Jn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Jn(o)+" with contents = "+t.toString());if(sm(t))throw new Error(i+"contains "+t.toString()+" "+Jn(o));if(typeof t=="string"&&t.length>da/3&&$o(t)>da)throw new Error(i+"contains a string greater than "+da+" utf8 bytes "+Jn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(Nt(t,(d,p)=>{if(d===".value")u=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!lg(d)))throw new Error(i+" contains an invalid key ("+d+") "+Jn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);hE(o,d),fc(i,p,o),pE(o)}),u&&c)throw new Error(i+' contains ".value" child '+Jn(o)+" in addition to actual children.")}},cg=function(i,t,r,o){if(!ug(r))throw new Error(Va(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DC=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),cg(i,t,r)},fg=function(i,t){if(se(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},OC=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!lg(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!PC(r))throw new Error(Va(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dg(i,t){let r=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();r!==null&&!xm(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(u)}r&&i.eventLists_.push(r)}function fn(i,t,r){dg(i,r),MC(i,o=>bt(o,t)||bt(t,o))}function MC(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];if(u){const c=u.path;t(c)?(LC(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function LC(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Wi&&Ze("event: "+r.toString()),Vr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="repo_interrupt",zC=25;class bC{constructor(t,r,o,u){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new AC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mo(),this.transactionQueueTree_=new ac,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function jC(i,t,r){if(i.stats_=qa(i.repoInfo_),i.forceRestClient_||zS())i.server_=new Ao(i.repoInfo_,(o,u,c,d)=>{Cp(i,o,u,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>kp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new ln(i.repoInfo_,t,(o,u,c,d)=>{Cp(i,o,u,c,d)},o=>{kp(i,o)},o=>{UC(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=WS(i.repoInfo_,()=>new BE(i.stats_,i.server_)),i.infoData_=new FE,i.infoSyncTree_=new Sp({startListening:(o,u,c,d)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=Go(i.infoSyncTree_,o._path,m),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),hc(i,"connected",!1),i.serverSyncTree_=new Sp({startListening:(o,u,c,d)=>(i.server_.listen(o,c,u,(p,m)=>{const g=d(p,m);fn(i.eventQueue_,o._path,g)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}function hg(i){const r=i.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function dc(i){return SC({timestamp:hg(i)})}function Cp(i,t,r,o,u){i.dataUpdateCount++;const c=new ke(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(u)if(o){const m=No(r,g=>Ke(g));d=wC(i.serverSyncTree_,c,m,u)}else{const m=Ke(r);d=vC(i.serverSyncTree_,c,m,u)}else if(o){const m=No(r,g=>Ke(g));d=yC(i.serverSyncTree_,c,m)}else{const m=Ke(r);d=Go(i.serverSyncTree_,c,m)}let p=c;d.length>0&&(p=qo(i,c)),fn(i.eventQueue_,p,d)}function kp(i,t){hc(i,"connected",t),t===!1&&WC(i)}function UC(i,t){Nt(t,(r,o)=>{hc(i,r,o)})}function hc(i,t,r){const o=new ke("/.info/"+t),u=Ke(r);i.infoData_.updateSnapshot(o,u);const c=Go(i.infoSyncTree_,o,u);fn(i.eventQueue_,o,c)}function pg(i){return i.nextWriteId_++}function BC(i,t,r,o,u){pc(i,"set",{path:t.toString(),value:r,priority:o});const c=dc(i),d=Ke(r,o),p=sc(i.serverSyncTree_,t),m=rg(d,p,c),g=pg(i),w=Xm(i.serverSyncTree_,t,m,g,!0);dg(i.eventQueue_,w),i.server_.put(t.toString(),d.val(!0),(T,A)=>{const O=T==="ok";O||ft("set at "+t+" failed: "+T);const H=er(i.serverSyncTree_,g,!O);fn(i.eventQueue_,t,H),$C(i,u,T,A)});const v=vg(i,t);qo(i,v),fn(i.eventQueue_,v,[])}function WC(i){pc(i,"onDisconnectEvents");const t=dc(i),r=Mo();Pa(i.onDisconnect_,ge(),(u,c)=>{const d=kC(u,c,i.serverSyncTree_,t);Fm(r,u,d)});let o=[];Pa(r,ge(),(u,c)=>{o=o.concat(Go(i.serverSyncTree_,u,c));const d=vg(i,u);qo(i,d)}),i.onDisconnect_=Mo(),fn(i.eventQueue_,ge(),o)}function HC(i){i.persistentConnection_&&i.persistentConnection_.interrupt(FC)}function pc(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Ze(r,...t)}function $C(i,t,r,o){t&&Vr(()=>{if(r==="ok")t(null);else{const u=(r||"error").toUpperCase();let c=u;o&&(c+=": "+o);const d=new Error(c);d.code=u,t(d)}})}function mg(i,t,r){return sc(i.serverSyncTree_,t,r)||de.EMPTY_NODE}function mc(i,t=i.transactionQueueTree_){if(t||Yo(i,t),Gr(t)){const r=_g(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(u=>u.status===0)&&VC(i,rs(t),r)}else sg(t)&&Qo(t,r=>{mc(i,r)})}function VC(i,t,r){const o=r.map(g=>g.currentWriteId),u=mg(i,t,o);let c=u;const d=u.hash();for(let g=0;g<r.length;g++){const w=r[g];M(w.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const v=It(t,w.path);c=c.updateChild(v,w.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{pc(i,"transaction put response",{path:m.toString(),status:g});let w=[];if(g==="ok"){const v=[];for(let T=0;T<r.length;T++)r[T].status=2,w=w.concat(er(i.serverSyncTree_,r[T].currentWriteId)),r[T].onComplete&&v.push(()=>r[T].onComplete(null,!0,r[T].currentOutputSnapshotResolved)),r[T].unwatcher();Yo(i,cc(i.transactionQueueTree_,t)),mc(i,i.transactionQueueTree_),fn(i.eventQueue_,t,w);for(let T=0;T<v.length;T++)Vr(v[T])}else{if(g==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{ft("transaction at "+m.toString()+" failed: "+g);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=g}qo(i,t)}},d)}function qo(i,t){const r=gg(i,t),o=rs(r),u=_g(i,r);return GC(i,u,o),o}function GC(i,t,r){if(t.length===0)return;const o=[];let u=[];const d=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=It(r,m.path);let w=!1,v;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)w=!0,v=m.abortReason,u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=zC)w=!0,v="maxretry",u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else{const T=mg(i,m.path,d);m.currentInputSnapshot=T;const A=t[p].update(T.val());if(A!==void 0){fc("transaction failed: Data returned ",A,m.path);let O=Ke(A);typeof A=="object"&&A!=null&&dn(A,".priority")||(O=O.updatePriority(T.getPriority()));const F=m.currentWriteId,re=dc(i),J=rg(O,T,re);m.currentOutputSnapshotRaw=O,m.currentOutputSnapshotResolved=J,m.currentWriteId=pg(i),d.splice(d.indexOf(F),1),u=u.concat(Xm(i.serverSyncTree_,m.path,J,m.currentWriteId,m.applyLocally)),u=u.concat(er(i.serverSyncTree_,F,!0))}else w=!0,v="nodata",u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0))}fn(i.eventQueue_,r,u),u=[],w&&(t[p].status=2,function(T){setTimeout(T,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(v==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(v),!1,null))))}Yo(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Vr(o[p]);mc(i,i.transactionQueueTree_)}function gg(i,t){let r,o=i.transactionQueueTree_;for(r=se(t);r!==null&&Gr(o)===void 0;)o=cc(o,r),t=Ce(t),r=se(t);return o}function _g(i,t){const r=[];return yg(i,t,r),r.sort((o,u)=>o.order-u.order),r}function yg(i,t,r){const o=Gr(t);if(o)for(let u=0;u<o.length;u++)r.push(o[u]);Qo(t,u=>{yg(i,u,r)})}function Yo(i,t){const r=Gr(t);if(r){let o=0;for(let u=0;u<r.length;u++)r[u].status!==2&&(r[o]=r[u],o++);r.length=o,ig(t,r.length>0?r:void 0)}Qo(t,o=>{Yo(i,o)})}function vg(i,t){const r=rs(gg(i,t)),o=cc(i.transactionQueueTree_,t);return IC(o,u=>{ha(i,u)}),ha(i,o),og(o,u=>{ha(i,u)}),r}function ha(i,t){const r=Gr(t);if(r){const o=[];let u=[],c=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(M(c===d-1,"All SENT items should be at beginning of queue."),c=d,r[d].status=3,r[d].abortReason="set"):(M(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),u=u.concat(er(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?ig(t,void 0):r.length=c+1,fn(i.eventQueue_,rs(t),u);for(let d=0;d<o.length;d++)Vr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let u=r[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function QC(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ft(`Invalid query segment '${r}' in query '${i}'`)}return t}const Tp=function(i,t){const r=qC(i),o=r.namespace;r.domain==="firebase.com"&&cn(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&cn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||xS();const u=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new _m(r.host,r.secure,o,u,t,"",o!==r.subdomain),path:new ke(r.pathString)}},qC=function(i){let t="",r="",o="",u="",c="",d=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let w=i.indexOf("/");w===-1&&(w=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),t=i.substring(0,Math.min(w,v)),w<v&&(u=KC(i.substring(w,v)));const T=QC(i.substring(Math.min(i.length,v)));g=t.indexOf(":"),g>=0?(d=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const A=t.slice(0,g);if(A.toLowerCase()==="localhost")r="localhost";else if(A.split(".").length<=2)r=A;else{const O=t.indexOf(".");o=t.substring(0,O).toLowerCase(),r=t.substring(O+1),c=o}"ns"in T&&(c=T.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:d,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",YC=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let u;const c=new Array(8);for(u=7;u>=0;u--)c[u]=Ip.charAt(r%64),r=Math.floor(r/64);M(r===0,"Cannot push at time == 0");let d=c.join("");if(o){for(u=11;u>=0&&t[u]===63;u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)d+=Ip.charAt(t[u]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,r,o,u){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=u}get key(){return oe(this._path)?null:Im(this._path)}get ref(){return new ur(this._repo,this._path)}get _queryIdentifier(){const t=cp(this._queryParams),r=Ka(t);return r==="{}"?"default":r}get _queryObject(){return cp(this._queryParams)}isEqual(t){if(t=Hr(t),!(t instanceof gc))return!1;const r=this._repo===t._repo,o=xm(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return r&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+fE(this._path)}}class ur extends gc{constructor(t,r){super(t,r,new Za,!1)}get parent(){const t=Rm(this._path);return t===null?null:new ur(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function XC(i,t){return i=Hr(i),i._checkNotDeleted("ref"),ba(i._root,t)}function ba(i,t){return i=Hr(i),se(i._path)===null?DC("child","path",t):cg("child","path",t),new ur(i._repo,ze(i._path,t))}function JC(i,t){i=Hr(i),fg("push",i._path),ag("push",t,i._path,!0);const r=hg(i._repo),o=YC(r),u=ba(i,o),c=ba(i,o);let d;return t!=null?d=ZC(c,t).then(()=>c):d=Promise.resolve(c),u.then=d.then.bind(d),u.catch=d.then.bind(d,void 0),u}function ZC(i,t){i=Hr(i),fg("set",i._path),ag("set",t,i._path,!1);const r=new Ho;return BC(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}gC(ur);_C(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="FIREBASE_DATABASE_EMULATOR_HOST",ja={};let t0=!1;function n0(i,t,r,o){i.repoInfo_=new _m(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function r0(i,t,r,o,u){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||cn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=Tp(c,u),p=d.repoInfo,m;typeof process<"u"&&Vh&&(m=Vh[e0]),m?(c=`http://${m}?ns=${p.namespace}`,d=Tp(c,u),p=d.repoInfo):d.repoInfo.secure;const g=new jS(i.name,i.options,t);OC("Invalid Firebase Database URL",d),oe(d.path)||cn("Database URL must point to the root of a Firebase Database (not including a child path).");const w=s0(p,i,g,new bS(i.name,r));return new o0(w,i)}function i0(i,t){const r=ja[t];(!r||r[i.key]!==i)&&cn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),HC(i),delete r[i.key]}function s0(i,t,r,o){let u=ja[t.name];u||(u={},ja[t.name]=u);let c=u[i.toURLString()];return c&&cn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new bC(i,t0,r,o),u[i.toURLString()]=c,c}class o0{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(jC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ur(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(i0(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&cn("Cannot call "+t+" on a deleted database.")}}function l0(i=hS(),t){const r=aS(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=Jv("database");o&&u0(r,...o)}return r}function u0(i,t,r,o={}){i=Hr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&cn("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&cn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new vo(vo.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:Zv(o.mockUserToken,i.app.options.projectId);c=new vo(d)}n0(u,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i){CS(dS),xo(new qi("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return r0(o,u,c,r)},"PUBLIC").setMultipleInstances(!0)),Lr(Gh,Kh,i),Lr(Gh,Kh,"esm2017")}ln.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};ln.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};a0();var c0="firebase",f0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(c0,f0,"app");const d0={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},h0=Zp(d0),p0=l0(h0),m0={items:[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito - … y mayonesa",price:24,image:"Hamburg.jpg"},{id:2,name:"Hamburguesa de Vacuno",quantity:50,desc:"Hamburguesa de Vacuno frito - … con tomate y mayonesa",price:26,image:"Hamburg.jpg"},{id:3,name:"Hamburguesa de Cerdo",quantity:60,desc:"Hamburguesa de Cerdo frito - … con tomate y mayonesa",price:26,image:"Hamburg.jpg"},{id:4,name:"Hamburguesa de Hormiga",quantity:70,desc:"Hamburguesa de Hormiga frita - … con tomate y mayonesa",price:26,image:"Hamburg.jpg"}],loading:!1,error:null},wo=Pv("pedidos/crear",async({menuItem:i,hora:t,cantidad:r},{rejectWithValue:o})=>{try{const u={fecha:t,id_menu:i.id,nombre_menu:i.name,cantidad:r,precio_total:i.price*r},c=XC(p0,"pedidos");return await JC(c,u),u}catch(u){return o(u)}}),g0=zv({name:"Tienda_Comida",initialState:m0,reducers:{},extraReducers:i=>{i.addCase(wo.pending,t=>{t.loading=!0,t.error=null}).addCase(wo.fulfilled,(t,r)=>{t.loading=!1;const o=r.payload.id_menu;t.items=t.items.map(u=>u.id===o?{...u,quantity:u.quantity-r.payload.cantidad}:u)}).addCase(wo.rejected,(t,r)=>{t.loading=!1,t.error=r.payload})}}),_0=g0.reducer;function y0(i){const t=Ky(),[r,o]=Ne.useState({timeZone:"",dateTime:""}),[u,c]=Ne.useState(1),[d,p]=Ne.useState(0),m=Ui($=>$.storeComidaRapida.items),{loading:g}=Ui($=>$.storeComidaRapida),w=Ui($=>$.storeComidaRapida.items[i.food-1]);if(w.quantity<=0)throw new Error("Ya no quedan hamburguesas "+w.name+" ,tenemos "+w.quantity+" ahora mismo");const[v,T]=Ne.useState(void 0),[A,O]=Ne.useState(!1),H="Europe/Amsterdam",F=async()=>{if(m==null?void 0:m.find(V=>V.id===w.id))try{o(await xy(H,o,T))}catch(V){tr.error("Error en fetchData: "+V);return}else tr.warn("No se encontró el item con id: "+w.id)},re=()=>{tr.debug("Entendido el excede"),p(0),O(!1),T(!1)},J=$=>{const V=$.target.value,X=parseInt(V,10);isNaN(X)?V===""&&c(0):X<w.quantity-1?(p(0),O(!1),c(X)):(p(X),O(!0))};return Ne.useEffect(()=>{if(v===!1&&r&&g==!1){async function $(){try{console.log("ANTES DEL DISPATCH"),t(wo({menuItem:w,hora:r.dateTime,cantidad:u})),console.log("DESPUES DEL DISPATCH"),O(!1)}catch(V){console.error("Error al crear pedido:",V)}}$()}},[r]),Q.jsxs(Q.Fragment,{children:[v===!0?Q.jsx("p",{children:"Realizando petición de datos..."}):v===!1&&r?Q.jsxs("div",{children:[Q.jsx("h4",{children:"Pedido realizado"}),Q.jsxs("p",{children:["Hora actual: ",r.dateTime]})]}):v===!1&&!r?Q.jsx("p",{children:"No se pudieron obtener los datos."}):null,A===!0&&Q.jsxs("div",{children:[Q.jsxs("h4",{children:["Excedes la cantidad total de hamburguesas que puedes pedir: ",w.quantity-1,"y estas ingresando ",d]}),Q.jsx("button",{onClick:()=>re(),children:"Entendido"})]}),Q.jsxs("div",{children:[Q.jsx("img",{className:"foodImg",src:Np,alt:w.name}),Q.jsx("h5",{children:"Nombre: "}),Q.jsx("p",{children:w.name}),Q.jsx("h5",{children:"Precio: "}),Q.jsx("p",{children:w.price*u}),Q.jsx("h5",{children:"Cantidad total que se puede pedir: "}),Q.jsx("p",{children:w.quantity-1}),Q.jsx("br",{}),Q.jsxs("div",{children:[Q.jsx("label",{children:"Cantidad a ordenar: "}),Q.jsx("input",{"data-testid":"foodPriceF",type:"number",id:"cantidad",className:"number",value:u,onChange:J,min:"0"}),Q.jsx("button",{onClick:async()=>{await F()},children:"Ordenar"})]}),Q.jsx("button",{onClick:i.onReturnToMenu,children:"Volver al menú"})]})]})}class v0 extends Sy.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){tr.warn("Error capturado por ErrorBoundary: "+t.message),tr.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}function w0(){const[i,t]=Ne.useState(!1),[r,o]=Ne.useState(),u=Ui(p=>p.storeComidaRapida.items),c=()=>{t(!i)},d=p=>{tr.debug("El usuario quiere ordenar: "+p.name),o(p),t(!i)};return Q.jsxs(Q.Fragment,{children:[!i&&Q.jsxs(Q.Fragment,{children:[Q.jsx("h4",{className:"foodTitle",children:"Choose from our Menu"}),Q.jsx("ul",{className:"ulFoods",children:u.map(p=>Q.jsxs("li",{className:"liFoods",onClick:()=>d(p),children:[Q.jsx("img",{className:"foodImg",src:Np,alt:p.name}),Q.jsxs("div",{className:"foodItem",children:[Q.jsx("p",{className:"foodDesc",children:p.desc}),Q.jsxs("p",{"data-testid":"foodPrice",className:"foodPrice",children:[p.price,"$"]})]})]},p.id))})]}),i&&Q.jsx(v0,{fallback:Q.jsx("div",{children:"¡No nos quedan de esas hamburguesas!"}),children:Q.jsx(y0,{food:r.id,onReturnToMenu:c})})]})}function S0(){const[i,t]=Ne.useState(!1),r=Ui(o=>o.storeComidaRapida.items);return Q.jsxs("div",{className:"App",children:[Q.jsx("button",{className:"toggleButton",onClick:()=>t(!i),children:i?"Disponibilidad":"Pedir Comida"}),Q.jsx("h3",{className:"title",children:"Comida Rápida Online"}),!i&&Q.jsxs(Q.Fragment,{children:[Q.jsx("h4",{className:"subTitle",children:"Menús"}),Q.jsx("ul",{className:"ulApp",children:r.map(o=>Q.jsxs("li",{className:"liApp",children:[Q.jsx("p",{children:o.name}),Q.jsxs("p",{children:["#",o.quantity]})]},o.id))})]}),i&&Q.jsx(w0,{})]})}const E0=Sv({reducer:{storeComidaRapida:_0}});Ny.createRoot(document.getElementById("root")).render(Q.jsx(Ne.StrictMode,{children:Q.jsx($y,{store:E0,children:Q.jsx(S0,{})})}));
