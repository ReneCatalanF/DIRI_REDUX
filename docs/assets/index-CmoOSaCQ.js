var hy=Object.defineProperty;var py=(i,t,r)=>t in i?hy(i,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):i[t]=r;var Bu=(i,t,r)=>py(i,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function my(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wu={exports:{}},Oi={},Hu={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah;function gy(){if(ah)return Z;ah=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),v=Symbol.iterator;function I(E){return E===null||typeof E!="object"?null:(E=v&&E[v]||E["@@iterator"],typeof E=="function"?E:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,V={};function z(E,R,J){this.props=E,this.context=R,this.refs=V,this.updater=J||O}z.prototype.isReactComponent={},z.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},z.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function re(){}re.prototype=z.prototype;function se(E,R,J){this.props=E,this.context=R,this.refs=V,this.updater=J||O}var U=se.prototype=new re;U.constructor=se,A(U,z.prototype),U.isPureReactComponent=!0;var $=Array.isArray,X=Object.prototype.hasOwnProperty,ce={current:null},me={key:!0,ref:!0,__self:!0,__source:!0};function ge(E,R,J){var ee,le={},ue=null,_e=null;if(R!=null)for(ee in R.ref!==void 0&&(_e=R.ref),R.key!==void 0&&(ue=""+R.key),R)X.call(R,ee)&&!me.hasOwnProperty(ee)&&(le[ee]=R[ee]);var de=arguments.length-2;if(de===1)le.children=J;else if(1<de){for(var Te=Array(de),dt=0;dt<de;dt++)Te[dt]=arguments[dt+2];le.children=Te}if(E&&E.defaultProps)for(ee in de=E.defaultProps,de)le[ee]===void 0&&(le[ee]=de[ee]);return{$$typeof:i,type:E,key:ue,ref:_e,props:le,_owner:ce.current}}function Nt(E,R){return{$$typeof:i,type:E.type,key:R,ref:E.ref,props:E.props,_owner:E._owner}}function Rt(E){return typeof E=="object"&&E!==null&&E.$$typeof===i}function qt(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(J){return R[J]})}var Ut=/\/+/g;function ft(E,R){return typeof E=="object"&&E!==null&&E.key!=null?qt(""+E.key):R.toString(36)}function xt(E,R,J,ee,le){var ue=typeof E;(ue==="undefined"||ue==="boolean")&&(E=null);var _e=!1;if(E===null)_e=!0;else switch(ue){case"string":case"number":_e=!0;break;case"object":switch(E.$$typeof){case i:case t:_e=!0}}if(_e)return _e=E,le=le(_e),E=ee===""?"."+ft(_e,0):ee,$(le)?(J="",E!=null&&(J=E.replace(Ut,"$&/")+"/"),xt(le,R,J,"",function(dt){return dt})):le!=null&&(Rt(le)&&(le=Nt(le,J+(!le.key||_e&&_e.key===le.key?"":(""+le.key).replace(Ut,"$&/")+"/")+E)),R.push(le)),1;if(_e=0,ee=ee===""?".":ee+":",$(E))for(var de=0;de<E.length;de++){ue=E[de];var Te=ee+ft(ue,de);_e+=xt(ue,R,J,Te,le)}else if(Te=I(E),typeof Te=="function")for(E=Te.call(E),de=0;!(ue=E.next()).done;)ue=ue.value,Te=ee+ft(ue,de++),_e+=xt(ue,R,J,Te,le);else if(ue==="object")throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.");return _e}function Bt(E,R,J){if(E==null)return E;var ee=[],le=0;return xt(E,ee,"","",function(ue){return R.call(J,ue,le++)}),ee}function nt(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(J){(E._status===0||E._status===-1)&&(E._status=1,E._result=J)},function(J){(E._status===0||E._status===-1)&&(E._status=2,E._result=J)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var Pe={current:null},L={transition:null},q={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:L,ReactCurrentOwner:ce};function b(){throw Error("act(...) is not supported in production builds of React.")}return Z.Children={map:Bt,forEach:function(E,R,J){Bt(E,function(){R.apply(this,arguments)},J)},count:function(E){var R=0;return Bt(E,function(){R++}),R},toArray:function(E){return Bt(E,function(R){return R})||[]},only:function(E){if(!Rt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Z.Component=z,Z.Fragment=r,Z.Profiler=u,Z.PureComponent=se,Z.StrictMode=o,Z.Suspense=m,Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,Z.act=b,Z.cloneElement=function(E,R,J){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ee=A({},E.props),le=E.key,ue=E.ref,_e=E._owner;if(R!=null){if(R.ref!==void 0&&(ue=R.ref,_e=ce.current),R.key!==void 0&&(le=""+R.key),E.type&&E.type.defaultProps)var de=E.type.defaultProps;for(Te in R)X.call(R,Te)&&!me.hasOwnProperty(Te)&&(ee[Te]=R[Te]===void 0&&de!==void 0?de[Te]:R[Te])}var Te=arguments.length-2;if(Te===1)ee.children=J;else if(1<Te){de=Array(Te);for(var dt=0;dt<Te;dt++)de[dt]=arguments[dt+2];ee.children=de}return{$$typeof:i,type:E.type,key:le,ref:ue,props:ee,_owner:_e}},Z.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:c,_context:E},E.Consumer=E},Z.createElement=ge,Z.createFactory=function(E){var R=ge.bind(null,E);return R.type=E,R},Z.createRef=function(){return{current:null}},Z.forwardRef=function(E){return{$$typeof:p,render:E}},Z.isValidElement=Rt,Z.lazy=function(E){return{$$typeof:S,_payload:{_status:-1,_result:E},_init:nt}},Z.memo=function(E,R){return{$$typeof:g,type:E,compare:R===void 0?null:R}},Z.startTransition=function(E){var R=L.transition;L.transition={};try{E()}finally{L.transition=R}},Z.unstable_act=b,Z.useCallback=function(E,R){return Pe.current.useCallback(E,R)},Z.useContext=function(E){return Pe.current.useContext(E)},Z.useDebugValue=function(){},Z.useDeferredValue=function(E){return Pe.current.useDeferredValue(E)},Z.useEffect=function(E,R){return Pe.current.useEffect(E,R)},Z.useId=function(){return Pe.current.useId()},Z.useImperativeHandle=function(E,R,J){return Pe.current.useImperativeHandle(E,R,J)},Z.useInsertionEffect=function(E,R){return Pe.current.useInsertionEffect(E,R)},Z.useLayoutEffect=function(E,R){return Pe.current.useLayoutEffect(E,R)},Z.useMemo=function(E,R){return Pe.current.useMemo(E,R)},Z.useReducer=function(E,R,J){return Pe.current.useReducer(E,R,J)},Z.useRef=function(E){return Pe.current.useRef(E)},Z.useState=function(E){return Pe.current.useState(E)},Z.useSyncExternalStore=function(E,R,J){return Pe.current.useSyncExternalStore(E,R,J)},Z.useTransition=function(){return Pe.current.useTransition()},Z.version="18.3.1",Z}var ch;function Lo(){return ch||(ch=1,Hu.exports=gy()),Hu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh;function _y(){if(fh)return Oi;fh=1;var i=Lo(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,g){var S,v={},I=null,O=null;g!==void 0&&(I=""+g),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(S in m)o.call(m,S)&&!c.hasOwnProperty(S)&&(v[S]=m[S]);if(p&&p.defaultProps)for(S in m=p.defaultProps,m)v[S]===void 0&&(v[S]=m[S]);return{$$typeof:t,type:p,key:I,ref:O,props:v,_owner:u.current}}return Oi.Fragment=r,Oi.jsx=d,Oi.jsxs=d,Oi}var dh;function yy(){return dh||(dh=1,Wu.exports=_y()),Wu.exports}var Q=yy(),Ne=Lo();const vy=my(Ne);var fo={},$u={exports:{}},ut={},Vu={exports:{}},Ku={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hh;function wy(){return hh||(hh=1,function(i){function t(L,q){var b=L.length;L.push(q);e:for(;0<b;){var E=b-1>>>1,R=L[E];if(0<u(R,q))L[E]=q,L[b]=R,b=E;else break e}}function r(L){return L.length===0?null:L[0]}function o(L){if(L.length===0)return null;var q=L[0],b=L.pop();if(b!==q){L[0]=b;e:for(var E=0,R=L.length,J=R>>>1;E<J;){var ee=2*(E+1)-1,le=L[ee],ue=ee+1,_e=L[ue];if(0>u(le,b))ue<R&&0>u(_e,le)?(L[E]=_e,L[ue]=b,E=ue):(L[E]=le,L[ee]=b,E=ee);else if(ue<R&&0>u(_e,b))L[E]=_e,L[ue]=b,E=ue;else break e}}return q}function u(L,q){var b=L.sortIndex-q.sortIndex;return b!==0?b:L.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();i.unstable_now=function(){return d.now()-p}}var m=[],g=[],S=1,v=null,I=3,O=!1,A=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,se=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(L){for(var q=r(g);q!==null;){if(q.callback===null)o(g);else if(q.startTime<=L)o(g),q.sortIndex=q.expirationTime,t(m,q);else break;q=r(g)}}function $(L){if(V=!1,U(L),!A)if(r(m)!==null)A=!0,nt(X);else{var q=r(g);q!==null&&Pe($,q.startTime-L)}}function X(L,q){A=!1,V&&(V=!1,re(ge),ge=-1),O=!0;var b=I;try{for(U(q),v=r(m);v!==null&&(!(v.expirationTime>q)||L&&!qt());){var E=v.callback;if(typeof E=="function"){v.callback=null,I=v.priorityLevel;var R=E(v.expirationTime<=q);q=i.unstable_now(),typeof R=="function"?v.callback=R:v===r(m)&&o(m),U(q)}else o(m);v=r(m)}if(v!==null)var J=!0;else{var ee=r(g);ee!==null&&Pe($,ee.startTime-q),J=!1}return J}finally{v=null,I=b,O=!1}}var ce=!1,me=null,ge=-1,Nt=5,Rt=-1;function qt(){return!(i.unstable_now()-Rt<Nt)}function Ut(){if(me!==null){var L=i.unstable_now();Rt=L;var q=!0;try{q=me(!0,L)}finally{q?ft():(ce=!1,me=null)}}else ce=!1}var ft;if(typeof se=="function")ft=function(){se(Ut)};else if(typeof MessageChannel<"u"){var xt=new MessageChannel,Bt=xt.port2;xt.port1.onmessage=Ut,ft=function(){Bt.postMessage(null)}}else ft=function(){z(Ut,0)};function nt(L){me=L,ce||(ce=!0,ft())}function Pe(L,q){ge=z(function(){L(i.unstable_now())},q)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_continueExecution=function(){A||O||(A=!0,nt(X))},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Nt=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(L){switch(I){case 1:case 2:case 3:var q=3;break;default:q=I}var b=I;I=q;try{return L()}finally{I=b}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(L,q){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var b=I;I=L;try{return q()}finally{I=b}},i.unstable_scheduleCallback=function(L,q,b){var E=i.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?E+b:E):b=E,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=b+R,L={id:S++,callback:q,priorityLevel:L,startTime:b,expirationTime:R,sortIndex:-1},b>E?(L.sortIndex=b,t(g,L),r(m)===null&&L===r(g)&&(V?(re(ge),ge=-1):V=!0,Pe($,b-E))):(L.sortIndex=R,t(m,L),A||O||(A=!0,nt(X))),L},i.unstable_shouldYield=qt,i.unstable_wrapCallback=function(L){var q=I;return function(){var b=I;I=q;try{return L.apply(this,arguments)}finally{I=b}}}}(Ku)),Ku}var ph;function Sy(){return ph||(ph=1,Vu.exports=wy()),Vu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mh;function Ey(){if(mh)return ut;mh=1;var i=Lo(),t=Sy();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function c(e,n){d(e,n),d(e+"Capture",n)}function d(e,n){for(u[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},v={};function I(e){return m.call(v,e)?!0:m.call(S,e)?!1:g.test(e)?v[e]=!0:(S[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function V(e,n,s,l,a,f,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=a,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=h}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new V(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new V(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new V(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new V(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new V(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new V(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new V(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new V(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new V(e,5,!1,e.toLowerCase(),null,!1,!1)});var re=/[\-:]([a-z])/g;function se(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(re,se);z[n]=new V(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(re,se);z[n]=new V(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(re,se);z[n]=new V(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new V(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new V("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new V(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,n,s,l){var a=z.hasOwnProperty(n)?z[n]:null;(a!==null?a.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(A(n,s,a,l)&&(s=null),l||a===null?I(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):a.mustUseProperty?e[a.propertyName]=s===null?a.type===3?!1:"":s:(n=a.attributeName,l=a.attributeNamespace,s===null?e.removeAttribute(n):(a=a.type,s=a===3||a===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var $=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X=Symbol.for("react.element"),ce=Symbol.for("react.portal"),me=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),Nt=Symbol.for("react.profiler"),Rt=Symbol.for("react.provider"),qt=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),ft=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),Bt=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),L=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var b=Object.assign,E;function R(e){if(E===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);E=n&&n[1]||""}return`
`+E+e}var J=!1;function ee(e,n){if(!e||J)return"";J=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(T){var l=T}Reflect.construct(e,[],n)}else{try{n.call()}catch(T){l=T}e.call(n.prototype)}else{try{throw Error()}catch(T){l=T}e()}}catch(T){if(T&&l&&typeof T.stack=="string"){for(var a=T.stack.split(`
`),f=l.stack.split(`
`),h=a.length-1,_=f.length-1;1<=h&&0<=_&&a[h]!==f[_];)_--;for(;1<=h&&0<=_;h--,_--)if(a[h]!==f[_]){if(h!==1||_!==1)do if(h--,_--,0>_||a[h]!==f[_]){var y=`
`+a[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=_);break}}}finally{J=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?R(e):""}function le(e){switch(e.tag){case 5:return R(e.type);case 16:return R("Lazy");case 13:return R("Suspense");case 19:return R("SuspenseList");case 0:case 2:case 15:return e=ee(e.type,!1),e;case 11:return e=ee(e.type.render,!1),e;case 1:return e=ee(e.type,!0),e;default:return""}}function ue(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case me:return"Fragment";case ce:return"Portal";case Nt:return"Profiler";case ge:return"StrictMode";case ft:return"Suspense";case xt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qt:return(e.displayName||"Context")+".Consumer";case Rt:return(e._context.displayName||"Context")+".Provider";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bt:return n=e.displayName||null,n!==null?n:ue(e.type)||"Memo";case nt:n=e._payload,e=e._init;try{return ue(e(n))}catch{}}return null}function _e(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(n);case 8:return n===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function dt(e){var n=Te(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var a=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return a.call(this)},set:function(h){l=""+h,f.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ts(e){e._valueTracker||(e._valueTracker=dt(e))}function pc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Te(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qo(e,n){var s=n.checked;return b({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function mc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=de(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function gc(e,n){n=n.checked,n!=null&&U(e,"checked",n,!1)}function qo(e,n){gc(e,n);var s=de(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Yo(e,n.type,s):n.hasOwnProperty("defaultValue")&&Yo(e,n.type,de(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function _c(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Yo(e,n,s){(n!=="number"||ns(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Gr=Array.isArray;function ar(e,n,s,l){if(e=e.options,n){n={};for(var a=0;a<s.length;a++)n["$"+s[a]]=!0;for(s=0;s<e.length;s++)a=n.hasOwnProperty("$"+e[s].value),e[s].selected!==a&&(e[s].selected=a),a&&l&&(e[s].defaultSelected=!0)}else{for(s=""+de(s),n=null,a=0;a<e.length;a++){if(e[a].value===s){e[a].selected=!0,l&&(e[a].defaultSelected=!0);return}n!==null||e[a].disabled||(n=e[a])}n!==null&&(n.selected=!0)}}function Xo(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return b({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Gr(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:de(s)}}function vc(e,n){var s=de(n.value),l=de(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function wc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function Sc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?Sc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,Ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,a){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,a)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Qr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var qr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yg=["Webkit","ms","Moz","O"];Object.keys(qr).forEach(function(e){yg.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),qr[n]=qr[e]})});function Cc(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||qr.hasOwnProperty(e)&&qr[e]?(""+n).trim():n+"px"}function kc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,a=Cc(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,a):e[s]=a}}var vg=b({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zo(e,n){if(n){if(vg[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function el(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tl=null;function nl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rl=null,cr=null,fr=null;function Tc(e){if(e=_i(e)){if(typeof rl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Is(n),rl(e.stateNode,e.type,n))}}function Ic(e){cr?fr?fr.push(e):fr=[e]:cr=e}function Nc(){if(cr){var e=cr,n=fr;if(fr=cr=null,Tc(e),n)for(e=0;e<n.length;e++)Tc(n[e])}}function Rc(e,n){return e(n)}function xc(){}var il=!1;function Pc(e,n,s){if(il)return e(n,s);il=!0;try{return Rc(e,n,s)}finally{il=!1,(cr!==null||fr!==null)&&(xc(),Nc())}}function Yr(e,n){var s=e.stateNode;if(s===null)return null;var l=Is(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var sl=!1;if(p)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){sl=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{sl=!1}function wg(e,n,s,l,a,f,h,_,y){var T=Array.prototype.slice.call(arguments,3);try{n.apply(s,T)}catch(x){this.onError(x)}}var Jr=!1,is=null,ss=!1,ol=null,Sg={onError:function(e){Jr=!0,is=e}};function Eg(e,n,s,l,a,f,h,_,y){Jr=!1,is=null,wg.apply(Sg,arguments)}function Cg(e,n,s,l,a,f,h,_,y){if(Eg.apply(this,arguments),Jr){if(Jr){var T=is;Jr=!1,is=null}else throw Error(r(198));ss||(ss=!0,ol=T)}}function zn(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Dc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Oc(e){if(zn(e)!==e)throw Error(r(188))}function kg(e){var n=e.alternate;if(!n){if(n=zn(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var a=s.return;if(a===null)break;var f=a.alternate;if(f===null){if(l=a.return,l!==null){s=l;continue}break}if(a.child===f.child){for(f=a.child;f;){if(f===s)return Oc(a),e;if(f===l)return Oc(a),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=a,l=f;else{for(var h=!1,_=a.child;_;){if(_===s){h=!0,s=a,l=f;break}if(_===l){h=!0,l=a,s=f;break}_=_.sibling}if(!h){for(_=f.child;_;){if(_===s){h=!0,s=f,l=a;break}if(_===l){h=!0,l=f,s=a;break}_=_.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Ac(e){return e=kg(e),e!==null?Mc(e):null}function Mc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Mc(e);if(n!==null)return n;e=e.sibling}return null}var Lc=t.unstable_scheduleCallback,Fc=t.unstable_cancelCallback,Tg=t.unstable_shouldYield,Ig=t.unstable_requestPaint,Oe=t.unstable_now,Ng=t.unstable_getCurrentPriorityLevel,ll=t.unstable_ImmediatePriority,zc=t.unstable_UserBlockingPriority,os=t.unstable_NormalPriority,Rg=t.unstable_LowPriority,jc=t.unstable_IdlePriority,ls=null,Wt=null;function xg(e){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ls,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:Og,Pg=Math.log,Dg=Math.LN2;function Og(e){return e>>>=0,e===0?32:31-(Pg(e)/Dg|0)|0}var us=64,as=4194304;function Zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,a=e.suspendedLanes,f=e.pingedLanes,h=s&268435455;if(h!==0){var _=h&~a;_!==0?l=Zr(_):(f&=h,f!==0&&(l=Zr(f)))}else h=s&~a,h!==0?l=Zr(h):f!==0&&(l=Zr(f));if(l===0)return 0;if(n!==0&&n!==l&&!(n&a)&&(a=l&-l,f=n&-n,a>=f||a===16&&(f&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Pt(n),a=1<<s,l|=e[s],n&=~a;return l}function Ag(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mg(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,a=e.expirationTimes,f=e.pendingLanes;0<f;){var h=31-Pt(f),_=1<<h,y=a[h];y===-1?(!(_&s)||_&l)&&(a[h]=Ag(_,n)):y<=n&&(e.expiredLanes|=_),f&=~_}}function ul(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bc(){var e=us;return us<<=1,!(us&4194240)&&(us=64),e}function al(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function ei(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Pt(n),e[n]=s}function Lg(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var a=31-Pt(s),f=1<<a;n[a]=0,l[a]=-1,e[a]=-1,s&=~f}}function cl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Pt(s),a=1<<l;a&n|e[l]&n&&(e[l]|=n),s&=~a}}var he=0;function Uc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bc,fl,Wc,Hc,$c,dl=!1,fs=[],hn=null,pn=null,mn=null,ti=new Map,ni=new Map,gn=[],Fg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vc(e,n){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":ti.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(n.pointerId)}}function ri(e,n,s,l,a,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[a]},n!==null&&(n=_i(n),n!==null&&fl(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,a!==null&&n.indexOf(a)===-1&&n.push(a),e)}function zg(e,n,s,l,a){switch(n){case"focusin":return hn=ri(hn,e,n,s,l,a),!0;case"dragenter":return pn=ri(pn,e,n,s,l,a),!0;case"mouseover":return mn=ri(mn,e,n,s,l,a),!0;case"pointerover":var f=a.pointerId;return ti.set(f,ri(ti.get(f)||null,e,n,s,l,a)),!0;case"gotpointercapture":return f=a.pointerId,ni.set(f,ri(ni.get(f)||null,e,n,s,l,a)),!0}return!1}function Kc(e){var n=jn(e.target);if(n!==null){var s=zn(n);if(s!==null){if(n=s.tag,n===13){if(n=Dc(s),n!==null){e.blockedOn=n,$c(e.priority,function(){Wc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ds(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=pl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);tl=l,s.target.dispatchEvent(l),tl=null}else return n=_i(s),n!==null&&fl(n),e.blockedOn=s,!1;n.shift()}return!0}function Gc(e,n,s){ds(e)&&s.delete(n)}function jg(){dl=!1,hn!==null&&ds(hn)&&(hn=null),pn!==null&&ds(pn)&&(pn=null),mn!==null&&ds(mn)&&(mn=null),ti.forEach(Gc),ni.forEach(Gc)}function ii(e,n){e.blockedOn===n&&(e.blockedOn=null,dl||(dl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jg)))}function si(e){function n(a){return ii(a,e)}if(0<fs.length){ii(fs[0],e);for(var s=1;s<fs.length;s++){var l=fs[s];l.blockedOn===e&&(l.blockedOn=null)}}for(hn!==null&&ii(hn,e),pn!==null&&ii(pn,e),mn!==null&&ii(mn,e),ti.forEach(n),ni.forEach(n),s=0;s<gn.length;s++)l=gn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<gn.length&&(s=gn[0],s.blockedOn===null);)Kc(s),s.blockedOn===null&&gn.shift()}var dr=$.ReactCurrentBatchConfig,hs=!0;function bg(e,n,s,l){var a=he,f=dr.transition;dr.transition=null;try{he=1,hl(e,n,s,l)}finally{he=a,dr.transition=f}}function Ug(e,n,s,l){var a=he,f=dr.transition;dr.transition=null;try{he=4,hl(e,n,s,l)}finally{he=a,dr.transition=f}}function hl(e,n,s,l){if(hs){var a=pl(e,n,s,l);if(a===null)Dl(e,n,l,ps,s),Vc(e,l);else if(zg(a,e,n,s,l))l.stopPropagation();else if(Vc(e,l),n&4&&-1<Fg.indexOf(e)){for(;a!==null;){var f=_i(a);if(f!==null&&Bc(f),f=pl(e,n,s,l),f===null&&Dl(e,n,l,ps,s),f===a)break;a=f}a!==null&&l.stopPropagation()}else Dl(e,n,l,null,s)}}var ps=null;function pl(e,n,s,l){if(ps=null,e=nl(l),e=jn(e),e!==null)if(n=zn(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Dc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ps=e,null}function Qc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ng()){case ll:return 1;case zc:return 4;case os:case Rg:return 16;case jc:return 536870912;default:return 16}default:return 16}}var _n=null,ml=null,ms=null;function qc(){if(ms)return ms;var e,n=ml,s=n.length,l,a="value"in _n?_n.value:_n.textContent,f=a.length;for(e=0;e<s&&n[e]===a[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===a[f-l];l++);return ms=a.slice(e,1<l?1-l:void 0)}function gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Yc(){return!1}function ht(e){function n(s,l,a,f,h){this._reactName=s,this._targetInst=a,this.type=l,this.nativeEvent=f,this.target=h,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(s=e[_],this[_]=s?s(f):f[_]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?_s:Yc,this.isPropagationStopped=Yc,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),n}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gl=ht(hr),oi=b({},hr,{view:0,detail:0}),Bg=ht(oi),_l,yl,li,ys=b({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==li&&(li&&e.type==="mousemove"?(_l=e.screenX-li.screenX,yl=e.screenY-li.screenY):yl=_l=0,li=e),_l)},movementY:function(e){return"movementY"in e?e.movementY:yl}}),Xc=ht(ys),Wg=b({},ys,{dataTransfer:0}),Hg=ht(Wg),$g=b({},oi,{relatedTarget:0}),vl=ht($g),Vg=b({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kg=ht(Vg),Gg=b({},hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qg=ht(Gg),qg=b({},hr,{data:0}),Jc=ht(qg),Yg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Jg[e])?!!n[e]:!1}function wl(){return Zg}var e_=b({},oi,{key:function(e){if(e.key){var n=Yg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wl,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),t_=ht(e_),n_=b({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=ht(n_),r_=b({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wl}),i_=ht(r_),s_=b({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),o_=ht(s_),l_=b({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=ht(l_),a_=[9,13,27,32],Sl=p&&"CompositionEvent"in window,ui=null;p&&"documentMode"in document&&(ui=document.documentMode);var c_=p&&"TextEvent"in window&&!ui,ef=p&&(!Sl||ui&&8<ui&&11>=ui),tf=" ",nf=!1;function rf(e,n){switch(e){case"keyup":return a_.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var pr=!1;function f_(e,n){switch(e){case"compositionend":return sf(n);case"keypress":return n.which!==32?null:(nf=!0,tf);case"textInput":return e=n.data,e===tf&&nf?null:e;default:return null}}function d_(e,n){if(pr)return e==="compositionend"||!Sl&&rf(e,n)?(e=qc(),ms=ml=_n=null,pr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ef&&n.locale!=="ko"?null:n.data;default:return null}}var h_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!h_[e.type]:n==="textarea"}function lf(e,n,s,l){Ic(l),n=Cs(n,"onChange"),0<n.length&&(s=new gl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ai=null,ci=null;function p_(e){Tf(e,0)}function vs(e){var n=vr(e);if(pc(n))return e}function m_(e,n){if(e==="change")return n}var uf=!1;if(p){var El;if(p){var Cl="oninput"in document;if(!Cl){var af=document.createElement("div");af.setAttribute("oninput","return;"),Cl=typeof af.oninput=="function"}El=Cl}else El=!1;uf=El&&(!document.documentMode||9<document.documentMode)}function cf(){ai&&(ai.detachEvent("onpropertychange",ff),ci=ai=null)}function ff(e){if(e.propertyName==="value"&&vs(ci)){var n=[];lf(n,ci,e,nl(e)),Pc(p_,n)}}function g_(e,n,s){e==="focusin"?(cf(),ai=n,ci=s,ai.attachEvent("onpropertychange",ff)):e==="focusout"&&cf()}function __(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(ci)}function y_(e,n){if(e==="click")return vs(n)}function v_(e,n){if(e==="input"||e==="change")return vs(n)}function w_(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Dt=typeof Object.is=="function"?Object.is:w_;function fi(e,n){if(Dt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var a=s[l];if(!m.call(n,a)||!Dt(e[a],n[a]))return!1}return!0}function df(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hf(e,n){var s=df(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=df(s)}}function pf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function mf(){for(var e=window,n=ns();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ns(e.document)}return n}function kl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function S_(e){var n=mf(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&pf(s.ownerDocument.documentElement,s)){if(l!==null&&kl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var a=s.textContent.length,f=Math.min(l.start,a);l=l.end===void 0?f:Math.min(l.end,a),!e.extend&&f>l&&(a=l,l=f,f=a),a=hf(s,f);var h=hf(s,l);a&&h&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(a.node,a.offset),e.removeAllRanges(),f>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E_=p&&"documentMode"in document&&11>=document.documentMode,mr=null,Tl=null,di=null,Il=!1;function gf(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Il||mr==null||mr!==ns(l)||(l=mr,"selectionStart"in l&&kl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),di&&fi(di,l)||(di=l,l=Cs(Tl,"onSelect"),0<l.length&&(n=new gl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=mr)))}function ws(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var gr={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Nl={},_f={};p&&(_f=document.createElement("div").style,"AnimationEvent"in window||(delete gr.animationend.animation,delete gr.animationiteration.animation,delete gr.animationstart.animation),"TransitionEvent"in window||delete gr.transitionend.transition);function Ss(e){if(Nl[e])return Nl[e];if(!gr[e])return e;var n=gr[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in _f)return Nl[e]=n[s];return e}var yf=Ss("animationend"),vf=Ss("animationiteration"),wf=Ss("animationstart"),Sf=Ss("transitionend"),Ef=new Map,Cf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yn(e,n){Ef.set(e,n),c(n,[e])}for(var Rl=0;Rl<Cf.length;Rl++){var xl=Cf[Rl],C_=xl.toLowerCase(),k_=xl[0].toUpperCase()+xl.slice(1);yn(C_,"on"+k_)}yn(yf,"onAnimationEnd"),yn(vf,"onAnimationIteration"),yn(wf,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Sf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T_=new Set("cancel close invalid load scroll toggle".split(" ").concat(hi));function kf(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Cg(l,n,void 0,e),e.currentTarget=null}function Tf(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],a=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var h=l.length-1;0<=h;h--){var _=l[h],y=_.instance,T=_.currentTarget;if(_=_.listener,y!==f&&a.isPropagationStopped())break e;kf(a,_,T),f=y}else for(h=0;h<l.length;h++){if(_=l[h],y=_.instance,T=_.currentTarget,_=_.listener,y!==f&&a.isPropagationStopped())break e;kf(a,_,T),f=y}}}if(ss)throw e=ol,ss=!1,ol=null,e}function we(e,n){var s=n[zl];s===void 0&&(s=n[zl]=new Set);var l=e+"__bubble";s.has(l)||(If(n,e,2,!1),s.add(l))}function Pl(e,n,s){var l=0;n&&(l|=4),If(s,e,l,n)}var Es="_reactListening"+Math.random().toString(36).slice(2);function pi(e){if(!e[Es]){e[Es]=!0,o.forEach(function(s){s!=="selectionchange"&&(T_.has(s)||Pl(s,!1,e),Pl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Es]||(n[Es]=!0,Pl("selectionchange",!1,n))}}function If(e,n,s,l){switch(Qc(n)){case 1:var a=bg;break;case 4:a=Ug;break;default:a=hl}s=a.bind(null,n,s,e),a=void 0,!sl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(a=!0),l?a!==void 0?e.addEventListener(n,s,{capture:!0,passive:a}):e.addEventListener(n,s,!0):a!==void 0?e.addEventListener(n,s,{passive:a}):e.addEventListener(n,s,!1)}function Dl(e,n,s,l,a){var f=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var _=l.stateNode.containerInfo;if(_===a||_.nodeType===8&&_.parentNode===a)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===a||y.nodeType===8&&y.parentNode===a))return;h=h.return}for(;_!==null;){if(h=jn(_),h===null)return;if(y=h.tag,y===5||y===6){l=f=h;continue e}_=_.parentNode}}l=l.return}Pc(function(){var T=f,x=nl(s),P=[];e:{var N=Ef.get(e);if(N!==void 0){var F=gl,B=e;switch(e){case"keypress":if(gs(s)===0)break e;case"keydown":case"keyup":F=t_;break;case"focusin":B="focus",F=vl;break;case"focusout":B="blur",F=vl;break;case"beforeblur":case"afterblur":F=vl;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Xc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Hg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=i_;break;case yf:case vf:case wf:F=Kg;break;case Sf:F=o_;break;case"scroll":F=Bg;break;case"wheel":F=u_;break;case"copy":case"cut":case"paste":F=Qg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zc}var W=(n&4)!==0,Ae=!W&&e==="scroll",C=W?N!==null?N+"Capture":null:N;W=[];for(var w=T,k;w!==null;){k=w;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,C!==null&&(D=Yr(w,C),D!=null&&W.push(mi(w,D,k)))),Ae)break;w=w.return}0<W.length&&(N=new F(N,B,null,s,x),P.push({event:N,listeners:W}))}}if(!(n&7)){e:{if(N=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",N&&s!==tl&&(B=s.relatedTarget||s.fromElement)&&(jn(B)||B[Yt]))break e;if((F||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,F?(B=s.relatedTarget||s.toElement,F=T,B=B?jn(B):null,B!==null&&(Ae=zn(B),B!==Ae||B.tag!==5&&B.tag!==6)&&(B=null)):(F=null,B=T),F!==B)){if(W=Xc,D="onMouseLeave",C="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(W=Zc,D="onPointerLeave",C="onPointerEnter",w="pointer"),Ae=F==null?N:vr(F),k=B==null?N:vr(B),N=new W(D,w+"leave",F,s,x),N.target=Ae,N.relatedTarget=k,D=null,jn(x)===T&&(W=new W(C,w+"enter",B,s,x),W.target=k,W.relatedTarget=Ae,D=W),Ae=D,F&&B)t:{for(W=F,C=B,w=0,k=W;k;k=_r(k))w++;for(k=0,D=C;D;D=_r(D))k++;for(;0<w-k;)W=_r(W),w--;for(;0<k-w;)C=_r(C),k--;for(;w--;){if(W===C||C!==null&&W===C.alternate)break t;W=_r(W),C=_r(C)}W=null}else W=null;F!==null&&Nf(P,N,F,W,!1),B!==null&&Ae!==null&&Nf(P,Ae,B,W,!0)}}e:{if(N=T?vr(T):window,F=N.nodeName&&N.nodeName.toLowerCase(),F==="select"||F==="input"&&N.type==="file")var H=m_;else if(of(N))if(uf)H=v_;else{H=__;var K=g_}else(F=N.nodeName)&&F.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(H=y_);if(H&&(H=H(e,T))){lf(P,H,s,x);break e}K&&K(e,N,T),e==="focusout"&&(K=N._wrapperState)&&K.controlled&&N.type==="number"&&Yo(N,"number",N.value)}switch(K=T?vr(T):window,e){case"focusin":(of(K)||K.contentEditable==="true")&&(mr=K,Tl=T,di=null);break;case"focusout":di=Tl=mr=null;break;case"mousedown":Il=!0;break;case"contextmenu":case"mouseup":case"dragend":Il=!1,gf(P,s,x);break;case"selectionchange":if(E_)break;case"keydown":case"keyup":gf(P,s,x)}var G;if(Sl)e:{switch(e){case"compositionstart":var Y="onCompositionStart";break e;case"compositionend":Y="onCompositionEnd";break e;case"compositionupdate":Y="onCompositionUpdate";break e}Y=void 0}else pr?rf(e,s)&&(Y="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Y="onCompositionStart");Y&&(ef&&s.locale!=="ko"&&(pr||Y!=="onCompositionStart"?Y==="onCompositionEnd"&&pr&&(G=qc()):(_n=x,ml="value"in _n?_n.value:_n.textContent,pr=!0)),K=Cs(T,Y),0<K.length&&(Y=new Jc(Y,e,null,s,x),P.push({event:Y,listeners:K}),G?Y.data=G:(G=sf(s),G!==null&&(Y.data=G)))),(G=c_?f_(e,s):d_(e,s))&&(T=Cs(T,"onBeforeInput"),0<T.length&&(x=new Jc("onBeforeInput","beforeinput",null,s,x),P.push({event:x,listeners:T}),x.data=G))}Tf(P,n)})}function mi(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Cs(e,n){for(var s=n+"Capture",l=[];e!==null;){var a=e,f=a.stateNode;a.tag===5&&f!==null&&(a=f,f=Yr(e,s),f!=null&&l.unshift(mi(e,f,a)),f=Yr(e,n),f!=null&&l.push(mi(e,f,a))),e=e.return}return l}function _r(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nf(e,n,s,l,a){for(var f=n._reactName,h=[];s!==null&&s!==l;){var _=s,y=_.alternate,T=_.stateNode;if(y!==null&&y===l)break;_.tag===5&&T!==null&&(_=T,a?(y=Yr(s,f),y!=null&&h.unshift(mi(s,y,_))):a||(y=Yr(s,f),y!=null&&h.push(mi(s,y,_)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var I_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Rf(e){return(typeof e=="string"?e:""+e).replace(I_,`
`).replace(N_,"")}function ks(e,n,s){if(n=Rf(n),Rf(e)!==n&&s)throw Error(r(425))}function Ts(){}var Ol=null,Al=null;function Ml(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ll=typeof setTimeout=="function"?setTimeout:void 0,R_=typeof clearTimeout=="function"?clearTimeout:void 0,xf=typeof Promise=="function"?Promise:void 0,x_=typeof queueMicrotask=="function"?queueMicrotask:typeof xf<"u"?function(e){return xf.resolve(null).then(e).catch(P_)}:Ll;function P_(e){setTimeout(function(){throw e})}function Fl(e,n){var s=n,l=0;do{var a=s.nextSibling;if(e.removeChild(s),a&&a.nodeType===8)if(s=a.data,s==="/$"){if(l===0){e.removeChild(a),si(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=a}while(s);si(n)}function vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Pf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var yr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+yr,gi="__reactProps$"+yr,Yt="__reactContainer$"+yr,zl="__reactEvents$"+yr,D_="__reactListeners$"+yr,O_="__reactHandles$"+yr;function jn(e){var n=e[Ht];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Yt]||s[Ht]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Pf(e);e!==null;){if(s=e[Ht])return s;e=Pf(e)}return n}e=s,s=e.parentNode}return null}function _i(e){return e=e[Ht]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Is(e){return e[gi]||null}var jl=[],wr=-1;function wn(e){return{current:e}}function Se(e){0>wr||(e.current=jl[wr],jl[wr]=null,wr--)}function ye(e,n){wr++,jl[wr]=e.current,e.current=n}var Sn={},Qe=wn(Sn),rt=wn(!1),bn=Sn;function Sr(e,n){var s=e.type.contextTypes;if(!s)return Sn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var a={},f;for(f in s)a[f]=n[f];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=a),a}function it(e){return e=e.childContextTypes,e!=null}function Ns(){Se(rt),Se(Qe)}function Df(e,n,s){if(Qe.current!==Sn)throw Error(r(168));ye(Qe,n),ye(rt,s)}function Of(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var a in l)if(!(a in n))throw Error(r(108,_e(e)||"Unknown",a));return b({},s,l)}function Rs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,bn=Qe.current,ye(Qe,e),ye(rt,rt.current),!0}function Af(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Of(e,n,bn),l.__reactInternalMemoizedMergedChildContext=e,Se(rt),Se(Qe),ye(Qe,e)):Se(rt),ye(rt,s)}var Xt=null,xs=!1,bl=!1;function Mf(e){Xt===null?Xt=[e]:Xt.push(e)}function A_(e){xs=!0,Mf(e)}function En(){if(!bl&&Xt!==null){bl=!0;var e=0,n=he;try{var s=Xt;for(he=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Xt=null,xs=!1}catch(a){throw Xt!==null&&(Xt=Xt.slice(e+1)),Lc(ll,En),a}finally{he=n,bl=!1}}return null}var Er=[],Cr=0,Ps=null,Ds=0,vt=[],wt=0,Un=null,Jt=1,Zt="";function Bn(e,n){Er[Cr++]=Ds,Er[Cr++]=Ps,Ps=e,Ds=n}function Lf(e,n,s){vt[wt++]=Jt,vt[wt++]=Zt,vt[wt++]=Un,Un=e;var l=Jt;e=Zt;var a=32-Pt(l)-1;l&=~(1<<a),s+=1;var f=32-Pt(n)+a;if(30<f){var h=a-a%5;f=(l&(1<<h)-1).toString(32),l>>=h,a-=h,Jt=1<<32-Pt(n)+a|s<<a|l,Zt=f+e}else Jt=1<<f|s<<a|l,Zt=e}function Ul(e){e.return!==null&&(Bn(e,1),Lf(e,1,0))}function Bl(e){for(;e===Ps;)Ps=Er[--Cr],Er[Cr]=null,Ds=Er[--Cr],Er[Cr]=null;for(;e===Un;)Un=vt[--wt],vt[wt]=null,Zt=vt[--wt],vt[wt]=null,Jt=vt[--wt],vt[wt]=null}var pt=null,mt=null,Ie=!1,Ot=null;function Ff(e,n){var s=kt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function zf(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,pt=e,mt=vn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,pt=e,mt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Un!==null?{id:Jt,overflow:Zt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=kt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,pt=e,mt=null,!0):!1;default:return!1}}function Wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Hl(e){if(Ie){var n=mt;if(n){var s=n;if(!zf(e,n)){if(Wl(e))throw Error(r(418));n=vn(s.nextSibling);var l=pt;n&&zf(e,n)?Ff(l,s):(e.flags=e.flags&-4097|2,Ie=!1,pt=e)}}else{if(Wl(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ie=!1,pt=e}}}function jf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Os(e){if(e!==pt)return!1;if(!Ie)return jf(e),Ie=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ml(e.type,e.memoizedProps)),n&&(n=mt)){if(Wl(e))throw bf(),Error(r(418));for(;n;)Ff(e,n),n=vn(n.nextSibling)}if(jf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){mt=vn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}mt=null}}else mt=pt?vn(e.stateNode.nextSibling):null;return!0}function bf(){for(var e=mt;e;)e=vn(e.nextSibling)}function kr(){mt=pt=null,Ie=!1}function $l(e){Ot===null?Ot=[e]:Ot.push(e)}var M_=$.ReactCurrentBatchConfig;function yi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var a=l,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(h){var _=a.refs;h===null?delete _[f]:_[f]=h},n._stringRef=f,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function As(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Uf(e){var n=e._init;return n(e._payload)}function Bf(e){function n(C,w){if(e){var k=C.deletions;k===null?(C.deletions=[w],C.flags|=16):k.push(w)}}function s(C,w){if(!e)return null;for(;w!==null;)n(C,w),w=w.sibling;return null}function l(C,w){for(C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function a(C,w){return C=Pn(C,w),C.index=0,C.sibling=null,C}function f(C,w,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<w?(C.flags|=2,w):k):(C.flags|=2,w)):(C.flags|=1048576,w)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function _(C,w,k,D){return w===null||w.tag!==6?(w=Lu(k,C.mode,D),w.return=C,w):(w=a(w,k),w.return=C,w)}function y(C,w,k,D){var H=k.type;return H===me?x(C,w,k.props.children,D,k.key):w!==null&&(w.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===nt&&Uf(H)===w.type)?(D=a(w,k.props),D.ref=yi(C,w,k),D.return=C,D):(D=ro(k.type,k.key,k.props,null,C.mode,D),D.ref=yi(C,w,k),D.return=C,D)}function T(C,w,k,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==k.containerInfo||w.stateNode.implementation!==k.implementation?(w=Fu(k,C.mode,D),w.return=C,w):(w=a(w,k.children||[]),w.return=C,w)}function x(C,w,k,D,H){return w===null||w.tag!==7?(w=qn(k,C.mode,D,H),w.return=C,w):(w=a(w,k),w.return=C,w)}function P(C,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Lu(""+w,C.mode,k),w.return=C,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case X:return k=ro(w.type,w.key,w.props,null,C.mode,k),k.ref=yi(C,null,w),k.return=C,k;case ce:return w=Fu(w,C.mode,k),w.return=C,w;case nt:var D=w._init;return P(C,D(w._payload),k)}if(Gr(w)||q(w))return w=qn(w,C.mode,k,null),w.return=C,w;As(C,w)}return null}function N(C,w,k,D){var H=w!==null?w.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return H!==null?null:_(C,w,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case X:return k.key===H?y(C,w,k,D):null;case ce:return k.key===H?T(C,w,k,D):null;case nt:return H=k._init,N(C,w,H(k._payload),D)}if(Gr(k)||q(k))return H!==null?null:x(C,w,k,D,null);As(C,k)}return null}function F(C,w,k,D,H){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(k)||null,_(w,C,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case X:return C=C.get(D.key===null?k:D.key)||null,y(w,C,D,H);case ce:return C=C.get(D.key===null?k:D.key)||null,T(w,C,D,H);case nt:var K=D._init;return F(C,w,k,K(D._payload),H)}if(Gr(D)||q(D))return C=C.get(k)||null,x(w,C,D,H,null);As(w,D)}return null}function B(C,w,k,D){for(var H=null,K=null,G=w,Y=w=0,Ue=null;G!==null&&Y<k.length;Y++){G.index>Y?(Ue=G,G=null):Ue=G.sibling;var ae=N(C,G,k[Y],D);if(ae===null){G===null&&(G=Ue);break}e&&G&&ae.alternate===null&&n(C,G),w=f(ae,w,Y),K===null?H=ae:K.sibling=ae,K=ae,G=Ue}if(Y===k.length)return s(C,G),Ie&&Bn(C,Y),H;if(G===null){for(;Y<k.length;Y++)G=P(C,k[Y],D),G!==null&&(w=f(G,w,Y),K===null?H=G:K.sibling=G,K=G);return Ie&&Bn(C,Y),H}for(G=l(C,G);Y<k.length;Y++)Ue=F(G,C,Y,k[Y],D),Ue!==null&&(e&&Ue.alternate!==null&&G.delete(Ue.key===null?Y:Ue.key),w=f(Ue,w,Y),K===null?H=Ue:K.sibling=Ue,K=Ue);return e&&G.forEach(function(Dn){return n(C,Dn)}),Ie&&Bn(C,Y),H}function W(C,w,k,D){var H=q(k);if(typeof H!="function")throw Error(r(150));if(k=H.call(k),k==null)throw Error(r(151));for(var K=H=null,G=w,Y=w=0,Ue=null,ae=k.next();G!==null&&!ae.done;Y++,ae=k.next()){G.index>Y?(Ue=G,G=null):Ue=G.sibling;var Dn=N(C,G,ae.value,D);if(Dn===null){G===null&&(G=Ue);break}e&&G&&Dn.alternate===null&&n(C,G),w=f(Dn,w,Y),K===null?H=Dn:K.sibling=Dn,K=Dn,G=Ue}if(ae.done)return s(C,G),Ie&&Bn(C,Y),H;if(G===null){for(;!ae.done;Y++,ae=k.next())ae=P(C,ae.value,D),ae!==null&&(w=f(ae,w,Y),K===null?H=ae:K.sibling=ae,K=ae);return Ie&&Bn(C,Y),H}for(G=l(C,G);!ae.done;Y++,ae=k.next())ae=F(G,C,Y,ae.value,D),ae!==null&&(e&&ae.alternate!==null&&G.delete(ae.key===null?Y:ae.key),w=f(ae,w,Y),K===null?H=ae:K.sibling=ae,K=ae);return e&&G.forEach(function(dy){return n(C,dy)}),Ie&&Bn(C,Y),H}function Ae(C,w,k,D){if(typeof k=="object"&&k!==null&&k.type===me&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case X:e:{for(var H=k.key,K=w;K!==null;){if(K.key===H){if(H=k.type,H===me){if(K.tag===7){s(C,K.sibling),w=a(K,k.props.children),w.return=C,C=w;break e}}else if(K.elementType===H||typeof H=="object"&&H!==null&&H.$$typeof===nt&&Uf(H)===K.type){s(C,K.sibling),w=a(K,k.props),w.ref=yi(C,K,k),w.return=C,C=w;break e}s(C,K);break}else n(C,K);K=K.sibling}k.type===me?(w=qn(k.props.children,C.mode,D,k.key),w.return=C,C=w):(D=ro(k.type,k.key,k.props,null,C.mode,D),D.ref=yi(C,w,k),D.return=C,C=D)}return h(C);case ce:e:{for(K=k.key;w!==null;){if(w.key===K)if(w.tag===4&&w.stateNode.containerInfo===k.containerInfo&&w.stateNode.implementation===k.implementation){s(C,w.sibling),w=a(w,k.children||[]),w.return=C,C=w;break e}else{s(C,w);break}else n(C,w);w=w.sibling}w=Fu(k,C.mode,D),w.return=C,C=w}return h(C);case nt:return K=k._init,Ae(C,w,K(k._payload),D)}if(Gr(k))return B(C,w,k,D);if(q(k))return W(C,w,k,D);As(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,w!==null&&w.tag===6?(s(C,w.sibling),w=a(w,k),w.return=C,C=w):(s(C,w),w=Lu(k,C.mode,D),w.return=C,C=w),h(C)):s(C,w)}return Ae}var Tr=Bf(!0),Wf=Bf(!1),Ms=wn(null),Ls=null,Ir=null,Vl=null;function Kl(){Vl=Ir=Ls=null}function Gl(e){var n=Ms.current;Se(Ms),e._currentValue=n}function Ql(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Nr(e,n){Ls=e,Vl=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(st=!0),e.firstContext=null)}function St(e){var n=e._currentValue;if(Vl!==e)if(e={context:e,memoizedValue:n,next:null},Ir===null){if(Ls===null)throw Error(r(308));Ir=e,Ls.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return n}var Wn=null;function ql(e){Wn===null?Wn=[e]:Wn.push(e)}function Hf(e,n,s,l){var a=n.interleaved;return a===null?(s.next=s,ql(n)):(s.next=a.next,a.next=s),n.interleaved=s,en(e,l)}function en(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Cn=!1;function Yl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function kn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,oe&2){var a=l.pending;return a===null?n.next=n:(n.next=a.next,a.next=n),l.pending=n,en(e,s)}return a=l.interleaved,a===null?(n.next=n,ql(l)):(n.next=a.next,a.next=n),l.interleaved=n,en(e,s)}function Fs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,cl(e,s)}}function Vf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var a=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?a=f=h:f=f.next=h,s=s.next}while(s!==null);f===null?a=f=n:f=f.next=n}else a=f=n;s={baseState:l.baseState,firstBaseUpdate:a,lastBaseUpdate:f,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function zs(e,n,s,l){var a=e.updateQueue;Cn=!1;var f=a.firstBaseUpdate,h=a.lastBaseUpdate,_=a.shared.pending;if(_!==null){a.shared.pending=null;var y=_,T=y.next;y.next=null,h===null?f=T:h.next=T,h=y;var x=e.alternate;x!==null&&(x=x.updateQueue,_=x.lastBaseUpdate,_!==h&&(_===null?x.firstBaseUpdate=T:_.next=T,x.lastBaseUpdate=y))}if(f!==null){var P=a.baseState;h=0,x=T=y=null,_=f;do{var N=_.lane,F=_.eventTime;if((l&N)===N){x!==null&&(x=x.next={eventTime:F,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var B=e,W=_;switch(N=n,F=s,W.tag){case 1:if(B=W.payload,typeof B=="function"){P=B.call(F,P,N);break e}P=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=W.payload,N=typeof B=="function"?B.call(F,P,N):B,N==null)break e;P=b({},P,N);break e;case 2:Cn=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,N=a.effects,N===null?a.effects=[_]:N.push(_))}else F={eventTime:F,lane:N,tag:_.tag,payload:_.payload,callback:_.callback,next:null},x===null?(T=x=F,y=P):x=x.next=F,h|=N;if(_=_.next,_===null){if(_=a.shared.pending,_===null)break;N=_,_=N.next,N.next=null,a.lastBaseUpdate=N,a.shared.pending=null}}while(!0);if(x===null&&(y=P),a.baseState=y,a.firstBaseUpdate=T,a.lastBaseUpdate=x,n=a.shared.interleaved,n!==null){a=n;do h|=a.lane,a=a.next;while(a!==n)}else f===null&&(a.shared.lanes=0);Vn|=h,e.lanes=h,e.memoizedState=P}}function Kf(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],a=l.callback;if(a!==null){if(l.callback=null,l=s,typeof a!="function")throw Error(r(191,a));a.call(l)}}}var vi={},$t=wn(vi),wi=wn(vi),Si=wn(vi);function Hn(e){if(e===vi)throw Error(r(174));return e}function Xl(e,n){switch(ye(Si,n),ye(wi,e),ye($t,vi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Jo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Jo(n,e)}Se($t),ye($t,n)}function Rr(){Se($t),Se(wi),Se(Si)}function Gf(e){Hn(Si.current);var n=Hn($t.current),s=Jo(n,e.type);n!==s&&(ye(wi,e),ye($t,s))}function Jl(e){wi.current===e&&(Se($t),Se(wi))}var Re=wn(0);function js(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zl=[];function eu(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var bs=$.ReactCurrentDispatcher,tu=$.ReactCurrentBatchConfig,$n=0,xe=null,Le=null,je=null,Us=!1,Ei=!1,Ci=0,L_=0;function qe(){throw Error(r(321))}function nu(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Dt(e[s],n[s]))return!1;return!0}function ru(e,n,s,l,a,f){if($n=f,xe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,bs.current=e===null||e.memoizedState===null?b_:U_,e=s(l,a),Ei){f=0;do{if(Ei=!1,Ci=0,25<=f)throw Error(r(301));f+=1,je=Le=null,n.updateQueue=null,bs.current=B_,e=s(l,a)}while(Ei)}if(bs.current=Hs,n=Le!==null&&Le.next!==null,$n=0,je=Le=xe=null,Us=!1,n)throw Error(r(300));return e}function iu(){var e=Ci!==0;return Ci=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?xe.memoizedState=je=e:je=je.next=e,je}function Et(){if(Le===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var n=je===null?xe.memoizedState:je.next;if(n!==null)je=n,Le=e;else{if(e===null)throw Error(r(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},je===null?xe.memoizedState=je=e:je=je.next=e}return je}function ki(e,n){return typeof n=="function"?n(e):n}function su(e){var n=Et(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Le,a=l.baseQueue,f=s.pending;if(f!==null){if(a!==null){var h=a.next;a.next=f.next,f.next=h}l.baseQueue=a=f,s.pending=null}if(a!==null){f=a.next,l=l.baseState;var _=h=null,y=null,T=f;do{var x=T.lane;if(($n&x)===x)y!==null&&(y=y.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),l=T.hasEagerState?T.eagerState:e(l,T.action);else{var P={lane:x,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};y===null?(_=y=P,h=l):y=y.next=P,xe.lanes|=x,Vn|=x}T=T.next}while(T!==null&&T!==f);y===null?h=l:y.next=_,Dt(l,n.memoizedState)||(st=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){a=e;do f=a.lane,xe.lanes|=f,Vn|=f,a=a.next;while(a!==e)}else a===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ou(e){var n=Et(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,a=s.pending,f=n.memoizedState;if(a!==null){s.pending=null;var h=a=a.next;do f=e(f,h.action),h=h.next;while(h!==a);Dt(f,n.memoizedState)||(st=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Qf(){}function qf(e,n){var s=xe,l=Et(),a=n(),f=!Dt(l.memoizedState,a);if(f&&(l.memoizedState=a,st=!0),l=l.queue,lu(Jf.bind(null,s,l,e),[e]),l.getSnapshot!==n||f||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,Ti(9,Xf.bind(null,s,l,a,n),void 0,null),be===null)throw Error(r(349));$n&30||Yf(s,n,a)}return a}function Yf(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=xe.updateQueue,n===null?(n={lastEffect:null,stores:null},xe.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Xf(e,n,s,l){n.value=s,n.getSnapshot=l,Zf(n)&&ed(e)}function Jf(e,n,s){return s(function(){Zf(n)&&ed(e)})}function Zf(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Dt(e,s)}catch{return!0}}function ed(e){var n=en(e,1);n!==null&&Ft(n,e,1,-1)}function td(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:e},n.queue=e,e=e.dispatch=j_.bind(null,xe,e),[n.memoizedState,e]}function Ti(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=xe.updateQueue,n===null?(n={lastEffect:null,stores:null},xe.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function nd(){return Et().memoizedState}function Bs(e,n,s,l){var a=Vt();xe.flags|=e,a.memoizedState=Ti(1|n,s,void 0,l===void 0?null:l)}function Ws(e,n,s,l){var a=Et();l=l===void 0?null:l;var f=void 0;if(Le!==null){var h=Le.memoizedState;if(f=h.destroy,l!==null&&nu(l,h.deps)){a.memoizedState=Ti(n,s,f,l);return}}xe.flags|=e,a.memoizedState=Ti(1|n,s,f,l)}function rd(e,n){return Bs(8390656,8,e,n)}function lu(e,n){return Ws(2048,8,e,n)}function id(e,n){return Ws(4,2,e,n)}function sd(e,n){return Ws(4,4,e,n)}function od(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ld(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4,4,od.bind(null,n,e),s)}function uu(){}function ud(e,n){var s=Et();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&nu(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function ad(e,n){var s=Et();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&nu(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function cd(e,n,s){return $n&21?(Dt(s,n)||(s=bc(),xe.lanes|=s,Vn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=s)}function F_(e,n){var s=he;he=s!==0&&4>s?s:4,e(!0);var l=tu.transition;tu.transition={};try{e(!1),n()}finally{he=s,tu.transition=l}}function fd(){return Et().memoizedState}function z_(e,n,s){var l=Rn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},dd(e))hd(n,s);else if(s=Hf(e,n,s,l),s!==null){var a=tt();Ft(s,e,l,a),pd(s,n,l)}}function j_(e,n,s){var l=Rn(e),a={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(dd(e))hd(n,a);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var h=n.lastRenderedState,_=f(h,s);if(a.hasEagerState=!0,a.eagerState=_,Dt(_,h)){var y=n.interleaved;y===null?(a.next=a,ql(n)):(a.next=y.next,y.next=a),n.interleaved=a;return}}catch{}finally{}s=Hf(e,n,a,l),s!==null&&(a=tt(),Ft(s,e,l,a),pd(s,n,l))}}function dd(e){var n=e.alternate;return e===xe||n!==null&&n===xe}function hd(e,n){Ei=Us=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function pd(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,cl(e,s)}}var Hs={readContext:St,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},b_={readContext:St,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:St,useEffect:rd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Bs(4194308,4,od.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bs(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Vt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=z_.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:td,useDebugValue:uu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=td(!1),n=e[0];return e=F_.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=xe,a=Vt();if(Ie){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),be===null)throw Error(r(349));$n&30||Yf(l,n,s)}a.memoizedState=s;var f={value:s,getSnapshot:n};return a.queue=f,rd(Jf.bind(null,l,f,e),[e]),l.flags|=2048,Ti(9,Xf.bind(null,l,f,s,n),void 0,null),s},useId:function(){var e=Vt(),n=be.identifierPrefix;if(Ie){var s=Zt,l=Jt;s=(l&~(1<<32-Pt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=Ci++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=L_++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},U_={readContext:St,useCallback:ud,useContext:St,useEffect:lu,useImperativeHandle:ld,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ad,useReducer:su,useRef:nd,useState:function(){return su(ki)},useDebugValue:uu,useDeferredValue:function(e){var n=Et();return cd(n,Le.memoizedState,e)},useTransition:function(){var e=su(ki)[0],n=Et().memoizedState;return[e,n]},useMutableSource:Qf,useSyncExternalStore:qf,useId:fd,unstable_isNewReconciler:!1},B_={readContext:St,useCallback:ud,useContext:St,useEffect:lu,useImperativeHandle:ld,useInsertionEffect:id,useLayoutEffect:sd,useMemo:ad,useReducer:ou,useRef:nd,useState:function(){return ou(ki)},useDebugValue:uu,useDeferredValue:function(e){var n=Et();return Le===null?n.memoizedState=e:cd(n,Le.memoizedState,e)},useTransition:function(){var e=ou(ki)[0],n=Et().memoizedState;return[e,n]},useMutableSource:Qf,useSyncExternalStore:qf,useId:fd,unstable_isNewReconciler:!1};function At(e,n){if(e&&e.defaultProps){n=b({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function au(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var $s={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=tt(),a=Rn(e),f=tn(l,a);f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),Fs(n,e,a))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=tt(),a=Rn(e),f=tn(l,a);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=kn(e,f,a),n!==null&&(Ft(n,e,a,l),Fs(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=tt(),l=Rn(e),a=tn(s,l);a.tag=2,n!=null&&(a.callback=n),n=kn(e,a,l),n!==null&&(Ft(n,e,l,s),Fs(n,e,l))}};function md(e,n,s,l,a,f,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,h):n.prototype&&n.prototype.isPureReactComponent?!fi(s,l)||!fi(a,f):!0}function gd(e,n,s){var l=!1,a=Sn,f=n.contextType;return typeof f=="object"&&f!==null?f=St(f):(a=it(n)?bn:Qe.current,l=n.contextTypes,f=(l=l!=null)?Sr(e,a):Sn),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=$s,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=f),n}function _d(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&$s.enqueueReplaceState(n,n.state,null)}function cu(e,n,s,l){var a=e.stateNode;a.props=s,a.state=e.memoizedState,a.refs={},Yl(e);var f=n.contextType;typeof f=="object"&&f!==null?a.context=St(f):(f=it(n)?bn:Qe.current,a.context=Sr(e,f)),a.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(au(e,n,f,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(n=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),n!==a.state&&$s.enqueueReplaceState(a,a.state,null),zs(e,s,a,l),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function xr(e,n){try{var s="",l=n;do s+=le(l),l=l.return;while(l);var a=s}catch(f){a=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:a,digest:null}}function fu(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function du(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var W_=typeof WeakMap=="function"?WeakMap:Map;function yd(e,n,s){s=tn(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Xs||(Xs=!0,Nu=l),du(e,n)},s}function vd(e,n,s){s=tn(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var a=n.value;s.payload=function(){return l(a)},s.callback=function(){du(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){du(e,n),typeof l!="function"&&(In===null?In=new Set([this]):In.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function wd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new W_;var a=new Set;l.set(n,a)}else a=l.get(n),a===void 0&&(a=new Set,l.set(n,a));a.has(s)||(a.add(s),e=ny.bind(null,e,n,s),n.then(e,e))}function Sd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Ed(e,n,s,l,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=tn(-1,1),n.tag=2,kn(s,n,1))),s.lanes|=1),e)}var H_=$.ReactCurrentOwner,st=!1;function et(e,n,s,l){n.child=e===null?Wf(n,null,s,l):Tr(n,e.child,s,l)}function Cd(e,n,s,l,a){s=s.render;var f=n.ref;return Nr(n,a),l=ru(e,n,s,l,f,a),s=iu(),e!==null&&!st?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Ie&&s&&Ul(n),n.flags|=1,et(e,n,l,a),n.child)}function kd(e,n,s,l,a){if(e===null){var f=s.type;return typeof f=="function"&&!Mu(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Td(e,n,f,l,a)):(e=ro(s.type,null,l,n,n.mode,a),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!(e.lanes&a)){var h=f.memoizedProps;if(s=s.compare,s=s!==null?s:fi,s(h,l)&&e.ref===n.ref)return nn(e,n,a)}return n.flags|=1,e=Pn(f,l),e.ref=n.ref,e.return=n,n.child=e}function Td(e,n,s,l,a){if(e!==null){var f=e.memoizedProps;if(fi(f,l)&&e.ref===n.ref)if(st=!1,n.pendingProps=l=f,(e.lanes&a)!==0)e.flags&131072&&(st=!0);else return n.lanes=e.lanes,nn(e,n,a)}return hu(e,n,s,l,a)}function Id(e,n,s){var l=n.pendingProps,a=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Dr,gt),gt|=s;else{if(!(s&1073741824))return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ye(Dr,gt),gt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=f!==null?f.baseLanes:s,ye(Dr,gt),gt|=l}else f!==null?(l=f.baseLanes|s,n.memoizedState=null):l=s,ye(Dr,gt),gt|=l;return et(e,n,a,s),n.child}function Nd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function hu(e,n,s,l,a){var f=it(s)?bn:Qe.current;return f=Sr(n,f),Nr(n,a),s=ru(e,n,s,l,f,a),l=iu(),e!==null&&!st?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a,nn(e,n,a)):(Ie&&l&&Ul(n),n.flags|=1,et(e,n,s,a),n.child)}function Rd(e,n,s,l,a){if(it(s)){var f=!0;Rs(n)}else f=!1;if(Nr(n,a),n.stateNode===null)Ks(e,n),gd(n,s,l),cu(n,s,l,a),l=!0;else if(e===null){var h=n.stateNode,_=n.memoizedProps;h.props=_;var y=h.context,T=s.contextType;typeof T=="object"&&T!==null?T=St(T):(T=it(s)?bn:Qe.current,T=Sr(n,T));var x=s.getDerivedStateFromProps,P=typeof x=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==l||y!==T)&&_d(n,h,l,T),Cn=!1;var N=n.memoizedState;h.state=N,zs(n,l,h,a),y=n.memoizedState,_!==l||N!==y||rt.current||Cn?(typeof x=="function"&&(au(n,s,x,l),y=n.memoizedState),(_=Cn||md(n,s,_,l,N,y,T))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=T,l=_):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,$f(e,n),_=n.memoizedProps,T=n.type===n.elementType?_:At(n.type,_),h.props=T,P=n.pendingProps,N=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=St(y):(y=it(s)?bn:Qe.current,y=Sr(n,y));var F=s.getDerivedStateFromProps;(x=typeof F=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==P||N!==y)&&_d(n,h,l,y),Cn=!1,N=n.memoizedState,h.state=N,zs(n,l,h,a);var B=n.memoizedState;_!==P||N!==B||rt.current||Cn?(typeof F=="function"&&(au(n,s,F,l),B=n.memoizedState),(T=Cn||md(n,s,T,l,N,B,y)||!1)?(x||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=T):(typeof h.componentDidUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&N===e.memoizedState||(n.flags|=1024),l=!1)}return pu(e,n,s,l,f,a)}function pu(e,n,s,l,a,f){Nd(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return a&&Af(n,s,!1),nn(e,n,f);l=n.stateNode,H_.current=n;var _=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=Tr(n,e.child,null,f),n.child=Tr(n,null,_,f)):et(e,n,_,f),n.memoizedState=l.state,a&&Af(n,s,!0),n.child}function xd(e){var n=e.stateNode;n.pendingContext?Df(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Df(e,n.context,!1),Xl(e,n.containerInfo)}function Pd(e,n,s,l,a){return kr(),$l(a),n.flags|=256,et(e,n,s,l),n.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dd(e,n,s){var l=n.pendingProps,a=Re.current,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=e!==null&&e.memoizedState===null?!1:(a&2)!==0),_?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ye(Re,a&1),e===null)return Hl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,f?(l=n.mode,f=n.child,h={mode:"hidden",children:h},!(l&1)&&f!==null?(f.childLanes=0,f.pendingProps=h):f=io(h,l,0,null),e=qn(e,l,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=gu(s),n.memoizedState=mu,e):_u(n,h));if(a=e.memoizedState,a!==null&&(_=a.dehydrated,_!==null))return $_(e,n,h,l,_,a,s);if(f){f=l.fallback,h=n.mode,a=e.child,_=a.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==a?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=Pn(a,y),l.subtreeFlags=a.subtreeFlags&14680064),_!==null?f=Pn(_,f):(f=qn(f,h,s,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,h=e.child.memoizedState,h=h===null?gu(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},f.memoizedState=h,f.childLanes=e.childLanes&~s,n.memoizedState=mu,l}return f=e.child,e=f.sibling,l=Pn(f,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function _u(e,n){return n=io({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function Vs(e,n,s,l){return l!==null&&$l(l),Tr(n,e.child,null,s),e=_u(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function $_(e,n,s,l,a,f,h){if(s)return n.flags&256?(n.flags&=-257,l=fu(Error(r(422))),Vs(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=l.fallback,a=n.mode,l=io({mode:"visible",children:l.children},a,0,null),f=qn(f,a,h,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,n.mode&1&&Tr(n,e.child,null,h),n.child.memoizedState=gu(h),n.memoizedState=mu,f);if(!(n.mode&1))return Vs(e,n,h,null);if(a.data==="$!"){if(l=a.nextSibling&&a.nextSibling.dataset,l)var _=l.dgst;return l=_,f=Error(r(419)),l=fu(f,l,void 0),Vs(e,n,h,l)}if(_=(h&e.childLanes)!==0,st||_){if(l=be,l!==null){switch(h&-h){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(l.suspendedLanes|h)?0:a,a!==0&&a!==f.retryLane&&(f.retryLane=a,en(e,a),Ft(l,e,a,-1))}return Au(),l=fu(Error(r(421))),Vs(e,n,h,l)}return a.data==="$?"?(n.flags|=128,n.child=e.child,n=ry.bind(null,e),a._reactRetry=n,null):(e=f.treeContext,mt=vn(a.nextSibling),pt=n,Ie=!0,Ot=null,e!==null&&(vt[wt++]=Jt,vt[wt++]=Zt,vt[wt++]=Un,Jt=e.id,Zt=e.overflow,Un=n),n=_u(n,l.children),n.flags|=4096,n)}function Od(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Ql(e.return,n,s)}function yu(e,n,s,l,a){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:a}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=a)}function Ad(e,n,s){var l=n.pendingProps,a=l.revealOrder,f=l.tail;if(et(e,n,l.children,s),l=Re.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,s,n);else if(e.tag===19)Od(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(ye(Re,l),!(n.mode&1))n.memoizedState=null;else switch(a){case"forwards":for(s=n.child,a=null;s!==null;)e=s.alternate,e!==null&&js(e)===null&&(a=s),s=s.sibling;s=a,s===null?(a=n.child,n.child=null):(a=s.sibling,s.sibling=null),yu(n,!1,a,s,f);break;case"backwards":for(s=null,a=n.child,n.child=null;a!==null;){if(e=a.alternate,e!==null&&js(e)===null){n.child=a;break}e=a.sibling,a.sibling=s,s=a,a=e}yu(n,!0,s,null,f);break;case"together":yu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ks(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function nn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Vn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Pn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function V_(e,n,s){switch(n.tag){case 3:xd(n),kr();break;case 5:Gf(n);break;case 1:it(n.type)&&Rs(n);break;case 4:Xl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,a=n.memoizedProps.value;ye(Ms,l._currentValue),l._currentValue=a;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(ye(Re,Re.current&1),n.flags|=128,null):s&n.child.childLanes?Dd(e,n,s):(ye(Re,Re.current&1),e=nn(e,n,s),e!==null?e.sibling:null);ye(Re,Re.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Ad(e,n,s);n.flags|=128}if(a=n.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ye(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Id(e,n,s)}return nn(e,n,s)}var Md,vu,Ld,Fd;Md=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},vu=function(){},Ld=function(e,n,s,l){var a=e.memoizedProps;if(a!==l){e=n.stateNode,Hn($t.current);var f=null;switch(s){case"input":a=Qo(e,a),l=Qo(e,l),f=[];break;case"select":a=b({},a,{value:void 0}),l=b({},l,{value:void 0}),f=[];break;case"textarea":a=Xo(e,a),l=Xo(e,l),f=[];break;default:typeof a.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Ts)}Zo(s,l);var h;s=null;for(T in a)if(!l.hasOwnProperty(T)&&a.hasOwnProperty(T)&&a[T]!=null)if(T==="style"){var _=a[T];for(h in _)_.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(u.hasOwnProperty(T)?f||(f=[]):(f=f||[]).push(T,null));for(T in l){var y=l[T];if(_=a!=null?a[T]:void 0,l.hasOwnProperty(T)&&y!==_&&(y!=null||_!=null))if(T==="style")if(_){for(h in _)!_.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&_[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(f||(f=[]),f.push(T,s)),s=y;else T==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,_=_?_.__html:void 0,y!=null&&_!==y&&(f=f||[]).push(T,y)):T==="children"?typeof y!="string"&&typeof y!="number"||(f=f||[]).push(T,""+y):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(u.hasOwnProperty(T)?(y!=null&&T==="onScroll"&&we("scroll",e),f||_===y||(f=[])):(f=f||[]).push(T,y))}s&&(f=f||[]).push("style",s);var T=f;(n.updateQueue=T)&&(n.flags|=4)}},Fd=function(e,n,s,l){s!==l&&(n.flags|=4)};function Ii(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ye(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags&14680064,l|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)s|=a.lanes|a.childLanes,l|=a.subtreeFlags,l|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function K_(e,n,s){var l=n.pendingProps;switch(Bl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(n),null;case 1:return it(n.type)&&Ns(),Ye(n),null;case 3:return l=n.stateNode,Rr(),Se(rt),Se(Qe),eu(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Os(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ot!==null&&(Pu(Ot),Ot=null))),vu(e,n),Ye(n),null;case 5:Jl(n);var a=Hn(Si.current);if(s=n.type,e!==null&&n.stateNode!=null)Ld(e,n,s,l,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Ye(n),null}if(e=Hn($t.current),Os(n)){l=n.stateNode,s=n.type;var f=n.memoizedProps;switch(l[Ht]=n,l[gi]=f,e=(n.mode&1)!==0,s){case"dialog":we("cancel",l),we("close",l);break;case"iframe":case"object":case"embed":we("load",l);break;case"video":case"audio":for(a=0;a<hi.length;a++)we(hi[a],l);break;case"source":we("error",l);break;case"img":case"image":case"link":we("error",l),we("load",l);break;case"details":we("toggle",l);break;case"input":mc(l,f),we("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!f.multiple},we("invalid",l);break;case"textarea":yc(l,f),we("invalid",l)}Zo(s,f),a=null;for(var h in f)if(f.hasOwnProperty(h)){var _=f[h];h==="children"?typeof _=="string"?l.textContent!==_&&(f.suppressHydrationWarning!==!0&&ks(l.textContent,_,e),a=["children",_]):typeof _=="number"&&l.textContent!==""+_&&(f.suppressHydrationWarning!==!0&&ks(l.textContent,_,e),a=["children",""+_]):u.hasOwnProperty(h)&&_!=null&&h==="onScroll"&&we("scroll",l)}switch(s){case"input":ts(l),_c(l,f,!0);break;case"textarea":ts(l),wc(l);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(l.onclick=Ts)}l=a,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Ht]=n,e[gi]=l,Md(e,n,!1,!1),n.stateNode=e;e:{switch(h=el(s,l),s){case"dialog":we("cancel",e),we("close",e),a=l;break;case"iframe":case"object":case"embed":we("load",e),a=l;break;case"video":case"audio":for(a=0;a<hi.length;a++)we(hi[a],e);a=l;break;case"source":we("error",e),a=l;break;case"img":case"image":case"link":we("error",e),we("load",e),a=l;break;case"details":we("toggle",e),a=l;break;case"input":mc(e,l),a=Qo(e,l),we("invalid",e);break;case"option":a=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},a=b({},l,{value:void 0}),we("invalid",e);break;case"textarea":yc(e,l),a=Xo(e,l),we("invalid",e);break;default:a=l}Zo(s,a),_=a;for(f in _)if(_.hasOwnProperty(f)){var y=_[f];f==="style"?kc(e,y):f==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&Ec(e,y)):f==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Qr(e,y):typeof y=="number"&&Qr(e,""+y):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(u.hasOwnProperty(f)?y!=null&&f==="onScroll"&&we("scroll",e):y!=null&&U(e,f,y,h))}switch(s){case"input":ts(e),_c(e,l,!1);break;case"textarea":ts(e),wc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+de(l.value));break;case"select":e.multiple=!!l.multiple,f=l.value,f!=null?ar(e,!!l.multiple,f,!1):l.defaultValue!=null&&ar(e,!!l.multiple,l.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Ts)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ye(n),null;case 6:if(e&&n.stateNode!=null)Fd(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=Hn(Si.current),Hn($t.current),Os(n)){if(l=n.stateNode,s=n.memoizedProps,l[Ht]=n,(f=l.nodeValue!==s)&&(e=pt,e!==null))switch(e.tag){case 3:ks(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(l.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Ht]=n,n.stateNode=l}return Ye(n),null;case 13:if(Se(Re),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ie&&mt!==null&&n.mode&1&&!(n.flags&128))bf(),kr(),n.flags|=98560,f=!1;else if(f=Os(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(r(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ht]=n}else kr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ye(n),f=!1}else Ot!==null&&(Pu(Ot),Ot=null),f=!0;if(!f)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Re.current&1?Fe===0&&(Fe=3):Au())),n.updateQueue!==null&&(n.flags|=4),Ye(n),null);case 4:return Rr(),vu(e,n),e===null&&pi(n.stateNode.containerInfo),Ye(n),null;case 10:return Gl(n.type._context),Ye(n),null;case 17:return it(n.type)&&Ns(),Ye(n),null;case 19:if(Se(Re),f=n.memoizedState,f===null)return Ye(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Ii(f,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=js(e),h!==null){for(n.flags|=128,Ii(f,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)f=s,e=l,f.flags&=14680066,h=f.alternate,h===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=h.childLanes,f.lanes=h.lanes,f.child=h.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=h.memoizedProps,f.memoizedState=h.memoizedState,f.updateQueue=h.updateQueue,f.type=h.type,e=h.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ye(Re,Re.current&1|2),n.child}e=e.sibling}f.tail!==null&&Oe()>Or&&(n.flags|=128,l=!0,Ii(f,!1),n.lanes=4194304)}else{if(!l)if(e=js(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Ii(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Ie)return Ye(n),null}else 2*Oe()-f.renderingStartTime>Or&&s!==1073741824&&(n.flags|=128,l=!0,Ii(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(s=f.last,s!==null?s.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Oe(),n.sibling=null,s=Re.current,ye(Re,l?s&1|2:s&1),n):(Ye(n),null);case 22:case 23:return Ou(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?gt&1073741824&&(Ye(n),n.subtreeFlags&6&&(n.flags|=8192)):Ye(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function G_(e,n){switch(Bl(n),n.tag){case 1:return it(n.type)&&Ns(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Rr(),Se(rt),Se(Qe),eu(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Jl(n),null;case 13:if(Se(Re),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Se(Re),null;case 4:return Rr(),null;case 10:return Gl(n.type._context),null;case 22:case 23:return Ou(),null;case 24:return null;default:return null}}var Gs=!1,Xe=!1,Q_=typeof WeakSet=="function"?WeakSet:Set,j=null;function Pr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){De(e,n,l)}else s.current=null}function wu(e,n,s){try{s()}catch(l){De(e,n,l)}}var zd=!1;function q_(e,n){if(Ol=hs,e=mf(),kl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var a=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var h=0,_=-1,y=-1,T=0,x=0,P=e,N=null;t:for(;;){for(var F;P!==s||a!==0&&P.nodeType!==3||(_=h+a),P!==f||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(F=P.firstChild)!==null;)N=P,P=F;for(;;){if(P===e)break t;if(N===s&&++T===a&&(_=h),N===f&&++x===l&&(y=h),(F=P.nextSibling)!==null)break;P=N,N=P.parentNode}P=F}s=_===-1||y===-1?null:{start:_,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Al={focusedElem:e,selectionRange:s},hs=!1,j=n;j!==null;)if(n=j,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,j=e;else for(;j!==null;){n=j;try{var B=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var W=B.memoizedProps,Ae=B.memoizedState,C=n.stateNode,w=C.getSnapshotBeforeUpdate(n.elementType===n.type?W:At(n.type,W),Ae);C.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){De(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,j=e;break}j=n.return}return B=zd,zd=!1,B}function Ni(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var a=l=l.next;do{if((a.tag&e)===e){var f=a.destroy;a.destroy=void 0,f!==void 0&&wu(n,s,f)}a=a.next}while(a!==l)}}function Qs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function Su(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function jd(e){var n=e.alternate;n!==null&&(e.alternate=null,jd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Ht],delete n[gi],delete n[zl],delete n[D_],delete n[O_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function bd(e){return e.tag===5||e.tag===3||e.tag===4}function Ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Eu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Ts));else if(l!==4&&(e=e.child,e!==null))for(Eu(e,n,s),e=e.sibling;e!==null;)Eu(e,n,s),e=e.sibling}function Cu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Cu(e,n,s),e=e.sibling;e!==null;)Cu(e,n,s),e=e.sibling}var He=null,Mt=!1;function Tn(e,n,s){for(s=s.child;s!==null;)Bd(e,n,s),s=s.sibling}function Bd(e,n,s){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ls,s)}catch{}switch(s.tag){case 5:Xe||Pr(s,n);case 6:var l=He,a=Mt;He=null,Tn(e,n,s),He=l,Mt=a,He!==null&&(Mt?(e=He,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):He.removeChild(s.stateNode));break;case 18:He!==null&&(Mt?(e=He,s=s.stateNode,e.nodeType===8?Fl(e.parentNode,s):e.nodeType===1&&Fl(e,s),si(e)):Fl(He,s.stateNode));break;case 4:l=He,a=Mt,He=s.stateNode.containerInfo,Mt=!0,Tn(e,n,s),He=l,Mt=a;break;case 0:case 11:case 14:case 15:if(!Xe&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){a=l=l.next;do{var f=a,h=f.destroy;f=f.tag,h!==void 0&&(f&2||f&4)&&wu(s,n,h),a=a.next}while(a!==l)}Tn(e,n,s);break;case 1:if(!Xe&&(Pr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(_){De(s,n,_)}Tn(e,n,s);break;case 21:Tn(e,n,s);break;case 22:s.mode&1?(Xe=(l=Xe)||s.memoizedState!==null,Tn(e,n,s),Xe=l):Tn(e,n,s);break;default:Tn(e,n,s)}}function Wd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Q_),n.forEach(function(l){var a=iy.bind(null,e,l);s.has(l)||(s.add(l),l.then(a,a))})}}function Lt(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var a=s[l];try{var f=e,h=n,_=h;e:for(;_!==null;){switch(_.tag){case 5:He=_.stateNode,Mt=!1;break e;case 3:He=_.stateNode.containerInfo,Mt=!0;break e;case 4:He=_.stateNode.containerInfo,Mt=!0;break e}_=_.return}if(He===null)throw Error(r(160));Bd(f,h,a),He=null,Mt=!1;var y=a.alternate;y!==null&&(y.return=null),a.return=null}catch(T){De(a,n,T)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Hd(n,e),n=n.sibling}function Hd(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(n,e),Kt(e),l&4){try{Ni(3,e,e.return),Qs(3,e)}catch(W){De(e,e.return,W)}try{Ni(5,e,e.return)}catch(W){De(e,e.return,W)}}break;case 1:Lt(n,e),Kt(e),l&512&&s!==null&&Pr(s,s.return);break;case 5:if(Lt(n,e),Kt(e),l&512&&s!==null&&Pr(s,s.return),e.flags&32){var a=e.stateNode;try{Qr(a,"")}catch(W){De(e,e.return,W)}}if(l&4&&(a=e.stateNode,a!=null)){var f=e.memoizedProps,h=s!==null?s.memoizedProps:f,_=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{_==="input"&&f.type==="radio"&&f.name!=null&&gc(a,f),el(_,h);var T=el(_,f);for(h=0;h<y.length;h+=2){var x=y[h],P=y[h+1];x==="style"?kc(a,P):x==="dangerouslySetInnerHTML"?Ec(a,P):x==="children"?Qr(a,P):U(a,x,P,T)}switch(_){case"input":qo(a,f);break;case"textarea":vc(a,f);break;case"select":var N=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!f.multiple;var F=f.value;F!=null?ar(a,!!f.multiple,F,!1):N!==!!f.multiple&&(f.defaultValue!=null?ar(a,!!f.multiple,f.defaultValue,!0):ar(a,!!f.multiple,f.multiple?[]:"",!1))}a[gi]=f}catch(W){De(e,e.return,W)}}break;case 6:if(Lt(n,e),Kt(e),l&4){if(e.stateNode===null)throw Error(r(162));a=e.stateNode,f=e.memoizedProps;try{a.nodeValue=f}catch(W){De(e,e.return,W)}}break;case 3:if(Lt(n,e),Kt(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{si(n.containerInfo)}catch(W){De(e,e.return,W)}break;case 4:Lt(n,e),Kt(e);break;case 13:Lt(n,e),Kt(e),a=e.child,a.flags&8192&&(f=a.memoizedState!==null,a.stateNode.isHidden=f,!f||a.alternate!==null&&a.alternate.memoizedState!==null||(Iu=Oe())),l&4&&Wd(e);break;case 22:if(x=s!==null&&s.memoizedState!==null,e.mode&1?(Xe=(T=Xe)||x,Lt(n,e),Xe=T):Lt(n,e),Kt(e),l&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!x&&e.mode&1)for(j=e,x=e.child;x!==null;){for(P=j=x;j!==null;){switch(N=j,F=N.child,N.tag){case 0:case 11:case 14:case 15:Ni(4,N,N.return);break;case 1:Pr(N,N.return);var B=N.stateNode;if(typeof B.componentWillUnmount=="function"){l=N,s=N.return;try{n=l,B.props=n.memoizedProps,B.state=n.memoizedState,B.componentWillUnmount()}catch(W){De(l,s,W)}}break;case 5:Pr(N,N.return);break;case 22:if(N.memoizedState!==null){Kd(P);continue}}F!==null?(F.return=N,j=F):Kd(P)}x=x.sibling}e:for(x=null,P=e;;){if(P.tag===5){if(x===null){x=P;try{a=P.stateNode,T?(f=a.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(_=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,_.style.display=Cc("display",h))}catch(W){De(e,e.return,W)}}}else if(P.tag===6){if(x===null)try{P.stateNode.nodeValue=T?"":P.memoizedProps}catch(W){De(e,e.return,W)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;x===P&&(x=null),P=P.return}x===P&&(x=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Lt(n,e),Kt(e),l&4&&Wd(e);break;case 21:break;default:Lt(n,e),Kt(e)}}function Kt(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(bd(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var a=l.stateNode;l.flags&32&&(Qr(a,""),l.flags&=-33);var f=Ud(e);Cu(e,f,a);break;case 3:case 4:var h=l.stateNode.containerInfo,_=Ud(e);Eu(e,_,h);break;default:throw Error(r(161))}}catch(y){De(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Y_(e,n,s){j=e,$d(e)}function $d(e,n,s){for(var l=(e.mode&1)!==0;j!==null;){var a=j,f=a.child;if(a.tag===22&&l){var h=a.memoizedState!==null||Gs;if(!h){var _=a.alternate,y=_!==null&&_.memoizedState!==null||Xe;_=Gs;var T=Xe;if(Gs=h,(Xe=y)&&!T)for(j=a;j!==null;)h=j,y=h.child,h.tag===22&&h.memoizedState!==null?Gd(a):y!==null?(y.return=h,j=y):Gd(a);for(;f!==null;)j=f,$d(f),f=f.sibling;j=a,Gs=_,Xe=T}Vd(e)}else a.subtreeFlags&8772&&f!==null?(f.return=a,j=f):Vd(e)}}function Vd(e){for(;j!==null;){var n=j;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Xe||Qs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!Xe)if(s===null)l.componentDidMount();else{var a=n.elementType===n.type?s.memoizedProps:At(n.type,s.memoizedProps);l.componentDidUpdate(a,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Kf(n,f,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Kf(n,h,s)}break;case 5:var _=n.stateNode;if(s===null&&n.flags&4){s=_;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var T=n.alternate;if(T!==null){var x=T.memoizedState;if(x!==null){var P=x.dehydrated;P!==null&&si(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Xe||n.flags&512&&Su(n)}catch(N){De(n,n.return,N)}}if(n===e){j=null;break}if(s=n.sibling,s!==null){s.return=n.return,j=s;break}j=n.return}}function Kd(e){for(;j!==null;){var n=j;if(n===e){j=null;break}var s=n.sibling;if(s!==null){s.return=n.return,j=s;break}j=n.return}}function Gd(e){for(;j!==null;){var n=j;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Qs(4,n)}catch(y){De(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var a=n.return;try{l.componentDidMount()}catch(y){De(n,a,y)}}var f=n.return;try{Su(n)}catch(y){De(n,f,y)}break;case 5:var h=n.return;try{Su(n)}catch(y){De(n,h,y)}}}catch(y){De(n,n.return,y)}if(n===e){j=null;break}var _=n.sibling;if(_!==null){_.return=n.return,j=_;break}j=n.return}}var X_=Math.ceil,qs=$.ReactCurrentDispatcher,ku=$.ReactCurrentOwner,Ct=$.ReactCurrentBatchConfig,oe=0,be=null,Me=null,$e=0,gt=0,Dr=wn(0),Fe=0,Ri=null,Vn=0,Ys=0,Tu=0,xi=null,ot=null,Iu=0,Or=1/0,rn=null,Xs=!1,Nu=null,In=null,Js=!1,Nn=null,Zs=0,Pi=0,Ru=null,eo=-1,to=0;function tt(){return oe&6?Oe():eo!==-1?eo:eo=Oe()}function Rn(e){return e.mode&1?oe&2&&$e!==0?$e&-$e:M_.transition!==null?(to===0&&(to=bc()),to):(e=he,e!==0||(e=window.event,e=e===void 0?16:Qc(e.type)),e):1}function Ft(e,n,s,l){if(50<Pi)throw Pi=0,Ru=null,Error(r(185));ei(e,s,l),(!(oe&2)||e!==be)&&(e===be&&(!(oe&2)&&(Ys|=s),Fe===4&&xn(e,$e)),lt(e,l),s===1&&oe===0&&!(n.mode&1)&&(Or=Oe()+500,xs&&En()))}function lt(e,n){var s=e.callbackNode;Mg(e,n);var l=cs(e,e===be?$e:0);if(l===0)s!==null&&Fc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Fc(s),n===1)e.tag===0?A_(qd.bind(null,e)):Mf(qd.bind(null,e)),x_(function(){!(oe&6)&&En()}),s=null;else{switch(Uc(l)){case 1:s=ll;break;case 4:s=zc;break;case 16:s=os;break;case 536870912:s=jc;break;default:s=os}s=rh(s,Qd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Qd(e,n){if(eo=-1,to=0,oe&6)throw Error(r(327));var s=e.callbackNode;if(Ar()&&e.callbackNode!==s)return null;var l=cs(e,e===be?$e:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=no(e,l);else{n=l;var a=oe;oe|=2;var f=Xd();(be!==e||$e!==n)&&(rn=null,Or=Oe()+500,Gn(e,n));do try{ey();break}catch(_){Yd(e,_)}while(!0);Kl(),qs.current=f,oe=a,Me!==null?n=0:(be=null,$e=0,n=Fe)}if(n!==0){if(n===2&&(a=ul(e),a!==0&&(l=a,n=xu(e,a))),n===1)throw s=Ri,Gn(e,0),xn(e,l),lt(e,Oe()),s;if(n===6)xn(e,l);else{if(a=e.current.alternate,!(l&30)&&!J_(a)&&(n=no(e,l),n===2&&(f=ul(e),f!==0&&(l=f,n=xu(e,f))),n===1))throw s=Ri,Gn(e,0),xn(e,l),lt(e,Oe()),s;switch(e.finishedWork=a,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Qn(e,ot,rn);break;case 3:if(xn(e,l),(l&130023424)===l&&(n=Iu+500-Oe(),10<n)){if(cs(e,0)!==0)break;if(a=e.suspendedLanes,(a&l)!==l){tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ll(Qn.bind(null,e,ot,rn),n);break}Qn(e,ot,rn);break;case 4:if(xn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,a=-1;0<l;){var h=31-Pt(l);f=1<<h,h=n[h],h>a&&(a=h),l&=~f}if(l=a,l=Oe()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*X_(l/1960))-l,10<l){e.timeoutHandle=Ll(Qn.bind(null,e,ot,rn),l);break}Qn(e,ot,rn);break;case 5:Qn(e,ot,rn);break;default:throw Error(r(329))}}}return lt(e,Oe()),e.callbackNode===s?Qd.bind(null,e):null}function xu(e,n){var s=xi;return e.current.memoizedState.isDehydrated&&(Gn(e,n).flags|=256),e=no(e,n),e!==2&&(n=ot,ot=s,n!==null&&Pu(n)),e}function Pu(e){ot===null?ot=e:ot.push.apply(ot,e)}function J_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var a=s[l],f=a.getSnapshot;a=a.value;try{if(!Dt(f(),a))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xn(e,n){for(n&=~Tu,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Pt(n),l=1<<s;e[s]=-1,n&=~l}}function qd(e){if(oe&6)throw Error(r(327));Ar();var n=cs(e,0);if(!(n&1))return lt(e,Oe()),null;var s=no(e,n);if(e.tag!==0&&s===2){var l=ul(e);l!==0&&(n=l,s=xu(e,l))}if(s===1)throw s=Ri,Gn(e,0),xn(e,n),lt(e,Oe()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Qn(e,ot,rn),lt(e,Oe()),null}function Du(e,n){var s=oe;oe|=1;try{return e(n)}finally{oe=s,oe===0&&(Or=Oe()+500,xs&&En())}}function Kn(e){Nn!==null&&Nn.tag===0&&!(oe&6)&&Ar();var n=oe;oe|=1;var s=Ct.transition,l=he;try{if(Ct.transition=null,he=1,e)return e()}finally{he=l,Ct.transition=s,oe=n,!(oe&6)&&En()}}function Ou(){gt=Dr.current,Se(Dr)}function Gn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,R_(s)),Me!==null)for(s=Me.return;s!==null;){var l=s;switch(Bl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ns();break;case 3:Rr(),Se(rt),Se(Qe),eu();break;case 5:Jl(l);break;case 4:Rr();break;case 13:Se(Re);break;case 19:Se(Re);break;case 10:Gl(l.type._context);break;case 22:case 23:Ou()}s=s.return}if(be=e,Me=e=Pn(e.current,null),$e=gt=n,Fe=0,Ri=null,Tu=Ys=Vn=0,ot=xi=null,Wn!==null){for(n=0;n<Wn.length;n++)if(s=Wn[n],l=s.interleaved,l!==null){s.interleaved=null;var a=l.next,f=s.pending;if(f!==null){var h=f.next;f.next=a,l.next=h}s.pending=l}Wn=null}return e}function Yd(e,n){do{var s=Me;try{if(Kl(),bs.current=Hs,Us){for(var l=xe.memoizedState;l!==null;){var a=l.queue;a!==null&&(a.pending=null),l=l.next}Us=!1}if($n=0,je=Le=xe=null,Ei=!1,Ci=0,ku.current=null,s===null||s.return===null){Fe=1,Ri=n,Me=null;break}e:{var f=e,h=s.return,_=s,y=n;if(n=$e,_.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var T=y,x=_,P=x.tag;if(!(x.mode&1)&&(P===0||P===11||P===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var F=Sd(h);if(F!==null){F.flags&=-257,Ed(F,h,_,f,n),F.mode&1&&wd(f,T,n),n=F,y=T;var B=n.updateQueue;if(B===null){var W=new Set;W.add(y),n.updateQueue=W}else B.add(y);break e}else{if(!(n&1)){wd(f,T,n),Au();break e}y=Error(r(426))}}else if(Ie&&_.mode&1){var Ae=Sd(h);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),Ed(Ae,h,_,f,n),$l(xr(y,_));break e}}f=y=xr(y,_),Fe!==4&&(Fe=2),xi===null?xi=[f]:xi.push(f),f=h;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var C=yd(f,y,n);Vf(f,C);break e;case 1:_=y;var w=f.type,k=f.stateNode;if(!(f.flags&128)&&(typeof w.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(In===null||!In.has(k)))){f.flags|=65536,n&=-n,f.lanes|=n;var D=vd(f,_,n);Vf(f,D);break e}}f=f.return}while(f!==null)}Zd(s)}catch(H){n=H,Me===s&&s!==null&&(Me=s=s.return);continue}break}while(!0)}function Xd(){var e=qs.current;return qs.current=Hs,e===null?Hs:e}function Au(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),be===null||!(Vn&268435455)&&!(Ys&268435455)||xn(be,$e)}function no(e,n){var s=oe;oe|=2;var l=Xd();(be!==e||$e!==n)&&(rn=null,Gn(e,n));do try{Z_();break}catch(a){Yd(e,a)}while(!0);if(Kl(),oe=s,qs.current=l,Me!==null)throw Error(r(261));return be=null,$e=0,Fe}function Z_(){for(;Me!==null;)Jd(Me)}function ey(){for(;Me!==null&&!Tg();)Jd(Me)}function Jd(e){var n=nh(e.alternate,e,gt);e.memoizedProps=e.pendingProps,n===null?Zd(e):Me=n,ku.current=null}function Zd(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=G_(s,n),s!==null){s.flags&=32767,Me=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fe=6,Me=null;return}}else if(s=K_(s,n,gt),s!==null){Me=s;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=e}while(n!==null);Fe===0&&(Fe=5)}function Qn(e,n,s){var l=he,a=Ct.transition;try{Ct.transition=null,he=1,ty(e,n,s,l)}finally{Ct.transition=a,he=l}return null}function ty(e,n,s,l){do Ar();while(Nn!==null);if(oe&6)throw Error(r(327));s=e.finishedWork;var a=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(Lg(e,f),e===be&&(Me=be=null,$e=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Js||(Js=!0,rh(os,function(){return Ar(),null})),f=(s.flags&15990)!==0,s.subtreeFlags&15990||f){f=Ct.transition,Ct.transition=null;var h=he;he=1;var _=oe;oe|=4,ku.current=null,q_(e,s),Hd(s,e),S_(Al),hs=!!Ol,Al=Ol=null,e.current=s,Y_(s),Ig(),oe=_,he=h,Ct.transition=f}else e.current=s;if(Js&&(Js=!1,Nn=e,Zs=a),f=e.pendingLanes,f===0&&(In=null),xg(s.stateNode),lt(e,Oe()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)a=n[s],l(a.value,{componentStack:a.stack,digest:a.digest});if(Xs)throw Xs=!1,e=Nu,Nu=null,e;return Zs&1&&e.tag!==0&&Ar(),f=e.pendingLanes,f&1?e===Ru?Pi++:(Pi=0,Ru=e):Pi=0,En(),null}function Ar(){if(Nn!==null){var e=Uc(Zs),n=Ct.transition,s=he;try{if(Ct.transition=null,he=16>e?16:e,Nn===null)var l=!1;else{if(e=Nn,Nn=null,Zs=0,oe&6)throw Error(r(331));var a=oe;for(oe|=4,j=e.current;j!==null;){var f=j,h=f.child;if(j.flags&16){var _=f.deletions;if(_!==null){for(var y=0;y<_.length;y++){var T=_[y];for(j=T;j!==null;){var x=j;switch(x.tag){case 0:case 11:case 15:Ni(8,x,f)}var P=x.child;if(P!==null)P.return=x,j=P;else for(;j!==null;){x=j;var N=x.sibling,F=x.return;if(jd(x),x===T){j=null;break}if(N!==null){N.return=F,j=N;break}j=F}}}var B=f.alternate;if(B!==null){var W=B.child;if(W!==null){B.child=null;do{var Ae=W.sibling;W.sibling=null,W=Ae}while(W!==null)}}j=f}}if(f.subtreeFlags&2064&&h!==null)h.return=f,j=h;else e:for(;j!==null;){if(f=j,f.flags&2048)switch(f.tag){case 0:case 11:case 15:Ni(9,f,f.return)}var C=f.sibling;if(C!==null){C.return=f.return,j=C;break e}j=f.return}}var w=e.current;for(j=w;j!==null;){h=j;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,j=k;else e:for(h=w;j!==null;){if(_=j,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qs(9,_)}}catch(H){De(_,_.return,H)}if(_===h){j=null;break e}var D=_.sibling;if(D!==null){D.return=_.return,j=D;break e}j=_.return}}if(oe=a,En(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ls,e)}catch{}l=!0}return l}finally{he=s,Ct.transition=n}}return!1}function eh(e,n,s){n=xr(s,n),n=yd(e,n,1),e=kn(e,n,1),n=tt(),e!==null&&(ei(e,1,n),lt(e,n))}function De(e,n,s){if(e.tag===3)eh(e,e,s);else for(;n!==null;){if(n.tag===3){eh(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(In===null||!In.has(l))){e=xr(s,e),e=vd(n,e,1),n=kn(n,e,1),e=tt(),n!==null&&(ei(n,1,e),lt(n,e));break}}n=n.return}}function ny(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=tt(),e.pingedLanes|=e.suspendedLanes&s,be===e&&($e&s)===s&&(Fe===4||Fe===3&&($e&130023424)===$e&&500>Oe()-Iu?Gn(e,0):Tu|=s),lt(e,n)}function th(e,n){n===0&&(e.mode&1?(n=as,as<<=1,!(as&130023424)&&(as=4194304)):n=1);var s=tt();e=en(e,n),e!==null&&(ei(e,n,s),lt(e,s))}function ry(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),th(e,s)}function iy(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,a=e.memoizedState;a!==null&&(s=a.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),th(e,s)}var nh;nh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||rt.current)st=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return st=!1,V_(e,n,s);st=!!(e.flags&131072)}else st=!1,Ie&&n.flags&1048576&&Lf(n,Ds,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;Ks(e,n),e=n.pendingProps;var a=Sr(n,Qe.current);Nr(n,s),a=ru(null,n,l,e,a,s);var f=iu();return n.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,it(l)?(f=!0,Rs(n)):f=!1,n.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Yl(n),a.updater=$s,n.stateNode=a,a._reactInternals=n,cu(n,l,e,s),n=pu(null,n,l,!0,f,s)):(n.tag=0,Ie&&f&&Ul(n),et(null,n,a,s),n=n.child),n;case 16:l=n.elementType;e:{switch(Ks(e,n),e=n.pendingProps,a=l._init,l=a(l._payload),n.type=l,a=n.tag=oy(l),e=At(l,e),a){case 0:n=hu(null,n,l,e,s);break e;case 1:n=Rd(null,n,l,e,s);break e;case 11:n=Cd(null,n,l,e,s);break e;case 14:n=kd(null,n,l,At(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),hu(e,n,l,a,s);case 1:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),Rd(e,n,l,a,s);case 3:e:{if(xd(n),e===null)throw Error(r(387));l=n.pendingProps,f=n.memoizedState,a=f.element,$f(e,n),zs(n,l,null,s);var h=n.memoizedState;if(l=h.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){a=xr(Error(r(423)),n),n=Pd(e,n,l,s,a);break e}else if(l!==a){a=xr(Error(r(424)),n),n=Pd(e,n,l,s,a);break e}else for(mt=vn(n.stateNode.containerInfo.firstChild),pt=n,Ie=!0,Ot=null,s=Wf(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(kr(),l===a){n=nn(e,n,s);break e}et(e,n,l,s)}n=n.child}return n;case 5:return Gf(n),e===null&&Hl(n),l=n.type,a=n.pendingProps,f=e!==null?e.memoizedProps:null,h=a.children,Ml(l,a)?h=null:f!==null&&Ml(l,f)&&(n.flags|=32),Nd(e,n),et(e,n,h,s),n.child;case 6:return e===null&&Hl(n),null;case 13:return Dd(e,n,s);case 4:return Xl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Tr(n,null,l,s):et(e,n,l,s),n.child;case 11:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),Cd(e,n,l,a,s);case 7:return et(e,n,n.pendingProps,s),n.child;case 8:return et(e,n,n.pendingProps.children,s),n.child;case 12:return et(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,a=n.pendingProps,f=n.memoizedProps,h=a.value,ye(Ms,l._currentValue),l._currentValue=h,f!==null)if(Dt(f.value,h)){if(f.children===a.children&&!rt.current){n=nn(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var _=f.dependencies;if(_!==null){h=f.child;for(var y=_.firstContext;y!==null;){if(y.context===l){if(f.tag===1){y=tn(-1,s&-s),y.tag=2;var T=f.updateQueue;if(T!==null){T=T.shared;var x=T.pending;x===null?y.next=y:(y.next=x.next,x.next=y),T.pending=y}}f.lanes|=s,y=f.alternate,y!==null&&(y.lanes|=s),Ql(f.return,s,n),_.lanes|=s;break}y=y.next}}else if(f.tag===10)h=f.type===n.type?null:f.child;else if(f.tag===18){if(h=f.return,h===null)throw Error(r(341));h.lanes|=s,_=h.alternate,_!==null&&(_.lanes|=s),Ql(h,s,n),h=f.sibling}else h=f.child;if(h!==null)h.return=f;else for(h=f;h!==null;){if(h===n){h=null;break}if(f=h.sibling,f!==null){f.return=h.return,h=f;break}h=h.return}f=h}et(e,n,a.children,s),n=n.child}return n;case 9:return a=n.type,l=n.pendingProps.children,Nr(n,s),a=St(a),l=l(a),n.flags|=1,et(e,n,l,s),n.child;case 14:return l=n.type,a=At(l,n.pendingProps),a=At(l.type,a),kd(e,n,l,a,s);case 15:return Td(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,a=n.pendingProps,a=n.elementType===l?a:At(l,a),Ks(e,n),n.tag=1,it(l)?(e=!0,Rs(n)):e=!1,Nr(n,s),gd(n,l,a),cu(n,l,a,s),pu(null,n,l,!0,e,s);case 19:return Ad(e,n,s);case 22:return Id(e,n,s)}throw Error(r(156,n.tag))};function rh(e,n){return Lc(e,n)}function sy(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,n,s,l){return new sy(e,n,s,l)}function Mu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function oy(e){if(typeof e=="function")return Mu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ut)return 11;if(e===Bt)return 14}return 2}function Pn(e,n){var s=e.alternate;return s===null?(s=kt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ro(e,n,s,l,a,f){var h=2;if(l=e,typeof e=="function")Mu(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case me:return qn(s.children,a,f,n);case ge:h=8,a|=8;break;case Nt:return e=kt(12,s,n,a|2),e.elementType=Nt,e.lanes=f,e;case ft:return e=kt(13,s,n,a),e.elementType=ft,e.lanes=f,e;case xt:return e=kt(19,s,n,a),e.elementType=xt,e.lanes=f,e;case Pe:return io(s,a,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rt:h=10;break e;case qt:h=9;break e;case Ut:h=11;break e;case Bt:h=14;break e;case nt:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=kt(h,s,n,a),n.elementType=e,n.type=l,n.lanes=f,n}function qn(e,n,s,l){return e=kt(7,e,l,n),e.lanes=s,e}function io(e,n,s,l){return e=kt(22,e,l,n),e.elementType=Pe,e.lanes=s,e.stateNode={isHidden:!1},e}function Lu(e,n,s){return e=kt(6,e,null,n),e.lanes=s,e}function Fu(e,n,s){return n=kt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ly(e,n,s,l,a){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.identifierPrefix=l,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zu(e,n,s,l,a,f,h,_,y){return e=new ly(e,n,s,_,y),n===1?(n=1,f===!0&&(n|=8)):n=0,f=kt(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yl(f),e}function uy(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function ih(e){if(!e)return Sn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(it(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(it(s))return Of(e,s,n)}return n}function sh(e,n,s,l,a,f,h,_,y){return e=zu(s,l,!0,e,a,f,h,_,y),e.context=ih(null),s=e.current,l=tt(),a=Rn(s),f=tn(l,a),f.callback=n??null,kn(s,f,a),e.current.lanes=a,ei(e,a,l),lt(e,l),e}function so(e,n,s,l){var a=n.current,f=tt(),h=Rn(a);return s=ih(s),n.context===null?n.context=s:n.pendingContext=s,n=tn(f,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=kn(a,n,h),e!==null&&(Ft(e,a,h,f),Fs(e,a,h)),h}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function oh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ju(e,n){oh(e,n),(e=e.alternate)&&oh(e,n)}var lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function bu(e){this._internalRoot=e}lo.prototype.render=bu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));so(e,n,null,null)},lo.prototype.unmount=bu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Kn(function(){so(null,e,null,null)}),n[Yt]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Hc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<gn.length&&n!==0&&n<gn[s].priority;s++);gn.splice(s,0,e),s===0&&Kc(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function uo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uh(){}function ay(e,n,s,l,a){if(a){if(typeof l=="function"){var f=l;l=function(){var T=oo(h);f.call(T)}}var h=sh(n,l,e,0,null,!1,!1,"",uh);return e._reactRootContainer=h,e[Yt]=h.current,pi(e.nodeType===8?e.parentNode:e),Kn(),h}for(;a=e.lastChild;)e.removeChild(a);if(typeof l=="function"){var _=l;l=function(){var T=oo(y);_.call(T)}}var y=zu(e,0,!1,null,null,!1,!1,"",uh);return e._reactRootContainer=y,e[Yt]=y.current,pi(e.nodeType===8?e.parentNode:e),Kn(function(){so(n,y,s,l)}),y}function ao(e,n,s,l,a){var f=s._reactRootContainer;if(f){var h=f;if(typeof a=="function"){var _=a;a=function(){var y=oo(h);_.call(y)}}so(n,h,e,a)}else h=ay(s,n,e,a,l);return oo(h)}Bc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Zr(n.pendingLanes);s!==0&&(cl(n,s|1),lt(n,Oe()),!(oe&6)&&(Or=Oe()+500,En()))}break;case 13:Kn(function(){var l=en(e,1);if(l!==null){var a=tt();Ft(l,e,1,a)}}),ju(e,1)}},fl=function(e){if(e.tag===13){var n=en(e,134217728);if(n!==null){var s=tt();Ft(n,e,134217728,s)}ju(e,134217728)}},Wc=function(e){if(e.tag===13){var n=Rn(e),s=en(e,n);if(s!==null){var l=tt();Ft(s,e,n,l)}ju(e,n)}},Hc=function(){return he},$c=function(e,n){var s=he;try{return he=e,n()}finally{he=s}},rl=function(e,n,s){switch(n){case"input":if(qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var a=Is(l);if(!a)throw Error(r(90));pc(l),qo(l,a)}}}break;case"textarea":vc(e,s);break;case"select":n=s.value,n!=null&&ar(e,!!s.multiple,n,!1)}},Rc=Du,xc=Kn;var cy={usingClientEntryPoint:!1,Events:[_i,vr,Is,Ic,Nc,Du]},Di={findFiberByHostInstance:jn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fy={bundleType:Di.bundleType,version:Di.version,rendererPackageName:Di.rendererPackageName,rendererConfig:Di.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:Di.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ls=co.inject(fy),Wt=co}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cy,ut.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(n))throw Error(r(200));return uy(e,n,null,s)},ut.createRoot=function(e,n){if(!Uu(e))throw Error(r(299));var s=!1,l="",a=lh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),n=zu(e,1,!1,null,null,s,!1,l,a),e[Yt]=n.current,pi(e.nodeType===8?e.parentNode:e),new bu(n)},ut.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Ac(n),e=e===null?null:e.stateNode,e},ut.flushSync=function(e){return Kn(e)},ut.hydrate=function(e,n,s){if(!uo(n))throw Error(r(200));return ao(null,e,n,!0,s)},ut.hydrateRoot=function(e,n,s){if(!Uu(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,a=!1,f="",h=lh;if(s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=sh(n,null,e,1,s??null,a,!1,f,h),e[Yt]=n.current,pi(e),l)for(e=0;e<l.length;e++)s=l[e],a=s._getVersion,a=a(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,a]:n.mutableSourceEagerHydrationData.push(s,a);return new lo(n)},ut.render=function(e,n,s){if(!uo(n))throw Error(r(200));return ao(null,e,n,!1,s)},ut.unmountComponentAtNode=function(e){if(!uo(e))throw Error(r(40));return e._reactRootContainer?(Kn(function(){ao(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1},ut.unstable_batchedUpdates=Du,ut.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!uo(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return ao(e,n,s,!1,l)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var gh;function Cy(){if(gh)return $u.exports;gh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),$u.exports=Ey(),$u.exports}var _h;function ky(){if(_h)return fo;_h=1;var i=Cy();return fo.createRoot=i.createRoot,fo.hydrateRoot=i.hydrateRoot,fo}var Ty=ky();const kp="/DIRI_REDUX/assets/Hamburg-5kXPp-4v.jpg";let Iy=class{constructor(){Bu(this,"levels");Bu(this,"currentLevel");this.levels=["debug","info","warn","error"],this.currentLevel="debug"}setLevel(t){this.levels.includes(t)?this.currentLevel=t:console.error(`Nivel de log no vlido: ${t}`)}log(t,r){const o=this.levels.indexOf(t),u=this.levels.indexOf(this.currentLevel);if(o>=u){const c=new Date().toISOString();console[t](`[${t.toUpperCase()}] ${c}: ${r}`)}}debug(t){this.log("debug",t)}info(t){this.log("info",t)}warn(t){this.log("warn",t)}error(t){this.log("error",t)}};const tr=new Iy,Ny=async(i,t,r)=>{r(!0);try{const o=await fetch(`https://timeapi.io/api/time/current/zone?timeZone=${i}`);if(!o.ok)throw new Error(`Error: ${o.status}`);const u=await o.json();return t(u),u}catch(o){console.error("Fetch error:",o),t(void 0)}finally{tr.debug("Finaliza"),r(!1)}};var yh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=function(i,t){if(!i)throw Wr(t)},Wr=function(i){return new Error("Firebase Database ("+Tp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},Ry=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const u=i[r++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const c=i[r++];t[o++]=String.fromCharCode((u&31)<<6|c&63)}else if(u>239&&u<365){const c=i[r++],d=i[r++],p=i[r++],m=((u&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],d=i[r++];t[o++]=String.fromCharCode((u&15)<<12|(c&63)<<6|d&63)}}return t.join("")},za={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<i.length;u+=3){const c=i[u],d=u+1<i.length,p=d?i[u+1]:0,m=u+2<i.length,g=m?i[u+2]:0,S=c>>2,v=(c&3)<<4|p>>4;let I=(p&15)<<2|g>>6,O=g&63;m||(O=64,d||(I=64)),o.push(r[S],r[v],r[I],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Ip(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):Ry(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<i.length;){const c=r[i.charAt(u++)],p=u<i.length?r[i.charAt(u)]:0;++u;const g=u<i.length?r[i.charAt(u)]:64;++u;const v=u<i.length?r[i.charAt(u)]:64;if(++u,c==null||p==null||g==null||v==null)throw new xy;const I=c<<2|p>>4;if(o.push(I),g!==64){const O=p<<4&240|g>>2;if(o.push(O),v!==64){const A=g<<6&192|v;o.push(A)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class xy extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Np=function(i){const t=Ip(i);return za.encodeByteArray(t,!0)},_o=function(i){return Np(i).replace(/\./g,"")},fa=function(i){try{return za.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(i){return Rp(void 0,i)}function Rp(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!Dy(r)||(i[r]=Rp(i[r],t[r]));return i}function Dy(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=()=>Oy().__FIREBASE_DEFAULTS__,My=()=>{if(typeof process>"u"||typeof yh>"u")return;const i=yh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Ly=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&fa(i[1]);return t&&JSON.parse(t)},xp=()=>{try{return Ay()||My()||Ly()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Fy=i=>{var t,r;return(r=(t=xp())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},zy=i=>{const t=Fy(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},Pp=()=>{var i;return(i=xp())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",u=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[_o(JSON.stringify(r)),_o(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(by())}function Uy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function By(){return Tp.NODE_ADMIN===!0}function Wy(){try{return typeof indexedDB=="object"}catch{return!1}}function Hy(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var c;t(((c=u.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="FirebaseError";class Yi extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=$y,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Op.prototype.create)}}class Op{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},u=`${this.service}/${t}`,c=this.errors[t],d=c?Vy(c,o):"Error",p=`${this.serviceName}: ${d} (${u}).`;return new Yi(u,p,o)}}function Vy(i,t){return i.replace(Ky,(r,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const Ky=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(i){return JSON.parse(i)}function Ge(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=function(i){let t={},r={},o={},u="";try{const c=i.split(".");t=Hi(fa(c[0])||""),r=Hi(fa(c[1])||""),u=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:u}},Gy=function(i){const t=Ap(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},Qy=function(i){const t=Ap(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function jr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function vh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function yo(i,t,r){const o={};for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&(o[u]=t.call(r,i[u],u,i));return o}function da(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const u of r){if(!o.includes(u))return!1;const c=i[u],d=t[u];if(wh(c)&&wh(d)){if(!da(c,d))return!1}else if(c!==d)return!1}for(const u of o)if(!r.includes(u))return!1;return!0}function wh(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let v=0;v<16;v++)o[v]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let v=0;v<16;v++)o[v]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let v=16;v<80;v++){const I=o[v-3]^o[v-8]^o[v-14]^o[v-16];o[v]=(I<<1|I>>>31)&4294967295}let u=this.chain_[0],c=this.chain_[1],d=this.chain_[2],p=this.chain_[3],m=this.chain_[4],g,S;for(let v=0;v<80;v++){v<40?v<20?(g=p^c&(d^p),S=1518500249):(g=c^d^p,S=1859775393):v<60?(g=c&d|p&(c|d),S=2400959708):(g=c^d^p,S=3395469782);const I=(u<<5|u>>>27)+g+m+S+o[v]&4294967295;m=p,p=d,d=(c<<30|c>>>2)&4294967295,c=u,u=I}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let u=0;const c=this.buf_;let d=this.inbuf_;for(;u<r;){if(d===0)for(;u<=o;)this.compress_(t,u),u+=this.blockSize;if(typeof t=="string"){for(;u<r;)if(c[d]=t.charCodeAt(u),++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}else for(;u<r;)if(c[d]=t[u],++d,++u,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let u=0;u<5;u++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[u]>>c&255,++o;return t}}function ja(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let u=i.charCodeAt(o);if(u>=55296&&u<=56319){const c=u-55296;o++,M(o<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(o)-56320;u=65536+(c<<10)+d}u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):u<65536?(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},zo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i){return i&&i._delegate?i._delegate:i}class $i{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jy=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Fo;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(u)return null;throw c}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ev(t))try{this.getOrInitializeService({instanceIdentifier:Yn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:u});o.resolve(c)}catch{}}}}clearInstance(t=Yn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yn){return this.instances.has(t)}getOptions(t=Yn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&d.resolve(u)}return u}onInit(t,r){var o;const u=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(u))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(u,c);const d=this.instances.get(u);return d&&t(d,u),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const u of o)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Zy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=Yn){return this.component?this.component.multipleInstances?t:Yn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zy(i){return i===Yn?void 0:i}function ev(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Jy(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ve||(ve={}));const nv={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},rv=ve.INFO,iv={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},sv=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),u=iv[t];if(u)console[u](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Mp{constructor(t){this.name=t,this._logLevel=rv,this._logHandler=sv,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nv[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}}const ov=(i,t)=>t.some(r=>i instanceof r);let Sh,Eh;function lv(){return Sh||(Sh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uv(){return Eh||(Eh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lp=new WeakMap,ha=new WeakMap,Fp=new WeakMap,Gu=new WeakMap,ba=new WeakMap;function av(i){const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{r(On(i.result)),u()},d=()=>{o(i.error),u()};i.addEventListener("success",c),i.addEventListener("error",d)});return t.then(r=>{r instanceof IDBCursor&&Lp.set(r,i)}).catch(()=>{}),ba.set(t,i),t}function cv(i){if(ha.has(i))return;const t=new Promise((r,o)=>{const u=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{r(),u()},d=()=>{o(i.error||new DOMException("AbortError","AbortError")),u()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});ha.set(i,t)}let pa={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return ha.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Fp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return On(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function fv(i){pa=i(pa)}function dv(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call(Qu(this),t,...r);return Fp.set(o,t.sort?t.sort():[t]),On(o)}:uv().includes(i)?function(...t){return i.apply(Qu(this),t),On(Lp.get(this))}:function(...t){return On(i.apply(Qu(this),t))}}function hv(i){return typeof i=="function"?dv(i):(i instanceof IDBTransaction&&cv(i),ov(i,lv())?new Proxy(i,pa):i)}function On(i){if(i instanceof IDBRequest)return av(i);if(Gu.has(i))return Gu.get(i);const t=hv(i);return t!==i&&(Gu.set(i,t),ba.set(t,i)),t}const Qu=i=>ba.get(i);function pv(i,t,{blocked:r,upgrade:o,blocking:u,terminated:c}={}){const d=indexedDB.open(i,t),p=On(d);return o&&d.addEventListener("upgradeneeded",m=>{o(On(d.result),m.oldVersion,m.newVersion,On(d.transaction),m)}),r&&d.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),u&&m.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const mv=["get","getKey","getAll","getAllKeys","count"],gv=["put","add","delete","clear"],qu=new Map;function Ch(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(qu.get(t))return qu.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,u=gv.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(u||mv.includes(r)))return;const c=async function(d,...p){const m=this.transaction(d,u?"readwrite":"readonly");let g=m.store;return o&&(g=g.index(p.shift())),(await Promise.all([g[r](...p),u&&m.done]))[0]};return qu.set(t,c),c}fv(i=>({...i,get:(t,r,o)=>Ch(t,r)||i.get(t,r,o),has:(t,r)=>!!Ch(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(yv(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function yv(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ma="@firebase/app",kh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un=new Mp("@firebase/app"),vv="@firebase/app-compat",wv="@firebase/analytics-compat",Sv="@firebase/analytics",Ev="@firebase/app-check-compat",Cv="@firebase/app-check",kv="@firebase/auth",Tv="@firebase/auth-compat",Iv="@firebase/database",Nv="@firebase/data-connect",Rv="@firebase/database-compat",xv="@firebase/functions",Pv="@firebase/functions-compat",Dv="@firebase/installations",Ov="@firebase/installations-compat",Av="@firebase/messaging",Mv="@firebase/messaging-compat",Lv="@firebase/performance",Fv="@firebase/performance-compat",zv="@firebase/remote-config",jv="@firebase/remote-config-compat",bv="@firebase/storage",Uv="@firebase/storage-compat",Bv="@firebase/firestore",Wv="@firebase/vertexai",Hv="@firebase/firestore-compat",$v="firebase",Vv="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="[DEFAULT]",Kv={[ma]:"fire-core",[vv]:"fire-core-compat",[Sv]:"fire-analytics",[wv]:"fire-analytics-compat",[Cv]:"fire-app-check",[Ev]:"fire-app-check-compat",[kv]:"fire-auth",[Tv]:"fire-auth-compat",[Iv]:"fire-rtdb",[Nv]:"fire-data-connect",[Rv]:"fire-rtdb-compat",[xv]:"fire-fn",[Pv]:"fire-fn-compat",[Dv]:"fire-iid",[Ov]:"fire-iid-compat",[Av]:"fire-fcm",[Mv]:"fire-fcm-compat",[Lv]:"fire-perf",[Fv]:"fire-perf-compat",[zv]:"fire-rc",[jv]:"fire-rc-compat",[bv]:"fire-gcs",[Uv]:"fire-gcs-compat",[Bv]:"fire-fst",[Hv]:"fire-fst-compat",[Wv]:"fire-vertex","fire-js":"fire-js",[$v]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=new Map,Gv=new Map,_a=new Map;function Th(i,t){try{i.container.addComponent(t)}catch(r){un.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function wo(i){const t=i.name;if(_a.has(t))return un.debug(`There were multiple attempts to register component ${t}.`),!1;_a.set(t,i);for(const r of vo.values())Th(r,i);for(const r of Gv.values())Th(r,i);return!0}function Qv(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new Op("app","Firebase",qv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new $i("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=Vv;function zp(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:ga,automaticDataCollectionEnabled:!1},t),u=o.name;if(typeof u!="string"||!u)throw An.create("bad-app-name",{appName:String(u)});if(r||(r=Pp()),!r)throw An.create("no-options");const c=vo.get(u);if(c){if(da(r,c.options)&&da(o,c.config))return c;throw An.create("duplicate-app",{appName:u})}const d=new tv(u);for(const m of _a.values())d.addComponent(m);const p=new Yv(r,o,d);return vo.set(u,p),p}function Jv(i=ga){const t=vo.get(i);if(!t&&i===ga&&Pp())return zp();if(!t)throw An.create("no-app",{appName:i});return t}function Lr(i,t,r){var o;let u=(o=Kv[i])!==null&&o!==void 0?o:i;r&&(u+=`-${r}`);const c=u.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${u}" with version "${t}":`];c&&p.push(`library name "${u}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),un.warn(p.join(" "));return}wo(new $i(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="firebase-heartbeat-database",ew=1,Vi="firebase-heartbeat-store";let Yu=null;function jp(){return Yu||(Yu=pv(Zv,ew,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Vi)}catch(r){console.warn(r)}}}}).catch(i=>{throw An.create("idb-open",{originalErrorMessage:i.message})})),Yu}async function tw(i){try{const r=(await jp()).transaction(Vi),o=await r.objectStore(Vi).get(bp(i));return await r.done,o}catch(t){if(t instanceof Yi)un.warn(t.message);else{const r=An.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});un.warn(r.message)}}}async function Ih(i,t){try{const o=(await jp()).transaction(Vi,"readwrite");await o.objectStore(Vi).put(t,bp(i)),await o.done}catch(r){if(r instanceof Yi)un.warn(r.message);else{const o=An.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});un.warn(o.message)}}}function bp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=1024,rw=30*24*60*60*1e3;class iw{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new ow(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Nh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const p=new Date(d.date).valueOf();return Date.now()-p<=rw}),this._storage.overwrite(this._heartbeatsCache))}catch(o){un.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Nh(),{heartbeatsToSend:o,unsentEntries:u}=sw(this._heartbeatsCache.heartbeats),c=_o(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return un.warn(r),""}}}function Nh(){return new Date().toISOString().substring(0,10)}function sw(i,t=nw){const r=[];let o=i.slice();for(const u of i){const c=r.find(d=>d.agent===u.agent);if(c){if(c.dates.push(u.date),Rh(r)>t){c.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),Rh(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class ow{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wy()?Hy().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await tw(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ih(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return Ih(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function Rh(i){return _o(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i){wo(new $i("platform-logger",t=>new _v(t),"PRIVATE")),wo(new $i("heartbeat",t=>new iw(t),"PRIVATE")),Lr(ma,kh,i),Lr(ma,kh,"esm2017"),Lr("fire-js","")}lw("");var uw="firebase",aw="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(uw,aw,"app");var xh={};const Ph="@firebase/database",Dh="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up="";function cw(i){Up=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ge(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:Hi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return dn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new fw(t)}}catch{}return new dw},Zn=Bp("localStorage"),hw=Bp("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Mp("@firebase/database"),pw=function(){let i=1;return function(){return i++}}(),Wp=function(i){const t=Xy(i),r=new Yy;r.update(t);const o=r.digest();return za.encodeByteArray(o)},Xi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Xi.apply(null,o):typeof o=="object"?t+=Ge(o):t+=o,t+=" "}return t};let bi=null,Oh=!0;const mw=function(i,t){M(!0,"Can't turn on custom loggers persistently."),Fr.logLevel=ve.VERBOSE,bi=Fr.log.bind(Fr)},Je=function(...i){if(Oh===!0&&(Oh=!1,bi===null&&hw.get("logging_enabled")===!0&&mw()),bi){const t=Xi.apply(null,i);bi(t)}},Ji=function(i){return function(...t){Je(i,...t)}},ya=function(...i){const t="FIREBASE INTERNAL ERROR: "+Xi(...i);Fr.error(t)},an=function(...i){const t=`FIREBASE FATAL ERROR: ${Xi(...i)}`;throw Fr.error(t),new Error(t)},ct=function(...i){const t="FIREBASE WARNING: "+Xi(...i);Fr.warn(t)},gw=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ct("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hp=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},_w=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},br="[MIN_NAME]",nr="[MAX_NAME]",$r=function(i,t){if(i===t)return 0;if(i===br||t===nr)return-1;if(t===br||i===nr)return 1;{const r=Ah(i),o=Ah(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},yw=function(i,t){return i===t?0:i<t?-1:1},Ai=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ge(t))},Ua=function(i){if(typeof i!="object"||i===null)return Ge(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ge(t[o]),r+=":",r+=Ua(i[t[o]]);return r+="}",r},$p=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let u=0;u<r;u+=t)u+t>r?o.push(i.substring(u,r)):o.push(i.substring(u,u+t));return o};function It(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const Vp=function(i){M(!Hp(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let u,c,d,p,m;i===0?(c=0,d=0,u=1/i===-1/0?1:0):(u=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,d=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,d=Math.round(i/Math.pow(2,1-o-r))));const g=[];for(m=r;m;m-=1)g.push(d%2?1:0),d=Math.floor(d/2);for(m=t;m;m-=1)g.push(c%2?1:0),c=Math.floor(c/2);g.push(u?1:0),g.reverse();const S=g.join("");let v="";for(m=0;m<64;m+=8){let I=parseInt(S.substr(m,8),2).toString(16);I.length===1&&(I="0"+I),v=v+I}return v.toLowerCase()},vw=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ww=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Sw=new RegExp("^-?(0*)\\d{1,10}$"),Ew=-2147483648,Cw=2147483647,Ah=function(i){if(Sw.test(i)){const t=Number(i);if(t>=Ew&&t<=Cw)return t}return null},Vr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw ct("Exception was thrown by user callback.",r),t},Math.floor(0))}},kw=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ui=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){ct(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(u=>this.auth_=u)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Je("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ct(t)}}class go{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}go.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="5",Kp="v",Gp="s",Qp="r",qp="f",Yp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Xp="ls",Jp="p",va="ac",Zp="websocket",em="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,r,o,u,c=!1,d="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=u,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function Nw(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function nm(i,t,r){M(typeof t=="string","typeof type must == string"),M(typeof r=="object","typeof params must == object");let o;if(t===Zp)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===em)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);Nw(i)&&(r.ns=i.namespace);const u=[];return It(r,(c,d)=>{u.push(c+"="+d)}),o+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.counters_={}}incrementCounter(t,r=1){dn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return Py(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={},Ju={};function Wa(i){const t=i.toString();return Xu[t]||(Xu[t]=new Rw),Xu[t]}function xw(i,t){const r=i.toString();return Ju[r]||(Ju[r]=t()),Ju[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<o.length;++u)o[u]&&Vr(()=>{this.onMessage_(o[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="start",Dw="close",Ow="pLPCommand",Aw="pRTLPCB",rm="id",im="pw",sm="ser",Mw="cb",Lw="seg",Fw="ts",zw="d",jw="dframe",om=1870,lm=30,bw=om-lm,Uw=25e3,Bw=3e4;class Mr{constructor(t,r,o,u,c,d,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.transportSessionId=d,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(t),this.stats_=Wa(r),this.urlFn=m=>(this.appCheckToken&&(m[va]=this.appCheckToken),nm(r,em,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Pw(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Bw)),_w(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ha((...c)=>{const[d,p,m,g,S]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Mh)this.id=p,this.password=m;else if(d===Dw)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[Mh]="t",o[sm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[Mw]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Kp]=Ba,this.transportSessionId&&(o[Gp]=this.transportSessionId),this.lastSessionId&&(o[Xp]=this.lastSessionId),this.applicationId&&(o[Jp]=this.applicationId),this.appCheckToken&&(o[va]=this.appCheckToken),typeof location<"u"&&location.hostname&&Yp.test(location.hostname)&&(o[Qp]=qp);const u=this.urlFn(o);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Mr.forceAllow_=!0}static forceDisallow(){Mr.forceDisallow_=!0}static isAvailable(){return Mr.forceAllow_?!0:!Mr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!vw()&&!ww()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ge(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Np(r),u=$p(o,bw);for(let c=0;c<u.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[jw]="t",o[rm]=t,o[im]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ge(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Ha{constructor(t,r,o,u){this.onDisconnect=o,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=pw(),window[Ow+this.uniqueCallbackIdentifier]=t,window[Aw+this.uniqueCallbackIdentifier]=r,this.myIFrame=Ha.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(p){Je("frame writing exception"),p.stack&&Je(p.stack),Je(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Je("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[rm]=this.myID,t[im]=this.myPW,t[sm]=this.currentSerial;let r=this.urlFn(t),o="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+lm+o.length<=om;){const d=this.pendingSegs.shift();o=o+"&"+Lw+u+"="+d.seg+"&"+Fw+u+"="+d.ts+"&"+zw+u+"="+d.d,u++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},u=setTimeout(o,Math.floor(Uw)),c=()=>{clearTimeout(u),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const u=o.readyState;(!u||u==="loaded"||u==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Je("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww=16384,Hw=45e3;let So=null;typeof MozWebSocket<"u"?So=MozWebSocket:typeof WebSocket<"u"&&(So=WebSocket);class Gt{constructor(t,r,o,u,c,d,p){this.connId=t,this.applicationId=o,this.appCheckToken=u,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=Wa(r),this.connURL=Gt.connectionURL_(r,d,p,u,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,u,c){const d={};return d[Kp]=Ba,typeof location<"u"&&location.hostname&&Yp.test(location.hostname)&&(d[Qp]=qp),r&&(d[Gp]=r),o&&(d[Xp]=o),u&&(d[va]=u),c&&(d[Jp]=c),nm(t,Zp,d)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let o;By(),this.mySock=new So(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const u=o.message||o.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Gt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&So!==null&&!Gt.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=Hi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(M(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ge(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=$p(r,Ww);o.length>1&&this.sendString_(String(o.length));for(let u=0;u<o.length;u++)this.sendString_(o[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Hw))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Gt.responsesRequiredToBeHealthy=2;Gt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{static get ALL_TRANSPORTS(){return[Mr,Gt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=Gt.isAvailable();let o=r&&!Gt.previouslyFailed();if(t.webSocketOnly&&(r||ct("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Gt];else{const u=this.transports_=[];for(const c of Ki.ALL_TRANSPORTS)c&&c.isAvailable()&&u.push(c);Ki.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ki.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=6e4,Vw=5e3,Kw=10*1024,Gw=100*1024,Zu="t",Lh="d",Qw="s",Fh="r",qw="e",zh="o",jh="a",bh="n",Uh="p",Yw="h";class Xw{constructor(t,r,o,u,c,d,p,m,g,S){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=u,this.authToken_=c,this.onMessage_=d,this.onReady_=p,this.onDisconnect_=m,this.onKill_=g,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new Ki(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const u=t.healthyTimeout||0;u>0&&(this.healthyTimeout_=Ui(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Gw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Kw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Zu in t){const r=t[Zu];r===jh?this.upgradeIfSecondaryHealthy_():r===Fh?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===zh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ai("t",t),o=Ai("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Uh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jh,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ai("t",t),o=Ai("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ai(Zu,t);if(Lh in t){const o=t[Lh];if(r===Yw){const u=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(r===bh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===Qw?this.onConnectionShutdown_(o):r===Fh?this.onReset_(o):r===qw?ya("Server Error: "+o):r===zh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ya("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,u=t.h;this.sessionId=t.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ba!==o&&ct("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Ui(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($w))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ui(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Vw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Uh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{put(t,r,o,u){}merge(t,r,o,u){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t){this.allowedEvents_=t,this.listeners_={},M(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let u=0;u<o.length;u++)o[u].callback.apply(o[u].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const u=this.getInitialEvent(t);u&&r.apply(o,u)}off(t,r,o){this.validateEventType_(t);const u=this.listeners_[t]||[];for(let c=0;c<u.length;c++)if(u[c].callback===r&&(!o||o===u[c].context)){u.splice(c,1);return}}validateEventType_(t){M(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends am{static getInstance(){return new Eo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return M(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=32,Wh=768;class ke{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[o]=this.pieces_[u],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function pe(){return new ke("")}function te(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Ln(i){return i.pieces_.length-i.pieceNum_}function Ce(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new ke(i.pieces_,t)}function cm(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function Jw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function fm(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function dm(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new ke(t,0)}function ze(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof ke)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let u=0;u<o.length;u++)o[u].length>0&&r.push(o[u])}return new ke(r,0)}function ne(i){return i.pieceNum_>=i.pieces_.length}function Tt(i,t){const r=te(i),o=te(t);if(r===null)return t;if(r===o)return Tt(Ce(i),Ce(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function hm(i,t){if(Ln(i)!==Ln(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function jt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Ln(i)>Ln(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class Zw{constructor(t,r){this.errorPrefix_=r,this.parts_=fm(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=zo(this.parts_[o]);pm(this)}}function eS(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=zo(t),pm(i)}function tS(i){const t=i.parts_.pop();i.byteLength_-=zo(t),i.parts_.length>0&&(i.byteLength_-=1)}function pm(i){if(i.byteLength_>Wh)throw new Error(i.errorPrefix_+"has a key path longer than "+Wh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Bh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bh+") or object contains a cycle "+Xn(i))}function Xn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends am{static getInstance(){return new $a}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return M(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=1e3,nS=60*5*1e3,Hh=30*1e3,rS=1.3,iS=3e4,sS="server_kill",$h=3;class on extends um{constructor(t,r,o,u,c,d,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=u,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=on.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Mi,this.maxReconnectDelay_=nS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$a.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Eo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const u=++this.requestNumber_,c={r:u,a:t,b:r};this.log_(Ge(c)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[u]=o)}get(t){this.initConnection_();const r=new Fo,u={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:d=>{const p=d.d;d.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,u){this.initConnection_();const c=t._queryIdentifier,d=t._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:u,hashFn:r,query:t,tag:o};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),u=r._queryIdentifier;this.log_("Listen on "+o+" for "+u);const c={p:o},d="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(d,c,p=>{const m=p.d,g=p.s;on.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(u))===t&&(this.log_("listen response",p),g!=="ok"&&this.removeListen_(o,u),t.onComplete&&t.onComplete(g,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&dn(t,"w")){const o=jr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const u='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();ct(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||Qy(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Hh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=Gy(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,u=>{const c=u.s,d=u.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),u=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+u),M(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,u)&&this.connected_&&this.sendUnlisten_(o,u,t._queryObject,r)}sendUnlisten_(t,r,o,u){this.log_("Unlisten on "+t+" for "+r);const c={p:t},d="n";u&&(c.q=o,c.t=u),this.sendRequest(d,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,u){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,d=>{u&&setTimeout(()=>{u(d.s,d.d)},Math.floor(0))})}put(t,r,o,u){this.putInternal("p",t,r,o,u)}merge(t,r,o,u){this.putInternal("m",t,r,o,u)}putInternal(t,r,o,u,c){this.initConnection_();const d={p:r,d:o};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:t,request:d,onComplete:u}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,u=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ge(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):ya("Unrecognized action received from server: "+Ge(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iS&&(this.reconnectDelay_=Mi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+on.nextConnectionId_++,c=this.lastSessionId;let d=!1,p=null;const m=function(){p?p.close():(d=!0,o())},g=function(v){M(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(v)};this.realtime_={close:m,sendRequest:g};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,I]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);d?Je("getToken() completed but was canceled"):(Je("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=I&&I.token,p=new Xw(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{ct(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(sS)},c))}catch(v){this.log_("Failed to get token: "+v),d||(this.repoInfo_.nodeAdmin&&ct(v),m())}}}interrupt(t){Je("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Je("Resuming connection for reason: "+t),delete this.interruptReasons_[t],vh(this.interruptReasons_)&&(this.reconnectDelay_=Mi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>Ua(c)).join("$"):o="default";const u=this.removeListen_(t,o);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(t,r){const o=new ke(t).toString();let u;if(this.listens.has(o)){const c=this.listens.get(o);u=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else u=void 0;return u}onAuthRevoked_(t,r){Je("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=$h&&(this.reconnectDelay_=Hh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Je("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=$h&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+Up.replace(/\./g,"-")]=1,Dp()?t["framework.cordova"]=1:Uy()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Eo.getInstance().currentlyOnline();return vh(this.interruptReasons_)&&t}}on.nextPersistentConnectionId_=0;on.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new ie(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new ie(br,t),u=new ie(br,r);return this.compare(o,u)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho;class mm extends jo{static get __EMPTY_NODE(){return ho}static set __EMPTY_NODE(t){ho=t}compare(t,r){return $r(t.name,r.name)}isDefinedOn(t){throw Wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return ie.MIN}maxPost(){return new ie(nr,ho)}makePost(t,r){return M(typeof t=="string","KeyIndex indexValue must always be a string."),new ie(t,ho)}toString(){return".key"}}const zr=new mm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,r,o,u,c=null){this.isReverse_=u,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=r?o(t.key,r):1,u&&(d*=-1),d<0)this.isReverse_?t=t.left:t=t.right;else if(d===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,u,c){this.key=t,this.value=r,this.color=o??We.RED,this.left=u??at.EMPTY_NODE,this.right=c??at.EMPTY_NODE}copy(t,r,o,u,c){return new We(t??this.key,r??this.value,o??this.color,u??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let u=this;const c=o(t,u.key);return c<0?u=u.copy(null,null,null,u.left.insert(t,r,o),null):c===0?u=u.copy(null,r,null,null,null):u=u.copy(null,null,null,null,u.right.insert(t,r,o)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,u;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return at.EMPTY_NODE;u=o.right.min_(),o=o.copy(u.key,u.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class oS{copy(t,r,o,u,c){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class at{constructor(t,r=at.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new at(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new at(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,u=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return u?u.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(u=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new po(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new po(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new po(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new po(this.root_,null,this.comparator_,!0,t)}}at.EMPTY_NODE=new oS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(i,t){return $r(i.name,t.name)}function Va(i,t){return $r(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wa;function uS(i){wa=i}const gm=function(i){return typeof i=="number"?"number:"+Vp(i):"string:"+i},_m=function(i){if(i.isLeafNode()){const t=i.val();M(typeof t=="string"||typeof t=="number"||typeof t=="object"&&dn(t,".sv"),"Priority must be a string or number.")}else M(i===wa||i.isEmpty(),"priority of unexpected type.");M(i===wa||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh;class Be{static set __childrenNodeConstructor(t){Vh=t}static get __childrenNodeConstructor(){return Vh}constructor(t,r=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),_m(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ne(t)?this:te(t)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=te(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(M(o!==".priority"||Ln(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ce(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+gm(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=Vp(this.value_):t+=this.value_,this.lazyHash_=Wp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Be.__childrenNodeConstructor?-1:(M(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,u=Be.VALUE_TYPE_ORDER.indexOf(r),c=Be.VALUE_TYPE_ORDER.indexOf(o);return M(u>=0,"Unknown leaf type: "+r),M(c>=0,"Unknown leaf type: "+o),u===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-u}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym,vm;function aS(i){ym=i}function cS(i){vm=i}class fS extends jo{compare(t,r){const o=t.node.getPriority(),u=r.node.getPriority(),c=o.compareTo(u);return c===0?$r(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(nr,new Be("[PRIORITY-POST]",vm))}makePost(t,r){const o=ym(t);return new ie(r,new Be("[PRIORITY-POST]",o))}toString(){return".priority"}}const Ze=new fS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=Math.log(2);class hS{constructor(t){const r=c=>parseInt(Math.log(c)/dS,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const u=o(this.count);this.bits_=t+1&u}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Co=function(i,t,r,o){i.sort(t);const u=function(m,g){const S=g-m;let v,I;if(S===0)return null;if(S===1)return v=i[m],I=r?r(v):v,new We(I,v.node,We.BLACK,null,null);{const O=parseInt(S/2,10)+m,A=u(m,O),V=u(O+1,g);return v=i[O],I=r?r(v):v,new We(I,v.node,We.BLACK,A,V)}},c=function(m){let g=null,S=null,v=i.length;const I=function(A,V){const z=v-A,re=v;v-=A;const se=u(z+1,re),U=i[z],$=r?r(U):U;O(new We($,U.node,V,null,se))},O=function(A){g?(g.left=A,g=A):(S=A,g=A)};for(let A=0;A<m.count;++A){const V=m.nextBitIsOne(),z=Math.pow(2,m.count-(A+1));V?I(z,We.BLACK):(I(z,We.BLACK),I(z,We.RED))}return S},d=new hS(i.length),p=c(d);return new at(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea;const Li={};class sn{static get Default(){return M(Ze,"ChildrenNode.ts has not been loaded"),ea=ea||new sn({".priority":Li},{".priority":Ze}),ea}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=jr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof at?r:null}hasIndex(t){return dn(this.indexSet_,t.toString())}addIndex(t,r){M(t!==zr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let u=!1;const c=r.getIterator(ie.Wrap);let d=c.getNext();for(;d;)u=u||t.isDefinedOn(d.node),o.push(d),d=c.getNext();let p;u?p=Co(o,t.getCompare()):p=Li;const m=t.toString(),g=Object.assign({},this.indexSet_);g[m]=t;const S=Object.assign({},this.indexes_);return S[m]=p,new sn(S,g)}addToIndexes(t,r){const o=yo(this.indexes_,(u,c)=>{const d=jr(this.indexSet_,c);if(M(d,"Missing index implementation for "+c),u===Li)if(d.isDefinedOn(t.node)){const p=[],m=r.getIterator(ie.Wrap);let g=m.getNext();for(;g;)g.name!==t.name&&p.push(g),g=m.getNext();return p.push(t),Co(p,d.getCompare())}else return Li;else{const p=r.get(t.name);let m=u;return p&&(m=m.remove(new ie(t.name,p))),m.insert(t,t.node)}});return new sn(o,this.indexSet_)}removeFromIndexes(t,r){const o=yo(this.indexes_,u=>{if(u===Li)return u;{const c=r.get(t.name);return c?u.remove(new ie(t.name,c)):u}});return new sn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fi;class fe{static get EMPTY_NODE(){return Fi||(Fi=new fe(new at(Va),null,sn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&_m(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fi}updatePriority(t){return this.children_.isEmpty()?this:new fe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Fi:r}}getChild(t){const r=te(t);return r===null?this:this.getImmediateChild(r).getChild(Ce(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(M(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new ie(t,r);let u,c;r.isEmpty()?(u=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(u=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const d=u.isEmpty()?Fi:this.priorityNode_;return new fe(u,d,c)}}updateChild(t,r){const o=te(t);if(o===null)return r;{M(te(t)!==".priority"||Ln(t)===1,".priority must be the last token in a path");const u=this.getImmediateChild(o).updateChild(Ce(t),r);return this.updateImmediateChild(o,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,u=0,c=!0;if(this.forEachChild(Ze,(d,p)=>{r[d]=p.val(t),o++,c&&fe.INTEGER_REGEXP_.test(d)?u=Math.max(u,Number(d)):c=!1}),!t&&c&&u<2*o){const d=[];for(const p in r)d[p]=r[p];return d}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+gm(this.getPriority().val())+":"),this.forEachChild(Ze,(r,o)=>{const u=o.hash();u!==""&&(t+=":"+r+":"+u)}),this.lazyHash_=t===""?"":Wp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const u=this.resolveIndex_(o);if(u){const c=u.getPredecessorKey(new ie(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new ie(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new ie(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(u=>r(u.name,u.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,u=>u);{const u=this.children_.getIteratorFrom(t.name,ie.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)<0;)u.getNext(),c=u.peek();return u}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,u=>u);{const u=this.children_.getReverseIteratorFrom(t.name,ie.Wrap);let c=u.peek();for(;c!=null&&r.compare(c,t)>0;)u.getNext(),c=u.peek();return u}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zi?-1:0}withIndex(t){if(t===zr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new fe(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===zr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Ze),u=r.getIterator(Ze);let c=o.getNext(),d=u.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=o.getNext(),d=u.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(t){return t===zr?null:this.indexMap_.get(t.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pS extends fe{constructor(){super(new at(Va),fe.EMPTY_NODE,sn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return fe.EMPTY_NODE}isEmpty(){return!1}}const Zi=new pS;Object.defineProperties(ie,{MIN:{value:new ie(br,fe.EMPTY_NODE)},MAX:{value:new ie(nr,Zi)}});mm.__EMPTY_NODE=fe.EMPTY_NODE;Be.__childrenNodeConstructor=fe;uS(Zi);cS(Zi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS=!0;function Ke(i,t=null){if(i===null)return fe.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),M(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Be(r,Ke(t))}if(!(i instanceof Array)&&mS){const r=[];let o=!1;if(It(i,(d,p)=>{if(d.substring(0,1)!=="."){const m=Ke(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new ie(d,m)))}}),r.length===0)return fe.EMPTY_NODE;const c=Co(r,lS,d=>d.name,Va);if(o){const d=Co(r,Ze.getCompare());return new fe(c,Ke(t),new sn({".priority":d},{".priority":Ze}))}else return new fe(c,Ke(t),sn.Default)}else{let r=fe.EMPTY_NODE;return It(i,(o,u)=>{if(dn(i,o)&&o.substring(0,1)!=="."){const c=Ke(u);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(Ke(t))}}aS(Ke);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends jo{constructor(t){super(),this.indexPath_=t,M(!ne(t)&&te(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),u=this.extractChild(r.node),c=o.compareTo(u);return c===0?$r(t.name,r.name):c}makePost(t,r){const o=Ke(t),u=fe.EMPTY_NODE.updateChild(this.indexPath_,o);return new ie(r,u)}maxPost(){const t=fe.EMPTY_NODE.updateChild(this.indexPath_,Zi);return new ie(nr,t)}toString(){return fm(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S extends jo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?$r(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(t,r){const o=Ke(t);return new ie(r,o)}toString(){return".value"}}const yS=new _S;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(i){return{type:"value",snapshotNode:i}}function wS(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function SS(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function Kh(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function ES(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ze}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:br}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ze}copy(){const t=new Ka;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Gh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Ze?r="$priority":i.index_===yS?r="$value":i.index_===zr?r="$key":(M(i.index_ instanceof gS,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ge(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ge(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ge(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ge(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ge(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Qh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Ze&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends um{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(M(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,u){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=u,this.log_=Ji("p:rest:"),this.listens_={}}listen(t,r,o,u){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const d=ko.getListenId_(t,o),p={};this.listens_[d]=p;const m=Gh(t._queryParams);this.restRequest_(c+".json",m,(g,S)=>{let v=S;if(g===404&&(v=null,g=null),g===null&&this.onDataUpdate_(c,v,!1,o),jr(this.listens_,d)===p){let I;g?g===401?I="permission_denied":I="rest_error:"+g:I="ok",u(I,null)}})}unlisten(t,r){const o=ko.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Gh(t._queryParams),o=t._path.toString(),u=new Fo;return this.restRequest_(o+".json",r,(c,d)=>{let p=d;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),u.resolve(p)):u.reject(new Error(p))}),u.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,c])=>{u&&u.accessToken&&(r.auth=u.accessToken),c&&c.token&&(r.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+qy(r);this.log_("Sending REST request for "+d);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+d+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=Hi(p.responseText)}catch{ct("Failed to parse JSON response for "+d+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&ct("Got unsuccessful REST response for "+d+" Status: "+p.status),o(p.status);o=null}},p.open("GET",d,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(){return{value:null,children:new Map}}function wm(i,t,r){if(ne(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=te(t);i.children.has(o)||i.children.set(o,To());const u=i.children.get(o);t=Ce(t),wm(u,t,r)}}function Sa(i,t,r){i.value!==null?r(t,i.value):kS(i,(o,u)=>{const c=new ke(t.toString()+"/"+o);Sa(u,c,r)})}function kS(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&It(this.last_,(o,u)=>{r[o]=r[o]-u}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=10*1e3,IS=30*1e3,NS=5*60*1e3;class RS{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new TS(t);const o=qh+(IS-qh)*Math.random();Ui(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;It(t,(u,c)=>{c>0&&dn(this.statsToReport_,u)&&(r[u]=c,o=!0)}),o&&this.server_.reportStats(r),Ui(this.reportStats_.bind(this),Math.floor(Math.random()*2*NS))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Qt||(Qt={}));function Sm(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Em(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Cm(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=Qt.ACK_USER_WRITE,this.source=Sm()}operationForChild(t){if(ne(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new ke(t));return new Io(pe(),r,this.revert)}}else return M(te(this.path)===t,"operationForChild called for unrelated child."),new Io(Ce(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=Qt.OVERWRITE}operationForChild(t){return ne(this.path)?new rr(this.source,pe(),this.snap.getImmediateChild(t)):new rr(this.source,Ce(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=Qt.MERGE}operationForChild(t){if(ne(this.path)){const r=this.children.subtree(new ke(t));return r.isEmpty()?null:r.value?new rr(this.source,pe(),r.value):new Gi(this.source,pe(),r)}else return M(te(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Gi(this.source,Ce(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(ne(t))return this.isFullyInitialized()&&!this.filtered_;const r=te(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}function xS(i,t,r,o){const u=[],c=[];return t.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(ES(d.childName,d.snapshotNode))}),zi(i,u,"child_removed",t,o,r),zi(i,u,"child_added",t,o,r),zi(i,u,"child_moved",c,o,r),zi(i,u,"child_changed",t,o,r),zi(i,u,"value",t,o,r),u}function zi(i,t,r,o,u,c){const d=o.filter(p=>p.type===r);d.sort((p,m)=>DS(i,p,m)),d.forEach(p=>{const m=PS(i,p,c);u.forEach(g=>{g.respondsTo(p.type)&&t.push(g.createEvent(m,i.query_))})})}function PS(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function DS(i,t,r){if(t.childName==null||r.childName==null)throw Wr("Should only compare child_ events.");const o=new ie(t.childName,t.snapshotNode),u=new ie(r.childName,r.snapshotNode);return i.index_.compare(o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(i,t){return{eventCache:i,serverCache:t}}function Bi(i,t,r,o){return km(new Ga(t,r,o),i.serverCache)}function Tm(i,t,r,o){return km(i.eventCache,new Ga(t,r,o))}function Ea(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function ir(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta;const OS=()=>(ta||(ta=new at(yw)),ta);class Ee{static fromObject(t){let r=new Ee(null);return It(t,(o,u)=>{r=r.set(new ke(o),u)}),r}constructor(t,r=OS()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:pe(),value:this.value};if(ne(t))return null;{const o=te(t),u=this.children.get(o);if(u!==null){const c=u.findRootMostMatchingPathAndValue(Ce(t),r);return c!=null?{path:ze(new ke(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(ne(t))return this;{const r=te(t),o=this.children.get(r);return o!==null?o.subtree(Ce(t)):new Ee(null)}}set(t,r){if(ne(t))return new Ee(r,this.children);{const o=te(t),c=(this.children.get(o)||new Ee(null)).set(Ce(t),r),d=this.children.insert(o,c);return new Ee(this.value,d)}}remove(t){if(ne(t))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const r=te(t),o=this.children.get(r);if(o){const u=o.remove(Ce(t));let c;return u.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,u),this.value===null&&c.isEmpty()?new Ee(null):new Ee(this.value,c)}else return this}}get(t){if(ne(t))return this.value;{const r=te(t),o=this.children.get(r);return o?o.get(Ce(t)):null}}setTree(t,r){if(ne(t))return r;{const o=te(t),c=(this.children.get(o)||new Ee(null)).setTree(Ce(t),r);let d;return c.isEmpty()?d=this.children.remove(o):d=this.children.insert(o,c),new Ee(this.value,d)}}fold(t){return this.fold_(pe(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((u,c)=>{o[u]=c.fold_(ze(t,u),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,pe(),r)}findOnPath_(t,r,o){const u=this.value?o(r,this.value):!1;if(u)return u;if(ne(t))return null;{const c=te(t),d=this.children.get(c);return d?d.findOnPath_(Ce(t),ze(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,pe(),r)}foreachOnPath_(t,r,o){if(ne(t))return this;{this.value&&o(r,this.value);const u=te(t),c=this.children.get(u);return c?c.foreachOnPath_(Ce(t),ze(r,u),o):new Ee(null)}}foreach(t){this.foreach_(pe(),t)}foreach_(t,r){this.children.inorderTraversal((o,u)=>{u.foreach_(ze(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.writeTree_=t}static empty(){return new bt(new Ee(null))}}function Wi(i,t,r){if(ne(t))return new bt(new Ee(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const u=o.path;let c=o.value;const d=Tt(u,t);return c=c.updateChild(d,r),new bt(i.writeTree_.set(u,c))}else{const u=new Ee(r),c=i.writeTree_.setTree(t,u);return new bt(c)}}}function Yh(i,t,r){let o=i;return It(r,(u,c)=>{o=Wi(o,ze(t,u),c)}),o}function Xh(i,t){if(ne(t))return bt.empty();{const r=i.writeTree_.setTree(t,new Ee(null));return new bt(r)}}function Ca(i,t){return lr(i,t)!=null}function lr(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(Tt(r.path,t)):null}function Jh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Ze,(o,u)=>{t.push(new ie(o,u))}):i.writeTree_.children.inorderTraversal((o,u)=>{u.value!=null&&t.push(new ie(o,u.value))}),t}function Mn(i,t){if(ne(t))return i;{const r=lr(i,t);return r!=null?new bt(new Ee(r)):new bt(i.writeTree_.subtree(t))}}function ka(i){return i.writeTree_.isEmpty()}function Ur(i,t){return Im(pe(),i.writeTree_,t)}function Im(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((u,c)=>{u===".priority"?(M(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Im(ze(i,u),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(ze(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(i,t){return Om(t,i)}function AS(i,t,r,o,u){M(o>i.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:u}),u&&(i.visibleWrites=Wi(i.visibleWrites,t,r)),i.lastWriteId=o}function MS(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function LS(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);M(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let u=o.visible,c=!1,d=i.allWrites.length-1;for(;u&&d>=0;){const p=i.allWrites[d];p.visible&&(d>=r&&FS(p,o.path)?u=!1:jt(o.path,p.path)&&(c=!0)),d--}if(u){if(c)return zS(i),!0;if(o.snap)i.visibleWrites=Xh(i.visibleWrites,o.path);else{const p=o.children;It(p,m=>{i.visibleWrites=Xh(i.visibleWrites,ze(o.path,m))})}return!0}else return!1}function FS(i,t){if(i.snap)return jt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&jt(ze(i.path,r),t))return!0;return!1}function zS(i){i.visibleWrites=Rm(i.allWrites,jS,pe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function jS(i){return i.visible}function Rm(i,t,r){let o=bt.empty();for(let u=0;u<i.length;++u){const c=i[u];if(t(c)){const d=c.path;let p;if(c.snap)jt(r,d)?(p=Tt(r,d),o=Wi(o,p,c.snap)):jt(d,r)&&(p=Tt(d,r),o=Wi(o,pe(),c.snap.getChild(p)));else if(c.children){if(jt(r,d))p=Tt(r,d),o=Yh(o,p,c.children);else if(jt(d,r))if(p=Tt(d,r),ne(p))o=Yh(o,pe(),c.children);else{const m=jr(c.children,te(p));if(m){const g=m.getChild(Ce(p));o=Wi(o,pe(),g)}}}else throw Wr("WriteRecord should have .snap or .children")}}return o}function xm(i,t,r,o,u){if(!o&&!u){const c=lr(i.visibleWrites,t);if(c!=null)return c;{const d=Mn(i.visibleWrites,t);if(ka(d))return r;if(r==null&&!Ca(d,pe()))return null;{const p=r||fe.EMPTY_NODE;return Ur(d,p)}}}else{const c=Mn(i.visibleWrites,t);if(!u&&ka(c))return r;if(!u&&r==null&&!Ca(c,pe()))return null;{const d=function(g){return(g.visible||u)&&(!o||!~o.indexOf(g.writeId))&&(jt(g.path,t)||jt(t,g.path))},p=Rm(i.allWrites,d,t),m=r||fe.EMPTY_NODE;return Ur(p,m)}}}function bS(i,t,r){let o=fe.EMPTY_NODE;const u=lr(i.visibleWrites,t);if(u)return u.isLeafNode()||u.forEachChild(Ze,(c,d)=>{o=o.updateImmediateChild(c,d)}),o;if(r){const c=Mn(i.visibleWrites,t);return r.forEachChild(Ze,(d,p)=>{const m=Ur(Mn(c,new ke(d)),p);o=o.updateImmediateChild(d,m)}),Jh(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}else{const c=Mn(i.visibleWrites,t);return Jh(c).forEach(d=>{o=o.updateImmediateChild(d.name,d.node)}),o}}function US(i,t,r,o,u){M(o||u,"Either existingEventSnap or existingServerSnap must exist");const c=ze(t,r);if(Ca(i.visibleWrites,c))return null;{const d=Mn(i.visibleWrites,c);return ka(d)?u.getChild(r):Ur(d,u.getChild(r))}}function BS(i,t,r,o){const u=ze(t,r),c=lr(i.visibleWrites,u);if(c!=null)return c;if(o.isCompleteForChild(r)){const d=Mn(i.visibleWrites,u);return Ur(d,o.getNode().getImmediateChild(r))}else return null}function WS(i,t){return lr(i.visibleWrites,t)}function HS(i,t,r,o,u,c,d){let p;const m=Mn(i.visibleWrites,t),g=lr(m,pe());if(g!=null)p=g;else if(r!=null)p=Ur(m,r);else return[];if(p=p.withIndex(d),!p.isEmpty()&&!p.isLeafNode()){const S=[],v=d.getCompare(),I=c?p.getReverseIteratorFrom(o,d):p.getIteratorFrom(o,d);let O=I.getNext();for(;O&&S.length<u;)v(O,o)!==0&&S.push(O),O=I.getNext();return S}else return[]}function $S(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function Ta(i,t,r,o){return xm(i.writeTree,i.treePath,t,r,o)}function Pm(i,t){return bS(i.writeTree,i.treePath,t)}function Zh(i,t,r,o){return US(i.writeTree,i.treePath,t,r,o)}function No(i,t){return WS(i.writeTree,ze(i.treePath,t))}function VS(i,t,r,o,u,c){return HS(i.writeTree,i.treePath,t,r,o,u,c)}function Qa(i,t,r){return BS(i.writeTree,i.treePath,t,r)}function Dm(i,t){return Om(ze(i.treePath,t),i.writeTree)}function Om(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;M(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),M(o!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(o);if(u){const c=u.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,Kh(o,t.snapshotNode,u.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,SS(o,u.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,wS(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,Kh(o,t.snapshotNode,u.oldSnap));else throw Wr("Illegal combination of changes: "+t+" occurred after "+u)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const Am=new GS;class qa{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Ga(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qa(this.writes_,t,o)}}getChildAfterChild(t,r,o){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ir(this.viewCache_),c=VS(this.writes_,u,r,1,o,t);return c.length===0?null:c[0]}}function QS(i,t){M(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),M(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function qS(i,t,r,o,u){const c=new KS;let d,p;if(r.type===Qt.OVERWRITE){const g=r;g.source.fromUser?d=Ia(i,t,g.path,g.snap,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered()&&!ne(g.path),d=Ro(i,t,g.path,g.snap,o,u,p,c))}else if(r.type===Qt.MERGE){const g=r;g.source.fromUser?d=XS(i,t,g.path,g.children,o,u,c):(M(g.source.fromServer,"Unknown source."),p=g.source.tagged||t.serverCache.isFiltered(),d=Na(i,t,g.path,g.children,o,u,p,c))}else if(r.type===Qt.ACK_USER_WRITE){const g=r;g.revert?d=eE(i,t,g.path,o,u,c):d=JS(i,t,g.path,g.affectedTree,o,u,c)}else if(r.type===Qt.LISTEN_COMPLETE)d=ZS(i,t,r.path,o,c);else throw Wr("Unknown operation type: "+r.type);const m=c.getChanges();return YS(t,d,m),{viewCache:d,changes:m}}function YS(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const u=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=Ea(i);(r.length>0||!i.eventCache.isFullyInitialized()||u&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(vS(Ea(t)))}}function Mm(i,t,r,o,u,c){const d=t.eventCache;if(No(o,r)!=null)return t;{let p,m;if(ne(r))if(M(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=ir(t),S=g instanceof fe?g:fe.EMPTY_NODE,v=Pm(o,S);p=i.filter.updateFullNode(t.eventCache.getNode(),v,c)}else{const g=Ta(o,ir(t));p=i.filter.updateFullNode(t.eventCache.getNode(),g,c)}else{const g=te(r);if(g===".priority"){M(Ln(r)===1,"Can't have a priority with additional path components");const S=d.getNode();m=t.serverCache.getNode();const v=Zh(o,r,S,m);v!=null?p=i.filter.updatePriority(S,v):p=d.getNode()}else{const S=Ce(r);let v;if(d.isCompleteForChild(g)){m=t.serverCache.getNode();const I=Zh(o,r,d.getNode(),m);I!=null?v=d.getNode().getImmediateChild(g).updateChild(S,I):v=d.getNode().getImmediateChild(g)}else v=Qa(o,g,t.serverCache);v!=null?p=i.filter.updateChild(d.getNode(),g,v,S,u,c):p=d.getNode()}}return Bi(t,p,d.isFullyInitialized()||ne(r),i.filter.filtersNodes())}}function Ro(i,t,r,o,u,c,d,p){const m=t.serverCache;let g;const S=d?i.filter:i.filter.getIndexedFilter();if(ne(r))g=S.updateFullNode(m.getNode(),o,null);else if(S.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);g=S.updateFullNode(m.getNode(),O,null)}else{const O=te(r);if(!m.isCompleteForPath(r)&&Ln(r)>1)return t;const A=Ce(r),z=m.getNode().getImmediateChild(O).updateChild(A,o);O===".priority"?g=S.updatePriority(m.getNode(),z):g=S.updateChild(m.getNode(),O,z,A,Am,null)}const v=Tm(t,g,m.isFullyInitialized()||ne(r),S.filtersNodes()),I=new qa(u,v,c);return Mm(i,v,r,u,I,p)}function Ia(i,t,r,o,u,c,d){const p=t.eventCache;let m,g;const S=new qa(u,t,c);if(ne(r))g=i.filter.updateFullNode(t.eventCache.getNode(),o,d),m=Bi(t,g,!0,i.filter.filtersNodes());else{const v=te(r);if(v===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),o),m=Bi(t,g,p.isFullyInitialized(),p.isFiltered());else{const I=Ce(r),O=p.getNode().getImmediateChild(v);let A;if(ne(I))A=o;else{const V=S.getCompleteChild(v);V!=null?cm(I)===".priority"&&V.getChild(dm(I)).isEmpty()?A=V:A=V.updateChild(I,o):A=fe.EMPTY_NODE}if(O.equals(A))m=t;else{const V=i.filter.updateChild(p.getNode(),v,A,I,S,d);m=Bi(t,V,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function ep(i,t){return i.eventCache.isCompleteForChild(t)}function XS(i,t,r,o,u,c,d){let p=t;return o.foreach((m,g)=>{const S=ze(r,m);ep(t,te(S))&&(p=Ia(i,p,S,g,u,c,d))}),o.foreach((m,g)=>{const S=ze(r,m);ep(t,te(S))||(p=Ia(i,p,S,g,u,c,d))}),p}function tp(i,t,r){return r.foreach((o,u)=>{t=t.updateChild(o,u)}),t}function Na(i,t,r,o,u,c,d,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,g;ne(r)?g=o:g=new Ee(null).setTree(r,o);const S=t.serverCache.getNode();return g.children.inorderTraversal((v,I)=>{if(S.hasChild(v)){const O=t.serverCache.getNode().getImmediateChild(v),A=tp(i,O,I);m=Ro(i,m,new ke(v),A,u,c,d,p)}}),g.children.inorderTraversal((v,I)=>{const O=!t.serverCache.isCompleteForChild(v)&&I.value===null;if(!S.hasChild(v)&&!O){const A=t.serverCache.getNode().getImmediateChild(v),V=tp(i,A,I);m=Ro(i,m,new ke(v),V,u,c,d,p)}}),m}function JS(i,t,r,o,u,c,d){if(No(u,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(ne(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return Ro(i,t,r,m.getNode().getChild(r),u,c,p,d);if(ne(r)){let g=new Ee(null);return m.getNode().forEachChild(zr,(S,v)=>{g=g.set(new ke(S),v)}),Na(i,t,r,g,u,c,p,d)}else return t}else{let g=new Ee(null);return o.foreach((S,v)=>{const I=ze(r,S);m.isCompleteForPath(I)&&(g=g.set(S,m.getNode().getChild(I)))}),Na(i,t,r,g,u,c,p,d)}}function ZS(i,t,r,o,u){const c=t.serverCache,d=Tm(t,c.getNode(),c.isFullyInitialized()||ne(r),c.isFiltered());return Mm(i,d,r,o,Am,u)}function eE(i,t,r,o,u,c){let d;if(No(o,r)!=null)return t;{const p=new qa(o,t,u),m=t.eventCache.getNode();let g;if(ne(r)||te(r)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=Ta(o,ir(t));else{const v=t.serverCache.getNode();M(v instanceof fe,"serverChildren would be complete if leaf node"),S=Pm(o,v)}S=S,g=i.filter.updateFullNode(m,S,c)}else{const S=te(r);let v=Qa(o,S,t.serverCache);v==null&&t.serverCache.isCompleteForChild(S)&&(v=m.getImmediateChild(S)),v!=null?g=i.filter.updateChild(m,S,v,Ce(r),p,c):t.eventCache.getNode().hasChild(S)?g=i.filter.updateChild(m,S,fe.EMPTY_NODE,Ce(r),p,c):g=m,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=Ta(o,ir(t)),d.isLeafNode()&&(g=i.filter.updateFullNode(g,d,c)))}return d=t.serverCache.isFullyInitialized()||No(o,pe())!=null,Bi(t,g,d,i.filter.filtersNodes())}}function tE(i,t){const r=ir(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!ne(t)&&!r.getImmediateChild(te(t)).isEmpty())?r.getChild(t):null}function np(i,t,r,o){t.type===Qt.MERGE&&t.source.queryId!==null&&(M(ir(i.viewCache_),"We should always have a full cache before handling merges"),M(Ea(i.viewCache_),"Missing event cache, even though we have a server cache"));const u=i.viewCache_,c=qS(i.processor_,u,t,r,o);return QS(i.processor_,c.viewCache),M(c.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,nE(i,c.changes,c.viewCache.eventCache.getNode())}function nE(i,t,r,o){const u=i.eventRegistrations_;return xS(i.eventGenerator_,t,r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rp;function rE(i){M(!rp,"__referenceConstructor has already been defined"),rp=i}function Ya(i,t,r,o){const u=t.source.queryId;if(u!==null){const c=i.views.get(u);return M(c!=null,"SyncTree gave us an op for an invalid query."),np(c,t,r,o)}else{let c=[];for(const d of i.views.values())c=c.concat(np(d,t,r,o));return c}}function Xa(i,t){let r=null;for(const o of i.views.values())r=r||tE(o,t);return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ip;function iE(i){M(!ip,"__referenceConstructor has already been defined"),ip=i}class sp{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=$S(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Lm(i,t,r,o,u){return AS(i.pendingWriteTree_,t,r,o,u),u?Uo(i,new rr(Sm(),t,r)):[]}function er(i,t,r=!1){const o=MS(i.pendingWriteTree_,t);if(LS(i.pendingWriteTree_,t)){let c=new Ee(null);return o.snap!=null?c=c.set(pe(),!0):It(o.children,d=>{c=c.set(new ke(d),!0)}),Uo(i,new Io(o.path,c,r))}else return[]}function bo(i,t,r){return Uo(i,new rr(Em(),t,r))}function sE(i,t,r){const o=Ee.fromObject(r);return Uo(i,new Gi(Em(),t,o))}function oE(i,t,r,o){const u=jm(i,o);if(u!=null){const c=bm(u),d=c.path,p=c.queryId,m=Tt(d,t),g=new rr(Cm(p),m,r);return Um(i,d,g)}else return[]}function lE(i,t,r,o){const u=jm(i,o);if(u){const c=bm(u),d=c.path,p=c.queryId,m=Tt(d,t),g=Ee.fromObject(r),S=new Gi(Cm(p),m,g);return Um(i,d,S)}else return[]}function Ja(i,t,r){const u=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(d,p)=>{const m=Tt(d,t),g=Xa(p,m);if(g)return g});return xm(u,t,c,r,!0)}function Uo(i,t){return Fm(t,i.syncPointTree_,null,Nm(i.pendingWriteTree_,pe()))}function Fm(i,t,r,o){if(ne(i.path))return zm(i,t,r,o);{const u=t.get(pe());r==null&&u!=null&&(r=Xa(u,pe()));let c=[];const d=te(i.path),p=i.operationForChild(d),m=t.children.get(d);if(m&&p){const g=r?r.getImmediateChild(d):null,S=Dm(o,d);c=c.concat(Fm(p,m,g,S))}return u&&(c=c.concat(Ya(u,i,o,r))),c}}function zm(i,t,r,o){const u=t.get(pe());r==null&&u!=null&&(r=Xa(u,pe()));let c=[];return t.children.inorderTraversal((d,p)=>{const m=r?r.getImmediateChild(d):null,g=Dm(o,d),S=i.operationForChild(d);S&&(c=c.concat(zm(S,p,m,g)))}),u&&(c=c.concat(Ya(u,i,o,r))),c}function jm(i,t){return i.tagToQueryMap.get(t)}function bm(i){const t=i.indexOf("$");return M(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new ke(i.substr(0,t))}}function Um(i,t,r){const o=i.syncPointTree_.get(t);M(o,"Missing sync point for query tag that we're tracking");const u=Nm(i.pendingWriteTree_,t);return Ya(o,r,u,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Za(r)}node(){return this.node_}}class ec{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=ze(this.path_,t);return new ec(this.syncTree_,r)}node(){return Ja(this.syncTree_,this.path_)}}const uE=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},op=function(i,t,r){if(!i||typeof i!="object")return i;if(M(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return aE(i[".sv"],t,r);if(typeof i[".sv"]=="object")return cE(i[".sv"],t);M(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},aE=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:M(!1,"Unexpected server value: "+i)}},cE=function(i,t,r){i.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&M(!1,"Unexpected increment value: "+o);const u=t.node();if(M(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return o;const d=u.getValue();return typeof d!="number"?o:d+o},fE=function(i,t,r,o){return tc(t,new ec(r,i),o)},Bm=function(i,t,r){return tc(i,new Za(t),r)};function tc(i,t,r){const o=i.getPriority().val(),u=op(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const d=i,p=op(d.getValue(),t,r);return p!==d.getValue()||u!==d.getPriority().val()?new Be(p,Ke(u)):i}else{const d=i;return c=d,u!==d.getPriority().val()&&(c=c.updatePriority(new Be(u))),d.forEachChild(Ze,(p,m)=>{const g=tc(m,t.getImmediateChild(p),r);g!==m&&(c=c.updateImmediateChild(p,g))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function rc(i,t){let r=t instanceof ke?t:new ke(t),o=i,u=te(r);for(;u!==null;){const c=jr(o.node.children,u)||{children:{},childCount:0};o=new nc(u,o,c),r=Ce(r),u=te(r)}return o}function Kr(i){return i.node.value}function Wm(i,t){i.node.value=t,Ra(i)}function Hm(i){return i.node.childCount>0}function dE(i){return Kr(i)===void 0&&!Hm(i)}function Bo(i,t){It(i.node.children,(r,o)=>{t(new nc(r,i,o))})}function $m(i,t,r,o){r&&t(i),Bo(i,u=>{$m(u,t,!0)})}function hE(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function es(i){return new ke(i.parent===null?i.name:es(i.parent)+"/"+i.name)}function Ra(i){i.parent!==null&&pE(i.parent,i.name,i)}function pE(i,t,r){const o=dE(r),u=dn(i.node.children,t);o&&u?(delete i.node.children[t],i.node.childCount--,Ra(i)):!o&&!u&&(i.node.children[t]=r.node,i.node.childCount++,Ra(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=/[\[\].#$\/\u0000-\u001F\u007F]/,gE=/[\[\].#$\u0000-\u001F\u007F]/,na=10*1024*1024,Vm=function(i){return typeof i=="string"&&i.length!==0&&!mE.test(i)},Km=function(i){return typeof i=="string"&&i.length!==0&&!gE.test(i)},_E=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Km(i)},Gm=function(i,t,r,o){o&&t===void 0||ic(ja(i,"value"),t,r)},ic=function(i,t,r){const o=r instanceof ke?new Zw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Xn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Xn(o)+" with contents = "+t.toString());if(Hp(t))throw new Error(i+"contains "+t.toString()+" "+Xn(o));if(typeof t=="string"&&t.length>na/3&&zo(t)>na)throw new Error(i+"contains a string greater than "+na+" utf8 bytes "+Xn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let u=!1,c=!1;if(It(t,(d,p)=>{if(d===".value")u=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!Vm(d)))throw new Error(i+" contains an invalid key ("+d+") "+Xn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);eS(o,d),ic(i,p,o),tS(o)}),u&&c)throw new Error(i+' contains ".value" child '+Xn(o)+" in addition to actual children.")}},Qm=function(i,t,r,o){if(!Km(r))throw new Error(ja(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},yE=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Qm(i,t,r)},qm=function(i,t){if(te(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},vE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Vm(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!_E(r))throw new Error(ja(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ym(i,t){let r=null;for(let o=0;o<t.length;o++){const u=t[o],c=u.getPath();r!==null&&!hm(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(u)}r&&i.eventLists_.push(r)}function cn(i,t,r){Ym(i,r),SE(i,o=>jt(o,t)||jt(t,o))}function SE(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const u=i.eventLists_[o];if(u){const c=u.path;t(c)?(EE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function EE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();bi&&Je("event: "+r.toString()),Vr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="repo_interrupt",kE=25;class TE{constructor(t,r,o,u){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=To(),this.transactionQueueTree_=new nc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IE(i,t,r){if(i.stats_=Wa(i.repoInfo_),i.forceRestClient_||kw())i.server_=new ko(i.repoInfo_,(o,u,c,d)=>{lp(i,o,u,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>up(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ge(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new on(i.repoInfo_,t,(o,u,c,d)=>{lp(i,o,u,c,d)},o=>{up(i,o)},o=>{NE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=xw(i.repoInfo_,()=>new RS(i.stats_,i.server_)),i.infoData_=new CS,i.infoSyncTree_=new sp({startListening:(o,u,c,d)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=bo(i.infoSyncTree_,o._path,m),setTimeout(()=>{d("ok")},0)),p},stopListening:()=>{}}),oc(i,"connected",!1),i.serverSyncTree_=new sp({startListening:(o,u,c,d)=>(i.server_.listen(o,c,u,(p,m)=>{const g=d(p,m);cn(i.eventQueue_,o._path,g)}),[]),stopListening:(o,u)=>{i.server_.unlisten(o,u)}})}function Xm(i){const r=i.infoData_.getNode(new ke(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function sc(i){return uE({timestamp:Xm(i)})}function lp(i,t,r,o,u){i.dataUpdateCount++;const c=new ke(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let d=[];if(u)if(o){const m=yo(r,g=>Ke(g));d=lE(i.serverSyncTree_,c,m,u)}else{const m=Ke(r);d=oE(i.serverSyncTree_,c,m,u)}else if(o){const m=yo(r,g=>Ke(g));d=sE(i.serverSyncTree_,c,m)}else{const m=Ke(r);d=bo(i.serverSyncTree_,c,m)}let p=c;d.length>0&&(p=Wo(i,c)),cn(i.eventQueue_,p,d)}function up(i,t){oc(i,"connected",t),t===!1&&xE(i)}function NE(i,t){It(t,(r,o)=>{oc(i,r,o)})}function oc(i,t,r){const o=new ke("/.info/"+t),u=Ke(r);i.infoData_.updateSnapshot(o,u);const c=bo(i.infoSyncTree_,o,u);cn(i.eventQueue_,o,c)}function Jm(i){return i.nextWriteId_++}function RE(i,t,r,o,u){lc(i,"set",{path:t.toString(),value:r,priority:o});const c=sc(i),d=Ke(r,o),p=Ja(i.serverSyncTree_,t),m=Bm(d,p,c),g=Jm(i),S=Lm(i.serverSyncTree_,t,m,g,!0);Ym(i.eventQueue_,S),i.server_.put(t.toString(),d.val(!0),(I,O)=>{const A=I==="ok";A||ct("set at "+t+" failed: "+I);const V=er(i.serverSyncTree_,g,!A);cn(i.eventQueue_,t,V),DE(i,u,I,O)});const v=rg(i,t);Wo(i,v),cn(i.eventQueue_,v,[])}function xE(i){lc(i,"onDisconnectEvents");const t=sc(i),r=To();Sa(i.onDisconnect_,pe(),(u,c)=>{const d=fE(u,c,i.serverSyncTree_,t);wm(r,u,d)});let o=[];Sa(r,pe(),(u,c)=>{o=o.concat(bo(i.serverSyncTree_,u,c));const d=rg(i,u);Wo(i,d)}),i.onDisconnect_=To(),cn(i.eventQueue_,pe(),o)}function PE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(CE)}function lc(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Je(r,...t)}function DE(i,t,r,o){t&&Vr(()=>{if(r==="ok")t(null);else{const u=(r||"error").toUpperCase();let c=u;o&&(c+=": "+o);const d=new Error(c);d.code=u,t(d)}})}function Zm(i,t,r){return Ja(i.serverSyncTree_,t,r)||fe.EMPTY_NODE}function uc(i,t=i.transactionQueueTree_){if(t||Ho(i,t),Kr(t)){const r=tg(i,t);M(r.length>0,"Sending zero length transaction queue"),r.every(u=>u.status===0)&&OE(i,es(t),r)}else Hm(t)&&Bo(t,r=>{uc(i,r)})}function OE(i,t,r){const o=r.map(g=>g.currentWriteId),u=Zm(i,t,o);let c=u;const d=u.hash();for(let g=0;g<r.length;g++){const S=r[g];M(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const v=Tt(t,S.path);c=c.updateChild(v,S.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,g=>{lc(i,"transaction put response",{path:m.toString(),status:g});let S=[];if(g==="ok"){const v=[];for(let I=0;I<r.length;I++)r[I].status=2,S=S.concat(er(i.serverSyncTree_,r[I].currentWriteId)),r[I].onComplete&&v.push(()=>r[I].onComplete(null,!0,r[I].currentOutputSnapshotResolved)),r[I].unwatcher();Ho(i,rc(i.transactionQueueTree_,t)),uc(i,i.transactionQueueTree_),cn(i.eventQueue_,t,S);for(let I=0;I<v.length;I++)Vr(v[I])}else{if(g==="datastale")for(let v=0;v<r.length;v++)r[v].status===3?r[v].status=4:r[v].status=0;else{ct("transaction at "+m.toString()+" failed: "+g);for(let v=0;v<r.length;v++)r[v].status=4,r[v].abortReason=g}Wo(i,t)}},d)}function Wo(i,t){const r=eg(i,t),o=es(r),u=tg(i,r);return AE(i,u,o),o}function AE(i,t,r){if(t.length===0)return;const o=[];let u=[];const d=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],g=Tt(r,m.path);let S=!1,v;if(M(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)S=!0,v=m.abortReason,u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=kE)S=!0,v="maxretry",u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0));else{const I=Zm(i,m.path,d);m.currentInputSnapshot=I;const O=t[p].update(I.val());if(O!==void 0){ic("transaction failed: Data returned ",O,m.path);let A=Ke(O);typeof O=="object"&&O!=null&&dn(O,".priority")||(A=A.updatePriority(I.getPriority()));const z=m.currentWriteId,re=sc(i),se=Bm(A,I,re);m.currentOutputSnapshotRaw=A,m.currentOutputSnapshotResolved=se,m.currentWriteId=Jm(i),d.splice(d.indexOf(z),1),u=u.concat(Lm(i.serverSyncTree_,m.path,se,m.currentWriteId,m.applyLocally)),u=u.concat(er(i.serverSyncTree_,z,!0))}else S=!0,v="nodata",u=u.concat(er(i.serverSyncTree_,m.currentWriteId,!0))}cn(i.eventQueue_,r,u),u=[],S&&(t[p].status=2,function(I){setTimeout(I,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(v==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(v),!1,null))))}Ho(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)Vr(o[p]);uc(i,i.transactionQueueTree_)}function eg(i,t){let r,o=i.transactionQueueTree_;for(r=te(t);r!==null&&Kr(o)===void 0;)o=rc(o,r),t=Ce(t),r=te(t);return o}function tg(i,t){const r=[];return ng(i,t,r),r.sort((o,u)=>o.order-u.order),r}function ng(i,t,r){const o=Kr(t);if(o)for(let u=0;u<o.length;u++)r.push(o[u]);Bo(t,u=>{ng(i,u,r)})}function Ho(i,t){const r=Kr(t);if(r){let o=0;for(let u=0;u<r.length;u++)r[u].status!==2&&(r[o]=r[u],o++);r.length=o,Wm(t,r.length>0?r:void 0)}Bo(t,o=>{Ho(i,o)})}function rg(i,t){const r=es(eg(i,t)),o=rc(i.transactionQueueTree_,t);return hE(o,u=>{ra(i,u)}),ra(i,o),$m(o,u=>{ra(i,u)}),r}function ra(i,t){const r=Kr(t);if(r){const o=[];let u=[],c=-1;for(let d=0;d<r.length;d++)r[d].status===3||(r[d].status===1?(M(c===d-1,"All SENT items should be at beginning of queue."),c=d,r[d].status=3,r[d].abortReason="set"):(M(r[d].status===0,"Unexpected transaction status in abort"),r[d].unwatcher(),u=u.concat(er(i.serverSyncTree_,r[d].currentWriteId,!0)),r[d].onComplete&&o.push(r[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?Wm(t,void 0):r.length=c+1,cn(i.eventQueue_,es(t),u);for(let d=0;d<o.length;d++)Vr(o[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let u=r[o];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}t+="/"+u}return t}function LE(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):ct(`Invalid query segment '${r}' in query '${i}'`)}return t}const ap=function(i,t){const r=FE(i),o=r.namespace;r.domain==="firebase.com"&&an(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&an("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||gw();const u=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new tm(r.host,r.secure,o,u,t,"",o!==r.subdomain),path:new ke(r.pathString)}},FE=function(i){let t="",r="",o="",u="",c="",d=!0,p="https",m=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(p=i.substring(0,g-1),i=i.substring(g+2));let S=i.indexOf("/");S===-1&&(S=i.length);let v=i.indexOf("?");v===-1&&(v=i.length),t=i.substring(0,Math.min(S,v)),S<v&&(u=ME(i.substring(S,v)));const I=LE(i.substring(Math.min(i.length,v)));g=t.indexOf(":"),g>=0?(d=p==="https"||p==="wss",m=parseInt(t.substring(g+1),10)):g=t.length;const O=t.slice(0,g);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const A=t.indexOf(".");o=t.substring(0,A).toLowerCase(),r=t.substring(A+1),c=o}"ns"in I&&(c=I.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:d,scheme:p,pathString:u,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",zE=function(){let i=0;const t=[];return function(r){const o=r===i;i=r;let u;const c=new Array(8);for(u=7;u>=0;u--)c[u]=cp.charAt(r%64),r=Math.floor(r/64);M(r===0,"Cannot push at time == 0");let d=c.join("");if(o){for(u=11;u>=0&&t[u]===63;u--)t[u]=0;t[u]++}else for(u=0;u<12;u++)t[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)d+=cp.charAt(t[u]);return M(d.length===20,"nextPushId: Length should be 20."),d}}();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,r,o,u){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=u}get key(){return ne(this._path)?null:cm(this._path)}get ref(){return new ur(this._repo,this._path)}get _queryIdentifier(){const t=Qh(this._queryParams),r=Ua(t);return r==="{}"?"default":r}get _queryObject(){return Qh(this._queryParams)}isEqual(t){if(t=Hr(t),!(t instanceof ac))return!1;const r=this._repo===t._repo,o=hm(this._path,t._path),u=this._queryIdentifier===t._queryIdentifier;return r&&o&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+Jw(this._path)}}class ur extends ac{constructor(t,r){super(t,r,new Ka,!1)}get parent(){const t=dm(this._path);return t===null?null:new ur(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}function jE(i,t){return i=Hr(i),i._checkNotDeleted("ref"),xa(i._root,t)}function xa(i,t){return i=Hr(i),te(i._path)===null?yE("child","path",t):Qm("child","path",t),new ur(i._repo,ze(i._path,t))}function bE(i,t){i=Hr(i),qm("push",i._path),Gm("push",t,i._path,!0);const r=Xm(i._repo),o=zE(r),u=xa(i,o),c=xa(i,o);let d;return t!=null?d=UE(c,t).then(()=>c):d=Promise.resolve(c),u.then=d.then.bind(d),u.catch=d.then.bind(d,void 0),u}function UE(i,t){i=Hr(i),qm("set",i._path),Gm("set",t,i._path,!1);const r=new Fo;return RE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}rE(ur);iE(ur);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="FIREBASE_DATABASE_EMULATOR_HOST",Pa={};let WE=!1;function HE(i,t,r,o){i.repoInfo_=new tm(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function $E(i,t,r,o,u){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||an("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Je("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=ap(c,u),p=d.repoInfo,m;typeof process<"u"&&xh&&(m=xh[BE]),m?(c=`http://${m}?ns=${p.namespace}`,d=ap(c,u),p=d.repoInfo):d.repoInfo.secure;const g=new Iw(i.name,i.options,t);vE("Invalid Firebase Database URL",d),ne(d.path)||an("Database URL must point to the root of a Firebase Database (not including a child path).");const S=KE(p,i,g,new Tw(i.name,r));return new GE(S,i)}function VE(i,t){const r=Pa[t];(!r||r[i.key]!==i)&&an(`Database ${t}(${i.repoInfo_}) has already been deleted.`),PE(i),delete r[i.key]}function KE(i,t,r,o){let u=Pa[t.name];u||(u={},Pa[t.name]=u);let c=u[i.toURLString()];return c&&an("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new TE(i,WE,r,o),u[i.toURLString()]=c,c}class GE{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ur(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(VE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&an("Cannot call "+t+" on a deleted database.")}}function QE(i=Jv(),t){const r=Qv(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=zy("database");o&&qE(r,...o)}return r}function qE(i,t,r,o={}){i=Hr(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&an("Cannot call useEmulator() after instance has already been initialized.");const u=i._repoInternal;let c;if(u.repoInfo_.nodeAdmin)o.mockUserToken&&an('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new go(go.OWNER);else if(o.mockUserToken){const d=typeof o.mockUserToken=="string"?o.mockUserToken:jy(o.mockUserToken,i.app.options.projectId);c=new go(d)}HE(u,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){cw(Xv),wo(new $i("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return $E(o,u,c,r)},"PUBLIC").setMultipleInstances(!0)),Lr(Ph,Dh,i),Lr(Ph,Dh,"esm2017")}on.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};on.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};YE();const XE={apiKey:"AIzaSyCNEJDVMHQY8BnaO2ZKkGBQbvoEHXhZBeo",authDomain:"diri-9ed53.firebaseapp.com",databaseURL:"https://diri-9ed53-default-rtdb.firebaseio.com",projectId:"diri-9ed53",storageBucket:"diri-9ed53.firebasestorage.app",messagingSenderId:"710505225558",appId:"1:710505225558:web:a1489ff5c4b458c28b4af7",measurementId:"G-4SMWBK22RK"},JE=zp(XE),ZE=QE(JE);var ia={exports:{}},sa={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function eC(){if(fp)return sa;fp=1;var i=Lo();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:t,o=i.useSyncExternalStore,u=i.useRef,c=i.useEffect,d=i.useMemo,p=i.useDebugValue;return sa.useSyncExternalStoreWithSelector=function(m,g,S,v,I){var O=u(null);if(O.current===null){var A={hasValue:!1,value:null};O.current=A}else A=O.current;O=d(function(){function z(X){if(!re){if(re=!0,se=X,X=v(X),I!==void 0&&A.hasValue){var ce=A.value;if(I(ce,X))return U=ce}return U=X}if(ce=U,r(se,X))return ce;var me=v(X);return I!==void 0&&I(ce,me)?(se=X,ce):(se=X,U=me)}var re=!1,se,U,$=S===void 0?null:S;return[function(){return z(g())},$===null?void 0:function(){return z($())}]},[g,S,v,I]);var V=o(m,O[0],O[1]);return c(function(){A.hasValue=!0,A.value=V},[V]),p(V),V},sa}var dp;function tC(){return dp||(dp=1,ia.exports=eC()),ia.exports}var nC=tC();function rC(i){i()}function iC(){let i=null,t=null;return{clear(){i=null,t=null},notify(){rC(()=>{let r=i;for(;r;)r.callback(),r=r.next})},get(){const r=[];let o=i;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0;const u=t={callback:r,next:null,prev:t};return u.prev?u.prev.next=u:i=u,function(){!o||i===null||(o=!1,u.next?u.next.prev=u.prev:t=u.prev,u.prev?u.prev.next=u.next:i=u.next)}}}}var hp={notify(){},get:()=>[]};function sC(i,t){let r,o=hp,u=0,c=!1;function d(V){S();const z=o.subscribe(V);let re=!1;return()=>{re||(re=!0,z(),v())}}function p(){o.notify()}function m(){A.onStateChange&&A.onStateChange()}function g(){return c}function S(){u++,r||(r=i.subscribe(m),o=iC())}function v(){u--,r&&u===0&&(r(),r=void 0,o.clear(),o=hp)}function I(){c||(c=!0,S())}function O(){c&&(c=!1,v())}const A={addNestedSub:d,notifyNestedSubs:p,handleChangeWrapper:m,isSubscribed:g,trySubscribe:I,tryUnsubscribe:O,getListeners:()=>o};return A}var oC=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lC=oC(),uC=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aC=uC(),cC=()=>lC||aC?Ne.useLayoutEffect:Ne.useEffect,fC=cC(),oa=Symbol.for("react-redux-context"),la=typeof globalThis<"u"?globalThis:{};function dC(){if(!Ne.createContext)return{};const i=la[oa]??(la[oa]=new Map);let t=i.get(Ne.createContext);return t||(t=Ne.createContext(null),i.set(Ne.createContext,t)),t}var Fn=dC();function hC(i){const{children:t,context:r,serverState:o,store:u}=i,c=Ne.useMemo(()=>{const m=sC(u);return{store:u,subscription:m,getServerState:o?()=>o:void 0}},[u,o]),d=Ne.useMemo(()=>u.getState(),[u]);fC(()=>{const{subscription:m}=c;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),d!==u.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[c,d]);const p=r||Fn;return Ne.createElement(p.Provider,{value:c},t)}var pC=hC;function cc(i=Fn){return function(){return Ne.useContext(i)}}var ig=cc();function sg(i=Fn){const t=i===Fn?ig:cc(i),r=()=>{const{store:o}=t();return o};return Object.assign(r,{withTypes:()=>r}),r}var mC=sg();function gC(i=Fn){const t=i===Fn?mC:sg(i),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var _C=gC(),yC=(i,t)=>i===t;function vC(i=Fn){const t=i===Fn?ig:cc(i),r=(o,u={})=>{const{equalityFn:c=yC}=typeof u=="function"?{equalityFn:u}:u,d=t(),{store:p,subscription:m,getServerState:g}=d;Ne.useRef(!0);const S=Ne.useCallback({[o.name](I){return o(I)}}[o.name],[o]),v=nC.useSyncExternalStoreWithSelector(m.addNestedSub,p.getState,g||p.getState,S,c);return Ne.useDebugValue(v),v};return Object.assign(r,{withTypes:()=>r}),r}var xo=vC();function Ve(i){return`Minified Redux error #${i}; visit https://redux.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}var wC=typeof Symbol=="function"&&Symbol.observable||"@@observable",pp=wC,ua=()=>Math.random().toString(36).substring(7).split("").join("."),SC={INIT:`@@redux/INIT${ua()}`,REPLACE:`@@redux/REPLACE${ua()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ua()}`},Po=SC;function fc(i){if(typeof i!="object"||i===null)return!1;let t=i;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(i)===t||Object.getPrototypeOf(i)===null}function og(i,t,r){if(typeof i!="function")throw new Error(Ve(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ve(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ve(1));return r(og)(i,t)}let o=i,u=t,c=new Map,d=c,p=0,m=!1;function g(){d===c&&(d=new Map,c.forEach((z,re)=>{d.set(re,z)}))}function S(){if(m)throw new Error(Ve(3));return u}function v(z){if(typeof z!="function")throw new Error(Ve(4));if(m)throw new Error(Ve(5));let re=!0;g();const se=p++;return d.set(se,z),function(){if(re){if(m)throw new Error(Ve(6));re=!1,g(),d.delete(se),c=null}}}function I(z){if(!fc(z))throw new Error(Ve(7));if(typeof z.type>"u")throw new Error(Ve(8));if(typeof z.type!="string")throw new Error(Ve(17));if(m)throw new Error(Ve(9));try{m=!0,u=o(u,z)}finally{m=!1}return(c=d).forEach(se=>{se()}),z}function O(z){if(typeof z!="function")throw new Error(Ve(10));o=z,I({type:Po.REPLACE})}function A(){const z=v;return{subscribe(re){if(typeof re!="object"||re===null)throw new Error(Ve(11));function se(){const $=re;$.next&&$.next(S())}return se(),{unsubscribe:z(se)}},[pp](){return this}}}return I({type:Po.INIT}),{dispatch:I,subscribe:v,getState:S,replaceReducer:O,[pp]:A}}function EC(i){Object.keys(i).forEach(t=>{const r=i[t];if(typeof r(void 0,{type:Po.INIT})>"u")throw new Error(Ve(12));if(typeof r(void 0,{type:Po.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ve(13))})}function CC(i){const t=Object.keys(i),r={};for(let c=0;c<t.length;c++){const d=t[c];typeof i[d]=="function"&&(r[d]=i[d])}const o=Object.keys(r);let u;try{EC(r)}catch(c){u=c}return function(d={},p){if(u)throw u;let m=!1;const g={};for(let S=0;S<o.length;S++){const v=o[S],I=r[v],O=d[v],A=I(O,p);if(typeof A>"u")throw p&&p.type,new Error(Ve(14));g[v]=A,m=m||A!==O}return m=m||o.length!==Object.keys(d).length,m?g:d}}function Do(...i){return i.length===0?t=>t:i.length===1?i[0]:i.reduce((t,r)=>(...o)=>t(r(...o)))}function kC(...i){return t=>(r,o)=>{const u=t(r,o);let c=()=>{throw new Error(Ve(15))};const d={getState:u.getState,dispatch:(m,...g)=>c(m,...g)},p=i.map(m=>m(d));return c=Do(...p)(u.dispatch),{...u,dispatch:c}}}function TC(i){return fc(i)&&"type"in i&&typeof i.type=="string"}var lg=Symbol.for("immer-nothing"),mp=Symbol.for("immer-draftable"),_t=Symbol.for("immer-state");function zt(i,...t){throw new Error(`[Immer] minified error nr: ${i}. Full error at: https://bit.ly/3cXEKWf`)}var Br=Object.getPrototypeOf;function sr(i){return!!i&&!!i[_t]}function fn(i){var t;return i?ug(i)||Array.isArray(i)||!!i[mp]||!!((t=i.constructor)!=null&&t[mp])||Vo(i)||Ko(i):!1}var IC=Object.prototype.constructor.toString();function ug(i){if(!i||typeof i!="object")return!1;const t=Br(i);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===IC}function Oo(i,t){$o(i)===0?Reflect.ownKeys(i).forEach(r=>{t(r,i[r],i)}):i.forEach((r,o)=>t(o,r,i))}function $o(i){const t=i[_t];return t?t.type_:Array.isArray(i)?1:Vo(i)?2:Ko(i)?3:0}function Da(i,t){return $o(i)===2?i.has(t):Object.prototype.hasOwnProperty.call(i,t)}function ag(i,t,r){const o=$o(i);o===2?i.set(t,r):o===3?i.add(r):i[t]=r}function NC(i,t){return i===t?i!==0||1/i===1/t:i!==i&&t!==t}function Vo(i){return i instanceof Map}function Ko(i){return i instanceof Set}function Jn(i){return i.copy_||i.base_}function Oa(i,t){if(Vo(i))return new Map(i);if(Ko(i))return new Set(i);if(Array.isArray(i))return Array.prototype.slice.call(i);const r=ug(i);if(t===!0||t==="class_only"&&!r){const o=Object.getOwnPropertyDescriptors(i);delete o[_t];let u=Reflect.ownKeys(o);for(let c=0;c<u.length;c++){const d=u[c],p=o[d];p.writable===!1&&(p.writable=!0,p.configurable=!0),(p.get||p.set)&&(o[d]={configurable:!0,writable:!0,enumerable:p.enumerable,value:i[d]})}return Object.create(Br(i),o)}else{const o=Br(i);if(o!==null&&r)return{...i};const u=Object.create(o);return Object.assign(u,i)}}function dc(i,t=!1){return Go(i)||sr(i)||!fn(i)||($o(i)>1&&(i.set=i.add=i.clear=i.delete=RC),Object.freeze(i),t&&Object.entries(i).forEach(([r,o])=>dc(o,!0))),i}function RC(){zt(2)}function Go(i){return Object.isFrozen(i)}var xC={};function or(i){const t=xC[i];return t||zt(0,i),t}var Qi;function cg(){return Qi}function PC(i,t){return{drafts_:[],parent_:i,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gp(i,t){t&&(or("Patches"),i.patches_=[],i.inversePatches_=[],i.patchListener_=t)}function Aa(i){Ma(i),i.drafts_.forEach(DC),i.drafts_=null}function Ma(i){i===Qi&&(Qi=i.parent_)}function _p(i){return Qi=PC(Qi,i)}function DC(i){const t=i[_t];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function yp(i,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return i!==void 0&&i!==r?(r[_t].modified_&&(Aa(t),zt(4)),fn(i)&&(i=Ao(t,i),t.parent_||Mo(t,i)),t.patches_&&or("Patches").generateReplacementPatches_(r[_t].base_,i,t.patches_,t.inversePatches_)):i=Ao(t,r,[]),Aa(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),i!==lg?i:void 0}function Ao(i,t,r){if(Go(t))return t;const o=t[_t];if(!o)return Oo(t,(u,c)=>vp(i,o,t,u,c,r)),t;if(o.scope_!==i)return t;if(!o.modified_)return Mo(i,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const u=o.copy_;let c=u,d=!1;o.type_===3&&(c=new Set(u),u.clear(),d=!0),Oo(c,(p,m)=>vp(i,o,u,p,m,r,d)),Mo(i,u,!1),r&&i.patches_&&or("Patches").generatePatches_(o,r,i.patches_,i.inversePatches_)}return o.copy_}function vp(i,t,r,o,u,c,d){if(sr(u)){const p=c&&t&&t.type_!==3&&!Da(t.assigned_,o)?c.concat(o):void 0,m=Ao(i,u,p);if(ag(r,o,m),sr(m))i.canAutoFreeze_=!1;else return}else d&&r.add(u);if(fn(u)&&!Go(u)){if(!i.immer_.autoFreeze_&&i.unfinalizedDrafts_<1)return;Ao(i,u),(!t||!t.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&Mo(i,u)}}function Mo(i,t,r=!1){!i.parent_&&i.immer_.autoFreeze_&&i.canAutoFreeze_&&dc(t,r)}function OC(i,t){const r=Array.isArray(i),o={type_:r?1:0,scope_:t?t.scope_:cg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:i,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=o,c=hc;r&&(u=[o],c=qi);const{revoke:d,proxy:p}=Proxy.revocable(u,c);return o.draft_=p,o.revoke_=d,p}var hc={get(i,t){if(t===_t)return i;const r=Jn(i);if(!Da(r,t))return AC(i,r,t);const o=r[t];return i.finalized_||!fn(o)?o:o===aa(i.base_,t)?(ca(i),i.copy_[t]=Fa(o,i)):o},has(i,t){return t in Jn(i)},ownKeys(i){return Reflect.ownKeys(Jn(i))},set(i,t,r){const o=fg(Jn(i),t);if(o!=null&&o.set)return o.set.call(i.draft_,r),!0;if(!i.modified_){const u=aa(Jn(i),t),c=u==null?void 0:u[_t];if(c&&c.base_===r)return i.copy_[t]=r,i.assigned_[t]=!1,!0;if(NC(r,u)&&(r!==void 0||Da(i.base_,t)))return!0;ca(i),La(i)}return i.copy_[t]===r&&(r!==void 0||t in i.copy_)||Number.isNaN(r)&&Number.isNaN(i.copy_[t])||(i.copy_[t]=r,i.assigned_[t]=!0),!0},deleteProperty(i,t){return aa(i.base_,t)!==void 0||t in i.base_?(i.assigned_[t]=!1,ca(i),La(i)):delete i.assigned_[t],i.copy_&&delete i.copy_[t],!0},getOwnPropertyDescriptor(i,t){const r=Jn(i),o=Reflect.getOwnPropertyDescriptor(r,t);return o&&{writable:!0,configurable:i.type_!==1||t!=="length",enumerable:o.enumerable,value:r[t]}},defineProperty(){zt(11)},getPrototypeOf(i){return Br(i.base_)},setPrototypeOf(){zt(12)}},qi={};Oo(hc,(i,t)=>{qi[i]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qi.deleteProperty=function(i,t){return qi.set.call(this,i,t,void 0)};qi.set=function(i,t,r){return hc.set.call(this,i[0],t,r,i[0])};function aa(i,t){const r=i[_t];return(r?Jn(r):i)[t]}function AC(i,t,r){var u;const o=fg(t,r);return o?"value"in o?o.value:(u=o.get)==null?void 0:u.call(i.draft_):void 0}function fg(i,t){if(!(t in i))return;let r=Br(i);for(;r;){const o=Object.getOwnPropertyDescriptor(r,t);if(o)return o;r=Br(r)}}function La(i){i.modified_||(i.modified_=!0,i.parent_&&La(i.parent_))}function ca(i){i.copy_||(i.copy_=Oa(i.base_,i.scope_.immer_.useStrictShallowCopy_))}var MC=class{constructor(i){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,o)=>{if(typeof t=="function"&&typeof r!="function"){const c=r;r=t;const d=this;return function(m=c,...g){return d.produce(m,S=>r.call(this,S,...g))}}typeof r!="function"&&zt(6),o!==void 0&&typeof o!="function"&&zt(7);let u;if(fn(t)){const c=_p(this),d=Fa(t,void 0);let p=!0;try{u=r(d),p=!1}finally{p?Aa(c):Ma(c)}return gp(c,o),yp(u,c)}else if(!t||typeof t!="object"){if(u=r(t),u===void 0&&(u=t),u===lg&&(u=void 0),this.autoFreeze_&&dc(u,!0),o){const c=[],d=[];or("Patches").generateReplacementPatches_(t,u,c,d),o(c,d)}return u}else zt(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(d,...p)=>this.produceWithPatches(d,m=>t(m,...p));let o,u;return[this.produce(t,r,(d,p)=>{o=d,u=p}),o,u]},typeof(i==null?void 0:i.autoFreeze)=="boolean"&&this.setAutoFreeze(i.autoFreeze),typeof(i==null?void 0:i.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(i.useStrictShallowCopy)}createDraft(i){fn(i)||zt(8),sr(i)&&(i=LC(i));const t=_p(this),r=Fa(i,void 0);return r[_t].isManual_=!0,Ma(t),r}finishDraft(i,t){const r=i&&i[_t];(!r||!r.isManual_)&&zt(9);const{scope_:o}=r;return gp(o,t),yp(void 0,o)}setAutoFreeze(i){this.autoFreeze_=i}setUseStrictShallowCopy(i){this.useStrictShallowCopy_=i}applyPatches(i,t){let r;for(r=t.length-1;r>=0;r--){const u=t[r];if(u.path.length===0&&u.op==="replace"){i=u.value;break}}r>-1&&(t=t.slice(r+1));const o=or("Patches").applyPatches_;return sr(i)?o(i,t):this.produce(i,u=>o(u,t))}};function Fa(i,t){const r=Vo(i)?or("MapSet").proxyMap_(i,t):Ko(i)?or("MapSet").proxySet_(i,t):OC(i,t);return(t?t.scope_:cg()).drafts_.push(r),r}function LC(i){return sr(i)||zt(10,i),dg(i)}function dg(i){if(!fn(i)||Go(i))return i;const t=i[_t];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Oa(i,t.scope_.immer_.useStrictShallowCopy_)}else r=Oa(i,!0);return Oo(r,(o,u)=>{ag(r,o,dg(u))}),t&&(t.finalized_=!1),r}var yt=new MC,hg=yt.produce;yt.produceWithPatches.bind(yt);yt.setAutoFreeze.bind(yt);yt.setUseStrictShallowCopy.bind(yt);yt.applyPatches.bind(yt);yt.createDraft.bind(yt);yt.finishDraft.bind(yt);function pg(i){return({dispatch:r,getState:o})=>u=>c=>typeof c=="function"?c(r,o,i):u(c)}var FC=pg(),zC=pg,jC=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Do:Do.apply(null,arguments)};function wp(i,t){function r(...o){if(t){let u=t(...o);if(!u)throw new Error(ln(0));return{type:i,payload:u.payload,..."meta"in u&&{meta:u.meta},..."error"in u&&{error:u.error}}}return{type:i,payload:o[0]}}return r.toString=()=>`${i}`,r.type=i,r.match=o=>TC(o)&&o.type===i,r}var mg=class ji extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ji.prototype)}static get[Symbol.species](){return ji}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ji(...t[0].concat(this)):new ji(...t.concat(this))}};function Sp(i){return fn(i)?hg(i,()=>{}):i}function Ep(i,t,r){return i.has(t)?i.get(t):i.set(t,r(t)).get(t)}function bC(i){return typeof i=="boolean"}var UC=()=>function(t){const{thunk:r=!0,immutableCheck:o=!0,serializableCheck:u=!0,actionCreatorCheck:c=!0}=t??{};let d=new mg;return r&&(bC(r)?d.push(FC):d.push(zC(r.extraArgument))),d},BC="RTK_autoBatch",Cp=i=>t=>{setTimeout(t,i)},WC=(i={type:"raf"})=>t=>(...r)=>{const o=t(...r);let u=!0,c=!1,d=!1;const p=new Set,m=i.type==="tick"?queueMicrotask:i.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Cp(10):i.type==="callback"?i.queueNotification:Cp(i.timeout),g=()=>{d=!1,c&&(c=!1,p.forEach(S=>S()))};return Object.assign({},o,{subscribe(S){const v=()=>u&&S(),I=o.subscribe(v);return p.add(S),()=>{I(),p.delete(S)}},dispatch(S){var v;try{return u=!((v=S==null?void 0:S.meta)!=null&&v[BC]),c=!u,c&&(d||(d=!0,m(g))),o.dispatch(S)}finally{u=!0}}})},HC=i=>function(r){const{autoBatch:o=!0}=r??{};let u=new mg(i);return o&&u.push(WC(typeof o=="object"?o:void 0)),u};function $C(i){const t=UC(),{reducer:r=void 0,middleware:o,devTools:u=!0,preloadedState:c=void 0,enhancers:d=void 0}=i;let p;if(typeof r=="function")p=r;else if(fc(r))p=CC(r);else throw new Error(ln(1));let m;typeof o=="function"?m=o(t):m=t();let g=Do;u&&(g=jC({trace:!1,...typeof u=="object"&&u}));const S=kC(...m),v=HC(S);let I=typeof d=="function"?d(v):v();const O=g(...I);return og(p,c,O)}function gg(i){const t={},r=[];let o;const u={addCase(c,d){const p=typeof c=="string"?c:c.type;if(!p)throw new Error(ln(28));if(p in t)throw new Error(ln(29));return t[p]=d,u},addMatcher(c,d){return r.push({matcher:c,reducer:d}),u},addDefaultCase(c){return o=c,u}};return i(u),[t,r,o]}function VC(i){return typeof i=="function"}function KC(i,t){let[r,o,u]=gg(t),c;if(VC(i))c=()=>Sp(i());else{const p=Sp(i);c=()=>p}function d(p=c(),m){let g=[r[m.type],...o.filter(({matcher:S})=>S(m)).map(({reducer:S})=>S)];return g.filter(S=>!!S).length===0&&(g=[u]),g.reduce((S,v)=>{if(v)if(sr(S)){const O=v(S,m);return O===void 0?S:O}else{if(fn(S))return hg(S,I=>v(I,m));{const I=v(S,m);if(I===void 0){if(S===null)return S;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return S},p)}return d.getInitialState=c,d}var GC=Symbol.for("rtk-slice-createasyncthunk");function QC(i,t){return`${i}/${t}`}function qC({creators:i}={}){var r;const t=(r=i==null?void 0:i.asyncThunk)==null?void 0:r[GC];return function(u){const{name:c,reducerPath:d=c}=u;if(!c)throw new Error(ln(11));const p=(typeof u.reducers=="function"?u.reducers(JC()):u.reducers)||{},m=Object.keys(p),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},S={addCase(U,$){const X=typeof U=="string"?U:U.type;if(!X)throw new Error(ln(12));if(X in g.sliceCaseReducersByType)throw new Error(ln(13));return g.sliceCaseReducersByType[X]=$,S},addMatcher(U,$){return g.sliceMatchers.push({matcher:U,reducer:$}),S},exposeAction(U,$){return g.actionCreators[U]=$,S},exposeCaseReducer(U,$){return g.sliceCaseReducersByName[U]=$,S}};m.forEach(U=>{const $=p[U],X={reducerName:U,type:QC(c,U),createNotation:typeof u.reducers=="function"};e0($)?n0(X,$,S,t):ZC(X,$,S)});function v(){const[U={},$=[],X=void 0]=typeof u.extraReducers=="function"?gg(u.extraReducers):[u.extraReducers],ce={...U,...g.sliceCaseReducersByType};return KC(u.initialState,me=>{for(let ge in ce)me.addCase(ge,ce[ge]);for(let ge of g.sliceMatchers)me.addMatcher(ge.matcher,ge.reducer);for(let ge of $)me.addMatcher(ge.matcher,ge.reducer);X&&me.addDefaultCase(X)})}const I=U=>U,O=new Map;let A;function V(U,$){return A||(A=v()),A(U,$)}function z(){return A||(A=v()),A.getInitialState()}function re(U,$=!1){function X(me){let ge=me[U];return typeof ge>"u"&&$&&(ge=z()),ge}function ce(me=I){const ge=Ep(O,$,()=>new WeakMap);return Ep(ge,me,()=>{const Nt={};for(const[Rt,qt]of Object.entries(u.selectors??{}))Nt[Rt]=YC(qt,me,z,$);return Nt})}return{reducerPath:U,getSelectors:ce,get selectors(){return ce(X)},selectSlice:X}}const se={name:c,reducer:V,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:z,...re(d),injectInto(U,{reducerPath:$,...X}={}){const ce=$??d;return U.inject({reducerPath:ce,reducer:V},X),{...se,...re(ce,!0)}}};return se}}function YC(i,t,r,o){function u(c,...d){let p=t(c);return typeof p>"u"&&o&&(p=r()),i(p,...d)}return u.unwrapped=i,u}var XC=qC();function JC(){function i(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return i.withTypes=()=>i,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:i}}function ZC({type:i,reducerName:t,createNotation:r},o,u){let c,d;if("reducer"in o){if(r&&!t0(o))throw new Error(ln(17));c=o.reducer,d=o.prepare}else c=o;u.addCase(i,c).exposeCaseReducer(t,c).exposeAction(t,d?wp(i,d):wp(i))}function e0(i){return i._reducerDefinitionType==="asyncThunk"}function t0(i){return i._reducerDefinitionType==="reducerWithPrepare"}function n0({type:i,reducerName:t},r,o,u){if(!u)throw new Error(ln(18));const{payloadCreator:c,fulfilled:d,pending:p,rejected:m,settled:g,options:S}=r,v=u(i,c,S);o.exposeAction(t,v),d&&o.addCase(v.fulfilled,d),p&&o.addCase(v.pending,p),m&&o.addCase(v.rejected,m),g&&o.addMatcher(v.settled,g),o.exposeCaseReducer(t,{fulfilled:d||mo,pending:p||mo,rejected:m||mo,settled:g||mo})}function mo(){}function ln(i){return`Minified Redux Toolkit error #${i}; visit https://redux-toolkit.js.org/Errors?code=${i} for the full message or use the non-minified dev environment for full errors. `}const r0={items:[{id:1,name:"Hamburguesa de Pollo",quantity:40,desc:"Hamburguesa de pollo frito -  y mayonesa",price:24,image:"Hamburg.jpg"},{id:2,name:"Hamburguesa de Vacuno",quantity:50,desc:"Hamburguesa de Vacuno frito -  con tomate y mayonesa",price:26,image:"Hamburg.jpg"},{id:3,name:"Hamburguesa de Cerdo",quantity:60,desc:"Hamburguesa de Cerdo frito -  con tomate y mayonesa",price:26,image:"Hamburg.jpg"},{id:4,name:"Hamburguesa de Hormiga",quantity:70,desc:"Hamburguesa de Hormiga frita -  con tomate y mayonesa",price:26,image:"Hamburg.jpg"}]},_g=XC({name:"Tienda_Comida",initialState:r0,reducers:{actualizarCantidad:(i,t)=>{const{id:r,quantity:o}=t.payload;return{...i,items:i.items.map(u=>u.id===r?{...u,quantity:o}:u)}}}}),{actualizarCantidad:i0}=_g.actions,s0=_g.reducer;function o0(i){const t=_C(),[r,o]=Ne.useState({timeZone:"",dateTime:""}),[u,c]=Ne.useState(1),[d,p]=Ne.useState(0),m=xo(U=>U.storeComidaRapida.items),g=xo(U=>U.storeComidaRapida.items[i.food-1]);if(g.quantity<=0)throw new Error("Ya no quedan hamburguesas "+g.name+" ,tenemos "+g.quantity+" ahora mismo");const[S,v]=Ne.useState(void 0),[I,O]=Ne.useState(!1),A="Europe/Amsterdam",V=async()=>{const U=m.find($=>$.id===g.id);if(U)try{o(await Ny(A,o,v));const $=U.id,X=U.quantity-u;console.log("ANTES DEL DISPATCH"),t(i0({id:$,quantity:X})),console.log("DESPUES DEL DISPATCH")}catch($){tr.error("Error en fetchData: "+$);return}else tr.warn("No se encontr el item con id: "+g.id)},z=()=>{tr.debug("Entendido el excede"),p(0),O(!1),v(!1)},re=U=>{const $=U.target.value,X=parseInt($,10);isNaN(X)?$===""&&c(0):X<g.quantity-1?(p(0),O(!1),c(X)):(p(X),O(!0))},se=async()=>{let U=null;if(U={fecha:r.dateTime.toString(),id_menu:g.id,nombre_menu:g.name,cantidad:u,precio_total:g.price*u},U){console.log("Pedido listo para enviar:",U);const $=jE(ZE,"pedidos");await bE($,U)}};return Ne.useEffect(()=>{if(S===!1&&r){async function U(){try{O(!1)}catch($){console.error("Error al crear pedido:",$)}}U()}},[se,S,r]),Q.jsxs(Q.Fragment,{children:[S===!0?Q.jsx("p",{children:"Realizando peticin de datos..."}):S===!1&&r?Q.jsxs("div",{children:[Q.jsx("h4",{children:"Pedido realizado"}),Q.jsxs("p",{children:["Hora actual: ",r.dateTime]})]}):S===!1&&!r?Q.jsx("p",{children:"No se pudieron obtener los datos."}):null,I===!0&&Q.jsxs("div",{children:[Q.jsxs("h4",{children:["Excedes la cantidad total de hamburguesas que puedes pedir: ",g.quantity-1,"y estas ingresando ",d]}),Q.jsx("button",{onClick:()=>z(),children:"Entendido"})]}),Q.jsxs("div",{children:[Q.jsx("img",{className:"foodImg",src:kp,alt:g.name}),Q.jsx("h5",{children:"Nombre: "}),Q.jsx("p",{children:g.name}),Q.jsx("h5",{children:"Precio: "}),Q.jsx("p",{children:g.price*u}),Q.jsx("h5",{children:"Cantidad total que se puede pedir: "}),Q.jsx("p",{children:g.quantity-1}),Q.jsx("br",{}),Q.jsxs("div",{children:[Q.jsx("label",{children:"Cantidad a ordenar: "}),Q.jsx("input",{"data-testid":"foodPriceF",type:"number",id:"cantidad",className:"number",value:u,onChange:re,min:"0"}),Q.jsx("button",{onClick:async()=>{await V()},children:"Ordenar"})]}),Q.jsx("button",{onClick:i.onReturnToMenu,children:"Volver al men"})]})]})}class l0 extends vy.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){tr.warn("Error capturado por ErrorBoundary: "+t.message),tr.debug("Detalles del error: "+r.componentStack)}render(){return this.state.hasError?this.props.fallback:this.props.children}}function u0(){const[i,t]=Ne.useState(!1),[r,o]=Ne.useState(),u=xo(p=>p.storeComidaRapida.items),c=()=>{t(!i)},d=p=>{tr.debug("El usuario quiere ordenar: "+p.name),o(p),t(!i)};return Q.jsxs(Q.Fragment,{children:[!i&&Q.jsxs(Q.Fragment,{children:[Q.jsx("h4",{className:"foodTitle",children:"Choose from our Menu"}),Q.jsx("ul",{className:"ulFoods",children:u.map(p=>Q.jsxs("li",{className:"liFoods",onClick:()=>d(p),children:[Q.jsx("img",{className:"foodImg",src:kp,alt:p.name}),Q.jsxs("div",{className:"foodItem",children:[Q.jsx("p",{className:"foodDesc",children:p.desc}),Q.jsxs("p",{"data-testid":"foodPrice",className:"foodPrice",children:[p.price,"$"]})]})]},p.id))})]}),i&&Q.jsx(l0,{fallback:Q.jsx("div",{children:"No nos quedan de esas hamburguesas!"}),children:Q.jsx(o0,{food:r.id,onReturnToMenu:c})})]})}function a0(){const[i,t]=Ne.useState(!1),r=xo(o=>o.storeComidaRapida.items);return Q.jsxs("div",{className:"App",children:[Q.jsx("button",{className:"toggleButton",onClick:()=>t(!i),children:i?"Disponibilidad":"Pedir Comida"}),Q.jsx("h3",{className:"title",children:"Comida Rpida Online"}),!i&&Q.jsxs(Q.Fragment,{children:[Q.jsx("h4",{className:"subTitle",children:"Mens"}),Q.jsx("ul",{className:"ulApp",children:r.map(o=>Q.jsxs("li",{className:"liApp",children:[Q.jsx("p",{children:o.name}),Q.jsxs("p",{children:["#",o.quantity]})]},o.id))})]}),i&&Q.jsx(u0,{})]})}const c0=$C({reducer:{storeComidaRapida:s0}});Ty.createRoot(document.getElementById("root")).render(Q.jsx(Ne.StrictMode,{children:Q.jsx(pC,{store:c0,children:Q.jsx(a0,{})})}));
